"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[377],{7377:(k,u,o)=>{o.r(u),o.d(u,{MetricsPage:()=>y});var h=o(467),p=o(177),m=o(4341),n=o(252),M=o(5079),c=o(5873),v=o(9350),f=o(7707),e=o(4438),d=o(7673),C=o(5312),F=o(1626);let O=(()=>{var i;class l{constructor(r){this.http=r,this.apiUrl=C.c.apiUrl}getSystemMetrics(){const r={performance:{apiLatency:150,errorRate:.5,uptime:99.95,lastDeployment:(new Date).toISOString()},activeUsers:{total:1250,today:450,lastHour:85,thisWeek:850},predictions:{total:25e3,today:1200,accuracy:78.5},storage:{usedSpace:2684354560,totalSize:10737418240,backupStatus:"Success",lastBackup:(new Date).toISOString()}};return(0,d.of)(r)}getRealtimeMetrics(){const r={activeUsers:{total:Math.floor(2e3*Math.random()),lastHour:Math.floor(100*Math.random()),today:Math.floor(1e3*Math.random()),thisWeek:Math.floor(5e3*Math.random())},performance:{apiLatency:120+50*Math.random(),errorRate:.5*Math.random(),uptime:99.95+.1*Math.random(),lastDeployment:(new Date).toISOString()}};return(0,d.of)(r)}getMetricsHistory(r){return(0,d.of)([])}}return(i=l).\u0275fac=function(r){return new(r||i)(e.KVO(F.Qq))},i.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"}),l})(),y=(()=>{var i;class l{constructor(r){this.metricsService=r,this.metrics=null,this.selectedTimeframe="day",this.storageUsagePercentage=0,this.storageUsageColor="success",(0,M.a)({peopleOutline:c.wx_,statsChartOutline:c.IEp,serverOutline:c.WMj,speedometerOutline:c.MrY,cloudUploadOutline:c.Fb6,trendingUpOutline:c.F0Q,trendingDownOutline:c.Cps,alertCircleOutline:c.ndb,checkmarkCircleOutline:c.gz2,timeOutline:c.CVk})}ngOnInit(){this.loadMetrics()}ngOnDestroy(){var r;null===(r=this.metricsSubscription)||void 0===r||r.unsubscribe()}refreshMetrics(r){var t=this;return(0,h.A)(function*(){try{var s;t.metrics=yield function P(i,l){const g="object"==typeof l;return new Promise((r,t)=>{const s=new f.Ms({next:a=>{r(a),s.unsubscribe()},error:t,complete:()=>{g?r(l.defaultValue):t(new v.G)}});i.subscribe(s)})}(t.metricsService.getSystemMetrics()),t.updateStorageMetrics(),null==r||null===(s=r.target)||void 0===s||s.complete()}catch(b){var a;console.error("Error refreshing metrics:",b),null==r||null===(a=r.target)||void 0===a||a.complete()}})()}loadMetrics(){this.metricsSubscription=this.metricsService.getSystemMetrics().subscribe({next:r=>{this.metrics=r,this.updateStorageMetrics()},error:r=>{console.error("Error loading metrics:",r)}})}loadHistoricalData(){this.metricsService.getMetricsHistory(this.selectedTimeframe).subscribe({next:r=>{console.log("Historical data:",r)},error:r=>{console.error("Error loading historical data:",r)}})}updateStorageMetrics(){var r;if(null!==(r=this.metrics)&&void 0!==r&&r.storage){const{usedSpace:t,totalSize:s}=this.metrics.storage;this.storageUsagePercentage=t/s*100,this.storageUsageColor=this.getStorageUsageColor(this.storageUsagePercentage)}}getPerformanceValue(r){var t;return"lastDeployment"===r?0:(null===(t=this.metrics)||void 0===t||null===(t=t.performance)||void 0===t?void 0:t[r])||0}getActiveUsersValue(r){var t;return(null===(t=this.metrics)||void 0===t||null===(t=t.activeUsers)||void 0===t?void 0:t[r])||0}getPredictionsValue(r){var t;return(null===(t=this.metrics)||void 0===t||null===(t=t.predictions)||void 0===t?void 0:t[r])||0}getBackupStatusColor(){var r;switch(null===(r=this.metrics)||void 0===r||null===(r=r.storage)||void 0===r?void 0:r.backupStatus){case"Success":return"success";case"Warning":return"warning";case"Error":return"danger";default:return"medium"}}getStorageUsageColor(r){return r>=90?"danger":r>=70?"warning":"success"}formatBytes(r){if(0===r)return"0 Bytes";const a=Math.floor(Math.log(r)/Math.log(1024));return parseFloat((r/Math.pow(1024,a)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB"][a]}}return(i=l).\u0275fac=function(r){return new(r||i)(e.rXU(O))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-metrics"]],standalone:!0,features:[e.aNF],decls:105,vars:24,consts:[["slot","fixed",3,"ionRefresh"],[1,"metrics-grid","ion-padding"],[1,"metric-card"],["name","speedometer-outline"],[1,"metric-item"],[1,"label"],[1,"value"],[1,"value","success"],["name","people-outline"],["name","stats-chart-outline"],["name","server-outline"],[1,"storage-usage"],[1,"usage-bar"],[3,"value","color"],[1,"usage-text"],[1,"backup-status"],[3,"color"],[1,"metrics-history","ion-padding-horizontal"],[3,"ngModelChange","ionChange","ngModel"],["value","day"],["value","week"],["value","month"],[1,"chart-card"],[1,"chart-placeholder"]],template:function(r,t){1&r&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"System Metrics"),e.k0s()()(),e.j41(4,"ion-content")(5,"ion-refresher",0),e.bIt("ionRefresh",function(a){return t.refreshMetrics(a)}),e.nrm(6,"ion-refresher-content"),e.k0s(),e.j41(7,"div",1)(8,"ion-card",2)(9,"ion-card-header")(10,"ion-card-title"),e.nrm(11,"ion-icon",3),e.EFF(12," System Performance "),e.k0s()(),e.j41(13,"ion-card-content")(14,"div",4)(15,"span",5),e.EFF(16,"API Latency"),e.k0s(),e.j41(17,"span",6),e.EFF(18),e.k0s()(),e.j41(19,"div",4)(20,"span",5),e.EFF(21,"Error Rate"),e.k0s(),e.j41(22,"span",6),e.EFF(23),e.k0s()(),e.j41(24,"div",4)(25,"span",5),e.EFF(26,"Uptime"),e.k0s(),e.j41(27,"span",7),e.EFF(28),e.k0s()()()(),e.j41(29,"ion-card",2)(30,"ion-card-header")(31,"ion-card-title"),e.nrm(32,"ion-icon",8),e.EFF(33," User Activity "),e.k0s()(),e.j41(34,"ion-card-content")(35,"div",4)(36,"span",5),e.EFF(37,"Total Users"),e.k0s(),e.j41(38,"span",6),e.EFF(39),e.k0s()(),e.j41(40,"div",4)(41,"span",5),e.EFF(42,"Active Today"),e.k0s(),e.j41(43,"span",6),e.EFF(44),e.k0s()(),e.j41(45,"div",4)(46,"span",5),e.EFF(47,"Last Hour"),e.k0s(),e.j41(48,"span",6),e.EFF(49),e.k0s()()()(),e.j41(50,"ion-card",2)(51,"ion-card-header")(52,"ion-card-title"),e.nrm(53,"ion-icon",9),e.EFF(54," Predictions "),e.k0s()(),e.j41(55,"ion-card-content")(56,"div",4)(57,"span",5),e.EFF(58,"Total Predictions"),e.k0s(),e.j41(59,"span",6),e.EFF(60),e.k0s()(),e.j41(61,"div",4)(62,"span",5),e.EFF(63,"Today's Predictions"),e.k0s(),e.j41(64,"span",6),e.EFF(65),e.k0s()(),e.j41(66,"div",4)(67,"span",5),e.EFF(68,"Accuracy Rate"),e.k0s(),e.j41(69,"span",7),e.EFF(70),e.k0s()()()(),e.j41(71,"ion-card",2)(72,"ion-card-header")(73,"ion-card-title"),e.nrm(74,"ion-icon",10),e.EFF(75," Storage Status "),e.k0s()(),e.j41(76,"ion-card-content")(77,"div",11)(78,"div",12),e.nrm(79,"ion-progress-bar",13),e.k0s(),e.j41(80,"div",14),e.EFF(81),e.k0s()(),e.j41(82,"div",15)(83,"span",5),e.EFF(84,"Last Backup"),e.k0s(),e.j41(85,"span",6)(86,"ion-badge",16),e.EFF(87),e.k0s(),e.EFF(88),e.nI1(89,"date"),e.k0s()()()()(),e.j41(90,"div",17)(91,"ion-segment",18),e.mxI("ngModelChange",function(a){return e.DH7(t.selectedTimeframe,a)||(t.selectedTimeframe=a),a}),e.bIt("ionChange",function(){return t.loadHistoricalData()}),e.j41(92,"ion-segment-button",19)(93,"ion-label"),e.EFF(94,"24 Hours"),e.k0s()(),e.j41(95,"ion-segment-button",20)(96,"ion-label"),e.EFF(97,"7 Days"),e.k0s()(),e.j41(98,"ion-segment-button",21)(99,"ion-label"),e.EFF(100,"30 Days"),e.k0s()()(),e.j41(101,"ion-card",22)(102,"ion-card-content")(103,"div",23),e.EFF(104," Chart visualization will be implemented with a charting library "),e.k0s()()()()()),2&r&&(e.R7$(17),e.AVh("warning",t.getPerformanceValue("apiLatency")>200),e.R7$(),e.SpI(" ",t.getPerformanceValue("apiLatency").toFixed(0),"ms "),e.R7$(4),e.AVh("error",t.getPerformanceValue("errorRate")>1),e.R7$(),e.SpI(" ",t.getPerformanceValue("errorRate").toFixed(2),"% "),e.R7$(5),e.SpI(" ",t.getPerformanceValue("uptime").toFixed(2),"% "),e.R7$(11),e.JRh(t.getActiveUsersValue("total")),e.R7$(5),e.JRh(t.getActiveUsersValue("today")),e.R7$(5),e.JRh(t.getActiveUsersValue("lastHour")),e.R7$(11),e.JRh(t.getPredictionsValue("total")),e.R7$(5),e.JRh(t.getPredictionsValue("today")),e.R7$(5),e.SpI(" ",t.getPredictionsValue("accuracy"),"% "),e.R7$(9),e.Y8G("value",t.storageUsagePercentage/100)("color",t.storageUsageColor),e.R7$(2),e.Lme(" ",t.formatBytes((null==t.metrics||null==t.metrics.storage?null:t.metrics.storage.usedSpace)||0)," / ",t.formatBytes((null==t.metrics||null==t.metrics.storage?null:t.metrics.storage.totalSize)||0)," "),e.R7$(5),e.Y8G("color",t.getBackupStatusColor()),e.R7$(),e.SpI(" ",(null==t.metrics||null==t.metrics.storage?null:t.metrics.storage.backupStatus)||"N/A"," "),e.R7$(),e.SpI(" ",e.i5U(89,21,null==t.metrics||null==t.metrics.storage?null:t.metrics.storage.lastBackup,"medium")," "),e.R7$(3),e.R50("ngModel",t.selectedTimeframe))},dependencies:[p.MD,p.vh,m.YN,m.BC,m.vS,n.eU,n.ai,n.BC,n.W9,n.b_,n.ME,n.tN,n.I9,n.To,n.Ki,n.In,n.iq,n.Gp,n.eP,n.he,n.FH],styles:["[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: var(--ion-color-light)}.metrics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1rem;margin-bottom:2rem}.metric-card[_ngcontent-%COMP%]{margin:0;border-radius:12px;box-shadow:0 4px 6px #0000001a}.metric-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{padding:1rem}.metric-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;display:flex;align-items:center;gap:.5rem}.metric-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--ion-color-primary)}.metric-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:1rem}.metric-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.metric-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.metric-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--ion-color-medium);font-size:.9rem}.metric-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem;color:var(--ion-color-dark)}.metric-item[_ngcontent-%COMP%]   .value.success[_ngcontent-%COMP%]{color:var(--ion-color-success)}.metric-item[_ngcontent-%COMP%]   .value.warning[_ngcontent-%COMP%]{color:var(--ion-color-warning)}.metric-item[_ngcontent-%COMP%]   .value.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}.storage-usage[_ngcontent-%COMP%]{margin-bottom:1rem}.storage-usage[_ngcontent-%COMP%]   .usage-bar[_ngcontent-%COMP%]{margin-bottom:.5rem}.storage-usage[_ngcontent-%COMP%]   .usage-bar[_ngcontent-%COMP%]   ion-progress-bar[_ngcontent-%COMP%]{height:8px;border-radius:4px;overflow:hidden}.storage-usage[_ngcontent-%COMP%]   .usage-text[_ngcontent-%COMP%]{font-size:.9rem;color:var(--ion-color-medium);text-align:right}.backup-status[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.backup-status[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--ion-color-medium);font-size:.9rem}.backup-status[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.9rem}.backup-status[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{text-transform:capitalize;font-weight:500}.metrics-history[_ngcontent-%COMP%]{margin-bottom:2rem}.metrics-history[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]{margin-bottom:1rem;background:#fff;border-radius:8px;padding:4px}.metrics-history[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]{margin:0;border-radius:12px}.metrics-history[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]{height:300px;display:flex;align-items:center;justify-content:center;color:var(--ion-color-medium);font-style:italic}@media (max-width: 768px){.metrics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.metric-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:1rem}.metric-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1rem}}"]}),l})()}}]);