"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[342,423],{5423:(R,h,s)=>{s.d(h,{f:()=>f});var _=s(467),t=s(4438),i=s(252);let f=(()=>{var u;class p{constructor(m){this.toastController=m}showToast(m){var E=this;return(0,_.A)(function*(v,g="success",k=3e3){const P="error"===g?"danger":g;yield(yield E.toastController.create({message:v,color:P,duration:k,position:"bottom"})).present()}).apply(this,arguments)}}return(u=p).\u0275fac=function(m){return new(m||u)(t.KVO(i.K_))},u.\u0275prov=t.jDH({token:u,factory:u.\u0275fac,providedIn:"root"}),p})()},9342:(R,h,s)=>{s.r(h),s.d(h,{GroupAdminRegisterPage:()=>y});var _=s(467),t=s(4341),i=s(252),f=s(177),u=s(5079),p=s(5873),e=s(4438),m=s(8199),E=s(5423),v=s(8705);function g(l,d){if(1&l&&(e.j41(0,"div",27)(1,"p",28),e.nrm(2,"ion-icon",29),e.EFF(3," At least 8 characters "),e.k0s(),e.j41(4,"p",28),e.nrm(5,"ion-icon",29),e.EFF(6," One uppercase letter "),e.k0s(),e.j41(7,"p",28),e.nrm(8,"ion-icon",29),e.EFF(9," One lowercase letter "),e.k0s(),e.j41(10,"p",28),e.nrm(11,"ion-icon",29),e.EFF(12," One number "),e.k0s(),e.j41(13,"p",28),e.nrm(14,"ion-icon",29),e.EFF(15," One special character "),e.k0s()()),2&l){const n=e.XpG();e.R7$(),e.AVh("met",!(null!=n.passwordErrors&&n.passwordErrors.minLength)),e.R7$(),e.Y8G("name",null!=n.passwordErrors&&n.passwordErrors.minLength?"close-circle":"checkmark-circle"),e.R7$(2),e.AVh("met",!(null!=n.passwordErrors&&n.passwordErrors.uppercase)),e.R7$(),e.Y8G("name",null!=n.passwordErrors&&n.passwordErrors.uppercase?"close-circle":"checkmark-circle"),e.R7$(2),e.AVh("met",!(null!=n.passwordErrors&&n.passwordErrors.lowercase)),e.R7$(),e.Y8G("name",null!=n.passwordErrors&&n.passwordErrors.lowercase?"close-circle":"checkmark-circle"),e.R7$(2),e.AVh("met",!(null!=n.passwordErrors&&n.passwordErrors.number)),e.R7$(),e.Y8G("name",null!=n.passwordErrors&&n.passwordErrors.number?"close-circle":"checkmark-circle"),e.R7$(2),e.AVh("met",!(null!=n.passwordErrors&&n.passwordErrors.specialChar)),e.R7$(),e.Y8G("name",null!=n.passwordErrors&&n.passwordErrors.specialChar?"close-circle":"checkmark-circle")}}function k(l,d){1&l&&e.nrm(0,"ion-spinner")}function P(l,d){1&l&&(e.j41(0,"span"),e.EFF(1,"Complete Registration"),e.k0s())}let y=(()=>{var l;class d{constructor(r,o,a,c,w){this.fb=r,this.route=o,this.router=a,this.toastService=c,this.tokenService=w,this.isLoading=!1,this.token=null,(0,u.a)({checkmarkCircle:p.AUS,closeCircle:p.P0k}),this.registrationForm=this.fb.group({username:[""],firstName:["",[t.k0.required,t.k0.minLength(2)]],lastName:["",[t.k0.required,t.k0.minLength(2)]],email:["",[t.k0.required,t.k0.email]],phone:["",[t.k0.required,t.k0.pattern("^[0-9+\\s-]+$")]],password:["",[t.k0.required,this.passwordValidator()]],confirmPassword:["",[t.k0.required]],securityQuestion1:["",t.k0.required],securityAnswer1:["",t.k0.required],securityQuestion2:["",t.k0.required],securityAnswer2:["",t.k0.required],favoriteTeam:["",t.k0.required]},{validators:this.passwordMatchValidator})}ngOnInit(){if(this.token=this.route.snapshot.queryParamMap.get("token"),console.log("Token from URL:",this.token),!this.token)return console.log("Using mock data for development"),void this.registrationForm.patchValue({email:"test@example.com"});const r=this.tokenService.validateToken(this.token);if(console.log("Token validation result:",r),!r)return console.log("Token validation failed, using mock data"),void this.registrationForm.patchValue({email:"test@example.com"});const o=this.getEmailFromToken(this.token);console.log("Email from token:",o),o&&this.registrationForm.patchValue({email:o})}passwordMatchValidator(r){var o,a;return(null===(o=r.get("password"))||void 0===o?void 0:o.value)===(null===(a=r.get("confirmPassword"))||void 0===a?void 0:a.value)?null:{passwordMismatch:!0}}getEmailFromToken(r){return""}onSubmit(){var r=this;return(0,_.A)(function*(){if(r.registrationForm.valid){r.isLoading=!0;try{yield new Promise(o=>setTimeout(o,1e3)),yield r.toastService.showToast("Registration successful! Please log in.","success"),r.router.navigate(["/auth/login"])}catch{yield r.toastService.showToast("Error during registration. Please try again.","error")}finally{r.isLoading=!1}}})()}get password(){return this.registrationForm.get("password")}get passwordErrors(){if(!this.password)return null;const r=this.password.value;return r?{minLength:r.length<8,uppercase:!/[A-Z]/.test(r),lowercase:!/[a-z]/.test(r),number:!/[0-9]/.test(r),specialChar:!/[!@#$%^&*(),.?":{}|<>]/.test(r)}:null}passwordValidator(){return r=>{const o=r.value;if(!o)return null;const a={};let c=!1;return o.length<8&&(a.minLength=!0,c=!0),/[A-Z]/.test(o)||(a.uppercase=!0,c=!0),/[a-z]/.test(o)||(a.lowercase=!0,c=!0),/[0-9]/.test(o)||(a.number=!0,c=!0),/[!@#$%^&*(),.?":{}|<>]/.test(o)||(a.specialChar=!0,c=!0),c?{passwordRequirements:a}:null}}}return(l=d).\u0275fac=function(r){return new(r||l)(e.rXU(t.ok),e.rXU(m.nX),e.rXU(m.Ix),e.rXU(E.f),e.rXU(v.B))},l.\u0275cmp=e.VBU({type:l,selectors:[["app-group-admin-register"]],standalone:!0,features:[e.aNF],decls:58,vars:13,consts:[[1,"ion-padding"],[1,"flex-center"],[1,"auth-card"],[3,"ngSubmit","formGroup"],[1,"form-section"],["type","text","formControlName","username","placeholder","Username (optional)",3,"clearInput"],["type","text","formControlName","firstName","placeholder","First Name",3,"clearInput"],["type","text","formControlName","lastName","placeholder","Surname",3,"clearInput"],["type","email","formControlName","email","placeholder","Email Address",3,"readonly"],["type","tel","formControlName","phone","placeholder","Phone Number",3,"clearInput"],["type","password","formControlName","password","placeholder","Password"],["class","password-requirements",4,"ngIf"],["type","password","formControlName","confirmPassword","placeholder","Confirm Password"],["formControlName","securityQuestion1","placeholder","Select Security Question 1"],["value","birthCity"],["value","firstPet"],["value","motherMaiden"],["type","text","formControlName","securityAnswer1","placeholder","Answer to Security Question 1",3,"clearInput"],["formControlName","securityQuestion2","placeholder","Select Security Question 2"],["value","schoolName"],["value","favoriteTeam"],["value","childhoodHero"],["type","text","formControlName","securityAnswer2","placeholder","Answer to Security Question 2",3,"clearInput"],["type","text","formControlName","favoriteTeam","placeholder","Favorite Team",3,"clearInput"],[1,"ion-margin-top"],["expand","block","type","submit",3,"disabled"],[4,"ngIf"],[1,"password-requirements"],[1,"requirement"],[3,"name"]],template:function(r,o){1&r&&(e.j41(0,"ion-content",0)(1,"div",1)(2,"ion-card",2)(3,"ion-card-header")(4,"ion-card-title"),e.EFF(5,"Group Admin Registration"),e.k0s()(),e.j41(6,"ion-card-content")(7,"form",3),e.bIt("ngSubmit",function(){return o.onSubmit()}),e.j41(8,"div",4)(9,"h3"),e.EFF(10,"Personal Information"),e.k0s(),e.j41(11,"ion-item"),e.nrm(12,"ion-input",5),e.k0s(),e.j41(13,"ion-item"),e.nrm(14,"ion-input",6),e.k0s(),e.j41(15,"ion-item"),e.nrm(16,"ion-input",7),e.k0s(),e.j41(17,"ion-item"),e.nrm(18,"ion-input",8),e.k0s(),e.j41(19,"ion-item"),e.nrm(20,"ion-input",9),e.k0s()(),e.j41(21,"div",4)(22,"h3"),e.EFF(23,"Security Information"),e.k0s(),e.j41(24,"ion-item"),e.nrm(25,"ion-input",10),e.k0s(),e.DNE(26,g,16,15,"div",11),e.j41(27,"ion-item"),e.nrm(28,"ion-input",12),e.k0s(),e.j41(29,"ion-item")(30,"ion-select",13)(31,"ion-select-option",14),e.EFF(32," What city were you born in? "),e.k0s(),e.j41(33,"ion-select-option",15),e.EFF(34," What was your first pet's name? "),e.k0s(),e.j41(35,"ion-select-option",16),e.EFF(36," What is your mother's maiden name? "),e.k0s()()(),e.j41(37,"ion-item"),e.nrm(38,"ion-input",17),e.k0s(),e.j41(39,"ion-item")(40,"ion-select",18)(41,"ion-select-option",19),e.EFF(42," What was the name of your first school? "),e.k0s(),e.j41(43,"ion-select-option",20),e.EFF(44," What's your favorite football team? "),e.k0s(),e.j41(45,"ion-select-option",21),e.EFF(46," Who was your childhood hero? "),e.k0s()()(),e.j41(47,"ion-item"),e.nrm(48,"ion-input",22),e.k0s()(),e.j41(49,"div",4)(50,"h3"),e.EFF(51,"Player Preferences"),e.k0s(),e.j41(52,"ion-item"),e.nrm(53,"ion-input",23),e.k0s()(),e.j41(54,"div",24)(55,"ion-button",25),e.DNE(56,k,1,0,"ion-spinner",26)(57,P,2,0,"span",26),e.k0s()()()()()()()),2&r&&(e.R7$(7),e.Y8G("formGroup",o.registrationForm),e.R7$(5),e.Y8G("clearInput",!0),e.R7$(2),e.Y8G("clearInput",!0),e.R7$(2),e.Y8G("clearInput",!0),e.R7$(2),e.Y8G("readonly",!0),e.R7$(2),e.Y8G("clearInput",!0),e.R7$(6),e.Y8G("ngIf",null==o.password?null:o.password.touched),e.R7$(12),e.Y8G("clearInput",!0),e.R7$(10),e.Y8G("clearInput",!0),e.R7$(5),e.Y8G("clearInput",!0),e.R7$(2),e.Y8G("disabled",!o.registrationForm.valid||o.isLoading),e.R7$(),e.Y8G("ngIf",o.isLoading),e.R7$(),e.Y8G("ngIf",!o.isLoading))},dependencies:[i.W9,i.b_,i.ME,i.tN,i.I9,i.uz,i.$w,i.Jm,i.w2,i.Nm,i.Ip,i.iq,t.YN,t.qT,t.BC,t.cb,t.X1,t.j4,t.JD,f.bT],styles:[".flex-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100%}.auth-card[_ngcontent-%COMP%]{max-width:600px;width:100%;margin:20px}.form-section[_ngcontent-%COMP%]{margin:20px 0;padding-top:10px;border-top:1px solid var(--ion-color-light)}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--ion-color-medium);font-size:1.1em;margin-bottom:15px}ion-item[_ngcontent-%COMP%]{margin-bottom:10px;--background: transparent}.password-requirements[_ngcontent-%COMP%]{padding:10px 16px;font-size:.9em}.requirement[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:var(--ion-color-danger);margin:4px 0}.requirement.met[_ngcontent-%COMP%]{color:var(--ion-color-success)}.requirement[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.1em}"]}),d})()}}]);