"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[946],{4946:(y,m,r)=>{r.r(m),r.d(m,{PredictionsPage:()=>F});var c=r(4738),d=r(177),_=r(5079),s=r(5873),g=r(4341),e=r(4438),h=r(7570),v=r(4982);function u(i,a){1&i&&(e.j41(0,"ion-card")(1,"ion-card-content")(2,"div",14),e.EFF(3," No predictions submitted for the current gameweek. Visit the Matches tab to make your predictions. "),e.k0s()()())}function f(i,a){if(1&i&&(e.j41(0,"ion-badge",28),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit,n=e.XpG(3);e.R7$(),e.SpI(" LIVE ",n.getMatchTime(t.match)," ")}}function x(i,a){if(1&i&&(e.j41(0,"div",34),e.nrm(1,"ion-icon",35),e.EFF(2),e.k0s()),2&i){const t=e.XpG(2).$implicit,n=e.XpG(3);e.R7$(),e.Y8G("name",n.getStatusIcon(t.status)),e.R7$(),e.SpI(" ",t.points," pts ")}}function P(i,a){if(1&i&&(e.j41(0,"div",29)(1,"div",30)(2,"div",25),e.EFF(3),e.k0s(),e.j41(4,"div",31),e.EFF(5),e.k0s(),e.j41(6,"div",32),e.EFF(7),e.k0s(),e.DNE(8,x,3,2,"div",33),e.k0s()()),2&i){const t=e.XpG().$implicit,n=e.XpG(3);e.R7$(),e.Y8G("ngClass",n.getScoreClass(t.match)),e.R7$(2),e.JRh(n.isMatchFinished(t.match)?"FINAL SCORE":"LIVE SCORE"),e.R7$(2),e.Lme("",(null==t.match.liveScore?null:t.match.liveScore.home)||0," - ",(null==t.match.liveScore?null:t.match.liveScore.away)||0,""),e.R7$(2),e.JRh(n.getMatchTime(t.match)),e.R7$(),e.Y8G("ngIf",n.isMatchFinished(t.match)&&void 0!==t.points)}}function M(i,a){if(1&i&&(e.j41(0,"ion-item")(1,"div",16)(2,"div",17)(3,"div",18),e.EFF(4),e.k0s(),e.j41(5,"div",19),e.nrm(6,"ion-icon",20),e.EFF(7),e.nI1(8,"date"),e.DNE(9,f,2,1,"ion-badge",21),e.k0s()(),e.j41(10,"div",22)(11,"div",23),e.EFF(12),e.k0s(),e.j41(13,"div",24)(14,"div",25),e.EFF(15,"PREDICTION"),e.k0s(),e.EFF(16),e.k0s(),e.j41(17,"div",26),e.EFF(18),e.k0s()(),e.DNE(19,P,9,6,"div",27),e.k0s()()),2&i){const t=a.$implicit,n=e.XpG(3);e.R7$(4),e.JRh(t.match.venue),e.R7$(3),e.SpI(" ",e.i5U(8,8,t.match.kickoff,"EEE d MMM, HH:mm")," "),e.R7$(2),e.Y8G("ngIf",n.isMatchLive(t.match)),e.R7$(3),e.JRh(t.match.homeTeam),e.R7$(4),e.Lme(" ",t.prediction.home," - ",t.prediction.away," "),e.R7$(2),e.JRh(t.match.awayTeam),e.R7$(),e.Y8G("ngIf",null==t.match.liveScore?null:t.match.liveScore.isLive)}}function O(i,a){if(1&i&&(e.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),e.EFF(3),e.k0s()(),e.j41(4,"ion-card-content")(5,"ion-list"),e.DNE(6,M,20,11,"ion-item",15),e.k0s()()()),2&i){const t=e.XpG(2);e.R7$(3),e.SpI("Gameweek ",t.currentGameweek," Predictions"),e.R7$(3),e.Y8G("ngForOf",t.currentPredictions)}}function k(i,a){if(1&i&&(e.j41(0,"div"),e.DNE(1,u,4,0,"ion-card",13)(2,O,7,2,"ion-card",13),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",0===t.currentPredictions.length),e.R7$(),e.Y8G("ngIf",t.currentPredictions.length>0)}}function C(i,a){if(1&i&&(e.j41(0,"ion-card")(1,"ion-card-content")(2,"div",14),e.EFF(3),e.k0s()()()),2&i){const t=e.XpG(2);e.R7$(3),e.SpI(" No predictions found for Gameweek ",t.selectedHistoryGameweek,". ")}}function w(i,a){if(1&i&&(e.j41(0,"ion-item")(1,"div",16)(2,"div",17)(3,"div",18),e.EFF(4),e.k0s(),e.j41(5,"div",19),e.nrm(6,"ion-icon",20),e.EFF(7),e.nI1(8,"date"),e.k0s()(),e.j41(9,"div",22)(10,"div",23),e.EFF(11),e.k0s(),e.j41(12,"div",24)(13,"div",25),e.EFF(14,"PREDICTION"),e.k0s(),e.EFF(15),e.k0s(),e.j41(16,"div",26),e.EFF(17),e.k0s()(),e.j41(18,"div",29)(19,"div",41)(20,"div",25),e.EFF(21,"FINAL SCORE"),e.k0s(),e.j41(22,"div",31),e.EFF(23),e.k0s(),e.j41(24,"div",32),e.EFF(25,"FT"),e.k0s(),e.j41(26,"div",34),e.nrm(27,"ion-icon",35),e.EFF(28),e.k0s()()()()()),2&i){const t=a.$implicit,n=e.XpG(3);e.R7$(4),e.JRh(t.match.venue),e.R7$(3),e.SpI(" ",e.i5U(8,10,t.match.kickoff,"EEE d MMM, HH:mm")," "),e.R7$(4),e.JRh(t.match.homeTeam),e.R7$(4),e.Lme(" ",t.prediction.home," - ",t.prediction.away," "),e.R7$(2),e.JRh(t.match.awayTeam),e.R7$(6),e.Lme("",(null==t.match.finalScore?null:t.match.finalScore.home)||0," - ",(null==t.match.finalScore?null:t.match.finalScore.away)||0,""),e.R7$(4),e.Y8G("name",n.getStatusIcon(t.status)),e.R7$(),e.SpI(" ",t.points," pts ")}}function b(i,a){if(1&i&&(e.j41(0,"ion-card")(1,"ion-card-content")(2,"ion-list"),e.DNE(3,w,29,13,"ion-item",15),e.k0s()()()),2&i){const t=e.XpG(2);e.R7$(3),e.Y8G("ngForOf",t.historicalPredictions)}}function E(i,a){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"div",36)(2,"ion-button",37),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.navigateHistoryGameweek(1))}),e.nrm(3,"ion-icon",38),e.k0s(),e.j41(4,"div",39)(5,"h2"),e.EFF(6),e.k0s()(),e.j41(7,"ion-button",37),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.navigateHistoryGameweek(-1))}),e.nrm(8,"ion-icon",40),e.k0s()(),e.DNE(9,C,4,1,"ion-card",13)(10,b,4,1,"ion-card",13),e.k0s()}if(2&i){const t=e.XpG();e.R7$(2),e.Y8G("disabled",!t.canNavigateHistory("back")),e.R7$(4),e.SpI("Gameweek ",t.selectedHistoryGameweek,""),e.R7$(),e.Y8G("disabled",!t.canNavigateHistory("forward")),e.R7$(2),e.Y8G("ngIf",0===t.historicalPredictions.length),e.R7$(),e.Y8G("ngIf",t.historicalPredictions.length>0)}}let F=(()=>{var i;class a{constructor(n,o){this.router=n,this.mockDataService=o,this.selectedSegment="current",this.currentPredictions=[],this.historicalPredictions=[],this.showNewPredictionsToast=!1,this.selectedHistoryGameweek=14,this.historicalGameweeks=[],(0,_.a)({footballOutline:s.gMr,closeCircleOutline:s.p9N,timeOutline:s.CVk,checkmarkCircleOutline:s.gz2,chevronBackOutline:s.fKZ,chevronForwardOutline:s.N05,personOutline:s.wAZ}),this.currentGameweek=this.mockDataService.getCurrentGameweek()}ionViewWillEnter(){this.loadPredictions(),this.startLiveScoreUpdates()}ionViewWillLeave(){this.liveScoreUpdateInterval&&clearInterval(this.liveScoreUpdateInterval)}loadPredictions(){const n=this.currentPredictions.length;this.currentPredictions=this.mockDataService.getPlayerPredictions(this.currentGameweek),this.historicalGameweeks=this.mockDataService.getAvailableHistoricalGameweeks(),this.historicalGameweeks.length>0&&(this.selectedHistoryGameweek=this.historicalGameweeks[0]),this.updateHistoricalPredictions(),this.currentPredictions.length>n&&n>0&&(this.showNewPredictionsToast=!0)}updateHistoricalPredictions(){this.historicalPredictions=this.mockDataService.getHistoricalPredictions(this.selectedHistoryGameweek)}navigateHistoryGameweek(n){const l=this.historicalGameweeks.indexOf(this.selectedHistoryGameweek)+n;l>=0&&l<this.historicalGameweeks.length&&(this.selectedHistoryGameweek=this.historicalGameweeks[l],this.updateHistoricalPredictions())}canNavigateHistory(n){const o=this.historicalGameweeks.indexOf(this.selectedHistoryGameweek);return"back"===n?o<this.historicalGameweeks.length-1:o>0}getStatusColor(n){switch(n){case"correct":return"success";case"incorrect":return"danger";default:return"warning"}}getStatusIcon(n){switch(n){case"correct":return"checkmark-circle-outline";case"incorrect":return"close-circle-outline";default:return"time-outline"}}startLiveScoreUpdates(){this.liveScoreUpdateInterval=setInterval(()=>{this.updateLiveScores()},6e4),this.updateLiveScores()}updateLiveScores(){this.mockDataService.updateLiveScores(),this.currentPredictions=this.mockDataService.getPlayerPredictions(this.currentGameweek)}getMatchTime(n){return this.mockDataService.getMatchTime(n)}isMatchFinished(n){return this.mockDataService.isMatchFinished(n)}isMatchLive(n){return this.mockDataService.isMatchLive(n)}getScoreClass(n){return this.isMatchFinished(n)?"finished":"live"}navigateTo(n){this.router.navigate([n])}}return(i=a).\u0275fac=function(n){return new(n||i)(e.rXU(h.Ix),e.rXU(v.I))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-predictions"]],standalone:!0,features:[e.aNF],decls:21,vars:4,consts:[[1,"logo-container",3,"click"],["name","football-outline",1,"football-icon"],[1,"logo-text"],[1,"logo-sotd"],[1,"logo-subtitle"],["slot","end"],[3,"click"],["name","person-outline",1,"profile-icon"],[1,"ion-padding"],["message","New predictions loaded!","duration","2000","color","success","position","top","icon","checkmark-circle-outline",3,"isOpen"],[1,"predictions-segment",3,"ngModelChange","ngModel"],["value","current"],["value","history"],[4,"ngIf"],[1,"no-predictions"],[4,"ngFor","ngForOf"],[1,"prediction-item"],[1,"match-info"],[1,"venue-info"],[1,"match-time"],["name","time-outline"],["color","danger","class","live-badge",4,"ngIf"],[1,"teams-score"],[1,"team","home"],[1,"score","prediction"],[1,"score-label"],[1,"team","away"],["class","live-score-container",4,"ngIf"],["color","danger",1,"live-badge"],[1,"live-score-container"],[1,"score",3,"ngClass"],[1,"live-score-value"],[1,"match-minute"],["class","points-badge",4,"ngIf"],[1,"points-badge"],[3,"name"],[1,"gameweek-navigation"],["fill","clear",1,"nav-button",3,"click","disabled"],["slot","icon-only","name","chevron-back-outline"],[1,"gameweek-title"],["slot","icon-only","name","chevron-forward-outline"],[1,"score","finished"]],template:function(n,o){1&n&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"div",0),e.bIt("click",function(){return o.navigateTo("/player/dashboard")}),e.nrm(3,"ion-icon",1),e.j41(4,"div",2)(5,"span",3),e.EFF(6,"SOTD"),e.k0s(),e.j41(7,"span",4),e.EFF(8,"Predict 3"),e.k0s()()(),e.j41(9,"ion-buttons",5)(10,"ion-button",6),e.bIt("click",function(){return o.navigateTo("/player/settings")}),e.nrm(11,"ion-icon",7),e.k0s()()()(),e.j41(12,"ion-content",8),e.nrm(13,"ion-toast",9),e.j41(14,"ion-segment",10),e.mxI("ngModelChange",function(p){return e.DH7(o.selectedSegment,p)||(o.selectedSegment=p),p}),e.j41(15,"ion-segment-button",11),e.EFF(16," My Predictions "),e.k0s(),e.j41(17,"ion-segment-button",12),e.EFF(18," History "),e.k0s()(),e.DNE(19,k,3,2,"div",13)(20,E,11,5,"div",13),e.k0s()),2&n&&(e.R7$(13),e.Y8G("isOpen",o.showNewPredictionsToast),e.R7$(),e.R50("ngModel",o.selectedSegment),e.R7$(5),e.Y8G("ngIf","current"===o.selectedSegment),e.R7$(),e.Y8G("ngIf","history"===o.selectedSegment))},dependencies:[c.eU,c.ai,c.W9,c.b_,c.ME,c.tN,c.I9,c.nf,c.uz,c.In,c.iq,c.Gp,c.eP,c.Jm,c.QW,d.pM,d.bT,d.YU,d.vh,g.YN,g.BC,g.vS,c.op],styles:[".logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px;cursor:pointer;min-height:44px}.logo-container[_ngcontent-%COMP%]   .football-icon[_ngcontent-%COMP%]{font-size:24px;color:var(--ion-color-primary)}.logo-container[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;line-height:1}.logo-container[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]   .logo-sotd[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--ion-color-dark)}.logo-container[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]   .logo-subtitle[_ngcontent-%COMP%]{font-size:12px;color:var(--ion-color-medium)}.stats-card[_ngcontent-%COMP%]{margin-bottom:16px}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;text-align:center}.stat-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px}.stat-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px}.stat-item[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:var(--ion-color-dark)}.stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:14px;color:var(--ion-color-medium)}.predictions-segment[_ngcontent-%COMP%]{margin-bottom:16px;--background: var(--ion-color-light);min-height:48px}.predictions-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{min-height:48px;font-size:16px;font-weight:500}.gameweek-navigation[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;padding:0 8px}.nav-button[_ngcontent-%COMP%]{--padding-start: 12px;--padding-end: 12px;height:48px;width:48px;--color: var(--ion-color-medium);border-radius:50%}.nav-button[disabled][_ngcontent-%COMP%]{opacity:.5}.nav-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:28px}.gameweek-title[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px}.gameweek-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:22px;font-weight:600;color:var(--ion-color-dark)}ion-card[_ngcontent-%COMP%]{margin:0 0 16px;border-radius:12px;box-shadow:0 2px 8px #0000001a}.no-predictions[_ngcontent-%COMP%]{text-align:center;padding:48px 24px;color:var(--ion-color-medium);font-size:18px;line-height:1.5}.prediction-item[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:12px;padding:16px 0}.match-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px}.venue-info[_ngcontent-%COMP%]{font-size:15px;font-weight:500;color:var(--ion-color-dark);text-align:left;line-height:1.3}.match-time[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:14px;color:var(--ion-color-medium);text-align:right;flex-direction:column;align-items:flex-end}.match-time[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.match-time[_ngcontent-%COMP%]   .live-badge[_ngcontent-%COMP%]{margin-top:4px;font-size:12px;font-weight:600;--border-radius: 12px;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.7}to{opacity:1}}.teams-score[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:16px;margin:12px 0;min-height:48px}.team[_ngcontent-%COMP%]{flex:1;font-size:17px;font-weight:600;line-height:1.3;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.team.home[_ngcontent-%COMP%]{text-align:right;padding-right:8px}.team.away[_ngcontent-%COMP%]{text-align:left;padding-left:8px}.live-score-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:12px;padding:0 16px}.score[_ngcontent-%COMP%]{font-size:20px;font-weight:600;min-width:100px;text-align:center;padding:12px 20px;background-color:var(--ion-color-light);border-radius:12px;box-shadow:0 2px 8px #00000014}.score.prediction[_ngcontent-%COMP%]{background-color:var(--ion-color-primary-contrast);border:2px solid var(--ion-color-primary);color:var(--ion-color-primary);margin:0;font-weight:700}.score.live[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(var(--ion-color-danger-rgb),.15),rgba(var(--ion-color-danger-rgb),.08));border:2px solid var(--ion-color-danger);color:var(--ion-color-danger);font-size:18px;min-width:140px;padding:16px 24px;margin:12px 0;box-shadow:0 4px 16px rgba(var(--ion-color-danger-rgb),.2)}.score.live[_ngcontent-%COMP%]   .live-score-value[_ngcontent-%COMP%]{font-size:22px;font-weight:700;margin:6px 0}.score.live[_ngcontent-%COMP%]   .match-minute[_ngcontent-%COMP%]{font-size:15px;color:var(--ion-color-danger);margin-top:4px;font-weight:600}.score.finished[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(var(--ion-color-success-rgb),.15),rgba(var(--ion-color-success-rgb),.08));border:2px solid var(--ion-color-success);color:var(--ion-color-success);font-size:18px;min-width:140px;padding:16px 24px;margin:12px 0;box-shadow:0 4px 16px rgba(var(--ion-color-success-rgb),.2)}.score.finished[_ngcontent-%COMP%]   .live-score-value[_ngcontent-%COMP%]{font-size:22px;font-weight:700;margin:6px 0}.score.finished[_ngcontent-%COMP%]   .match-minute[_ngcontent-%COMP%]{font-size:15px;color:var(--ion-color-success);margin-top:4px;font-weight:600}.score.finished[_ngcontent-%COMP%]   .points-badge[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:6px;margin-top:12px;padding-top:12px;border-top:1px solid rgba(var(--ion-color-success-rgb),.2);font-size:16px;font-weight:700;min-height:32px}.score.finished[_ngcontent-%COMP%]   .points-badge[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;margin-right:2px}.score[_ngcontent-%COMP%]   .score-label[_ngcontent-%COMP%]{font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.8px;margin-bottom:6px;color:inherit;opacity:.8}ion-item[_ngcontent-%COMP%]{--padding-start: 20px;--padding-end: 20px;--padding-top: 16px;--padding-bottom: 16px;--min-height: 80px}ion-item[_ngcontent-%COMP%]:not(:last-child){--border-width: 0 0 1px 0;--border-color: var(--ion-color-light-shade)}@media (max-width: 768px){.teams-score[_ngcontent-%COMP%]{gap:12px}.team[_ngcontent-%COMP%]{font-size:16px;white-space:normal;overflow:visible}.team.home[_ngcontent-%COMP%], .team.away[_ngcontent-%COMP%]{padding:0 4px}.score[_ngcontent-%COMP%]{min-width:90px;padding:10px 16px;font-size:18px}.score.live[_ngcontent-%COMP%], .score.finished[_ngcontent-%COMP%]{min-width:120px;padding:14px 20px}.score.live[_ngcontent-%COMP%]   .live-score-value[_ngcontent-%COMP%], .score.finished[_ngcontent-%COMP%]   .live-score-value[_ngcontent-%COMP%]{font-size:20px}.match-info[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}.match-time[_ngcontent-%COMP%]{flex-direction:row;align-items:center}}"]}),a})()}}]);