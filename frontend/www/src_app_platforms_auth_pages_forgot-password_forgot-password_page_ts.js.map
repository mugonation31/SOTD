{"version":3,"file":"src_app_platforms_auth_pages_forgot-password_forgot-password_page_ts.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAemC;AACkB;AACR;AACN;AAEH;AACa;;;;;;;ICMvCgB,4DAAA,cAAmD;IACjDA,oDAAA,GACF;IAAAA,0DAAA,EAAM;;;;IADJA,uDAAA,EACF;IADEA,gEAAA,MAAAM,MAAA,CAAAC,eAAA,MACF;;;ADkBJ,MAAOC,kBAAkB;EAK7B,IAAIC,SAASA,CAAA;IACX,OAAOC,OAAO,CAAC,IAAI,CAACC,KAAK,IAAI,CAAC,IAAI,CAACJ,eAAe,CAAC;EACrD;EAEAK,YAAoBC,WAAwB,EAAUC,MAAc;IAAhD,KAAAD,WAAW,GAAXA,WAAW;IAAuB,KAAAC,MAAM,GAANA,MAAM;IAR5D,KAAAH,KAAK,GAAG,EAAE;IACV,KAAAJ,eAAe,GAAG,EAAE;IAQlBT,2CAAQ,CAAC;MAAEC,eAAeA,6DAAAA;IAAA,CAAE,CAAC;EAC/B;EAEAgB,aAAaA,CAAA;IACX,MAAMC,YAAY,GAAG,iDAAiD;IAEtE;IACA,IAAI,CAAC,IAAI,CAACL,KAAK,IAAI,IAAI,CAACA,KAAK,CAACM,IAAI,EAAE,KAAK,EAAE,EAAE;MAC3C,IAAI,CAACV,eAAe,GAAG,mBAAmB;IAC5C,CAAC,MAAM,IAAI,CAACS,YAAY,CAACE,IAAI,CAAC,IAAI,CAACP,KAAK,CAAC,EAAE;MACzC,IAAI,CAACJ,eAAe,GAAG,oCAAoC;IAC7D,CAAC,MAAM;MACL,IAAI,CAACA,eAAe,GAAG,EAAE;IAC3B;EACF;EAEAY,YAAYA,CAAA;IACV;IACA;IACA,IAAI,IAAI,CAACC,iBAAiB,EAAE;MAC1BC,YAAY,CAAC,IAAI,CAACD,iBAAiB,CAAC;IACtC;IACA,IAAI,CAACA,iBAAiB,GAAGE,UAAU,CAAC,MAAK;MACvC,IAAI,CAACP,aAAa,EAAE;IACtB,CAAC,EAAE,EAAE,CAAC;EACR;EAEAQ,WAAWA,CAAA;IACT;IACA,IAAI,CAACR,aAAa,EAAE;EACtB;EAEMS,QAAQA,CAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,+IAAA;MACZ;MACAD,KAAI,CAACV,aAAa,EAAE;MAEpB,IAAI,CAACU,KAAI,CAAChB,SAAS,EAAE;QACnB;MACF;MAEA,IAAI;QACF,MAAM;UAAEkB;QAAK,CAAE,SAASF,KAAI,CAACZ,WAAW,CAACe,aAAa,CAACH,KAAI,CAACd,KAAK,CAAC;QAClE,IAAIgB,KAAK,EAAE;UACTF,KAAI,CAAClB,eAAe,GAAG,+CAA+C;UACtEsB,OAAO,CAACF,KAAK,CAAC,cAAc,EAAEA,KAAK,CAACG,OAAO,CAAC;QAC9C,CAAC,MAAM;UACLC,KAAK,CAAC,6CAA6C,CAAC;UACpDN,KAAI,CAACX,MAAM,CAACkB,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QACpC;MACF,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZJ,OAAO,CAACF,KAAK,CAAC,mBAAmB,EAAEM,GAAG,CAAC;QACvCR,KAAI,CAAClB,eAAe,GAAG,+CAA+C;MACxE;IAAC;EACH;EAEA2B,iBAAiBA,CAAA;IACf,IAAI,CAACpB,MAAM,CAACkB,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC;EACpC;;sBAnEWxB,kBAAkB;;mCAAlBA,mBAAkB,EAAAR,+DAAA,CAAAoC,oEAAA,GAAApC,+DAAA,CAAAsC,mDAAA;AAAA;;QAAlB9B,mBAAkB;EAAAgC,SAAA;EAAAC,UAAA;EAAAC,QAAA,GAAA1C,iEAAA;EAAA4C,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,4BAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MC7C3BjD,4DAFJ,iBAAY,kBACG,aAC+C;MAA9BA,wDAAA,mBAAAoD,iDAAA;QAAA,OAASF,GAAA,CAAAhB,iBAAA,EAAmB;MAAA,EAAC;MACvDlC,uDAAA,kBAAmE;MAEjEA,4DADF,aAAuB,cACG;MAAAA,oDAAA,WAAI;MAAAA,0DAAA,EAAO;MACnCA,4DAAA,cAA4B;MAAAA,oDAAA,gBAAS;MAI7CA,0DAJ6C,EAAO,EACxC,EACF,EACM,EACH;MAMLA,4DAJR,qBAAiC,mBACH,wBACR,cACS,UACnB;MAAAA,oDAAA,wBAAgB;MAAAA,0DAAA,EAAK;MACzBA,4DAAA,SAAG;MAAAA,oDAAA,+CAAuC;MAC5CA,0DAD4C,EAAI,EAC1C;MAENA,4DAAA,eAA8B;MAAxBA,wDAAA,sBAAAsD,sDAAA;QAAA,OAAYJ,GAAA,CAAA1B,QAAA,EAAU;MAAA,EAAC;MAGvBxB,4DAFJ,mBAA4B,gBAChB,qBAEmE;MAD5CA,8DAAA,2BAAAwD,gEAAAC,MAAA;QAAAzD,gEAAA,CAAAkD,GAAA,CAAAvC,KAAA,EAAA8C,MAAA,MAAAP,GAAA,CAAAvC,KAAA,GAAA8C,MAAA;QAAA,OAAAA,MAAA;MAAA,EAAmB;MAA0BzD,wDAAzB,mBAAA2D,wDAAA;QAAA,OAAST,GAAA,CAAA/B,YAAA,EAAc;MAAA,EAAC,qBAAAyC,0DAAA;QAAA,OAAYV,GAAA,CAAA3B,WAAA,EAAa;MAAA,EAAC;MAGvGvB,0DADE,EAAY,EACH;MACXA,wDAAA,KAAA8D,kCAAA,kBAAmD;MAGrD9D,0DAAA,EAAW;MAGTA,4DADF,eAA0B,sBACyC;MAC/DA,oDAAA,yBACF;MACFA,0DADE,EAAa,EACT;MAIFA,4DAFJ,eAAyB,eACA,oBACI;MACvBA,oDAAA,iCACA;MAAAA,4DAAA,aAA4B;MAAAA,oDAAA,aAAK;MAO/CA,0DAP+C,EAAI,EAC5B,EACP,EACF,EACD,EACU,EACV,EACC;;;MAzBAA,uDAAA,IAAqC;MAArCA,yDAAA,gBAAAkD,GAAA,CAAA3C,eAAA,CAAqC;MADRP,8DAAA,YAAAkD,GAAA,CAAAvC,KAAA,CAAmB;MAI9CX,uDAAA,EAAqB;MAArBA,wDAAA,SAAAkD,GAAA,CAAA3C,eAAA,CAAqB;MAMcP,uDAAA,GAAuB;MAAvBA,wDAAA,cAAAkD,GAAA,CAAAzC,SAAA,CAAuB;;;iBDJtEzB,gEAAS,EACTC,iEAAU,EAEVC,iEAAU,EACVC,+DAAQ,EACRC,gEAAS,EACTC,8DAAO,EACPC,8DAAO,EACPC,8DAAO,EACPC,qEAAc,EACdC,8DAAO,EAEPC,8DAAO,EACPC,uDAAU,EACVC,uDAAW,EAAAsE,4DAAA,EAAAA,2DAAA,EAAAA,gEAAA,EAAAA,6DAAA,EAAAA,mDAAA,EAAAA,kDAAA,EACXrE,iDAAI;EAAA4E,MAAA;AAAA,G","sources":["./src/app/platforms/auth/pages/forgot-password/forgot-password.page.ts","./src/app/platforms/auth/pages/forgot-password/forgot-password.page.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport {\r\n  IonHeader,\r\n  IonToolbar,\r\n  IonTitle,\r\n  IonContent,\r\n  IonInput,\r\n  IonButton,\r\n  IonItem,\r\n  IonList,\r\n  IonCard,\r\n  IonCardContent,\r\n  IonText,\r\n  IonNote,\r\n  IonIcon,\r\n} from '@ionic/angular/standalone';\r\nimport { Router, RouterLink } from '@angular/router';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { NgIf } from '@angular/common';\r\nimport { AuthService } from '../../../../core/services/auth.service';\r\nimport { addIcons } from 'ionicons';\r\nimport { footballOutline } from 'ionicons/icons';\r\n\r\n@Component({\r\n  selector: 'app-forgot-password',\r\n  templateUrl: './forgot-password.page.html',\r\n  styleUrls: ['./forgot-password.page.scss'],\r\n  standalone: true,\r\n  imports: [\r\n    IonHeader,\r\n    IonToolbar,\r\n    IonTitle,\r\n    IonContent,\r\n    IonInput,\r\n    IonButton,\r\n    IonItem,\r\n    IonList,\r\n    IonCard,\r\n    IonCardContent,\r\n    IonText,\r\n    IonNote,\r\n    IonIcon,\r\n    RouterLink,\r\n    FormsModule,\r\n    NgIf,\r\n  ],\r\n})\r\nexport class ForgotPasswordPage {\r\n  email = '';\r\n  validationError = '';\r\n  private validationTimeout: any;\r\n\r\n  get canSubmit(): boolean {\r\n    return Boolean(this.email && !this.validationError);\r\n  }\r\n\r\n  constructor(private authService: AuthService, private router: Router) {\r\n    addIcons({ footballOutline });\r\n  }\r\n\r\n  validateEmail() {\r\n    const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/;\r\n\r\n    // Clear previous error when user starts typing\r\n    if (!this.email || this.email.trim() === '') {\r\n      this.validationError = 'Email is required';\r\n    } else if (!emailPattern.test(this.email)) {\r\n      this.validationError = 'Please enter a valid email address';\r\n    } else {\r\n      this.validationError = '';\r\n    }\r\n  }\r\n\r\n  onEmailInput() {\r\n    // Trigger validation on every input change with minimal delay for better UX\r\n    // Clear any existing timeout to prevent multiple validations\r\n    if (this.validationTimeout) {\r\n      clearTimeout(this.validationTimeout);\r\n    }\r\n    this.validationTimeout = setTimeout(() => {\r\n      this.validateEmail();\r\n    }, 10);\r\n  }\r\n\r\n  onEmailBlur() {\r\n    // Trigger validation when user clicks outside the field\r\n    this.validateEmail();\r\n  }\r\n\r\n  async onSubmit() {\r\n    // Validate email before submission\r\n    this.validateEmail();\r\n\r\n    if (!this.canSubmit) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const { error } = await this.authService.resetPassword(this.email);\r\n      if (error) {\r\n        this.validationError = 'Failed to send reset email. Please try again.';\r\n        console.error('Reset error:', error.message);\r\n      } else {\r\n        alert('Check your inbox for a password reset link!');\r\n        this.router.navigate(['/login']); // Adjust if you want a different redirect\r\n      }\r\n    } catch (err) {\r\n      console.error('Unexpected error:', err);\r\n      this.validationError = 'Something went wrong. Please try again later.';\r\n    }\r\n  }\r\n\r\n  navigateToWelcome() {\r\n    this.router.navigate(['/welcome']);\r\n  }\r\n}\r\n","<ion-header>\n  <ion-toolbar>\n    <div class=\"logo-container\" (click)=\"navigateToWelcome()\">\n      <ion-icon name=\"football-outline\" class=\"football-icon\"></ion-icon>\n      <div class=\"logo-text\">\n        <span class=\"logo-sotd\">SOTD</span>\n        <span class=\"logo-subtitle\">Predict 3</span>\n      </div>\n    </div>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n  <ion-card class=\"auth-card\">\n    <ion-card-content>\n      <div class=\"auth-header\">\n        <h1>Forgot Password?</h1>\n        <p>Enter your email to reset your password</p>\n      </div>\n\n      <form (ngSubmit)=\"onSubmit()\">\n        <ion-list class=\"auth-form\">\n          <ion-item>\n            <ion-input placeholder=\"Email\" [(ngModel)]=\"email\" (input)=\"onEmailInput()\" (ionBlur)=\"onEmailBlur()\"\n              [class.ion-invalid]=\"validationError\" name=\"email\" required type=\"email\">\n            </ion-input>\n          </ion-item>\n          <div *ngIf=\"validationError\" class=\"error-message\">\n            {{ validationError }}\n          </div>\n        </ion-list>\n\n        <div class=\"auth-actions\">\n          <ion-button expand=\"block\" type=\"submit\" [disabled]=\"!canSubmit\">\n            Send Reset Link\n          </ion-button>\n        </div>\n\n        <div class=\"auth-footer\">\n          <div class=\"auth-link\">\n            <ion-text color=\"medium\">\n              Remember your password?\n              <a routerLink=\"/auth/login\">Login</a>\n            </ion-text>\n          </div>\n        </div>\n      </form>\n    </ion-card-content>\n  </ion-card>\n</ion-content>"],"names":["IonHeader","IonToolbar","IonContent","IonInput","IonButton","IonItem","IonList","IonCard","IonCardContent","IonText","IonIcon","RouterLink","FormsModule","NgIf","addIcons","footballOutline","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r0","validationError","ForgotPasswordPage","canSubmit","Boolean","email","constructor","authService","router","validateEmail","emailPattern","trim","test","onEmailInput","validationTimeout","clearTimeout","setTimeout","onEmailBlur","onSubmit","_this","_asyncToGenerator","error","resetPassword","console","message","alert","navigate","err","navigateToWelcome","ɵɵdirectiveInject","i1","AuthService","i2","Router","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","ForgotPasswordPage_Template","rf","ctx","ɵɵlistener","ForgotPasswordPage_Template_div_click_2_listener","ɵɵelement","ForgotPasswordPage_Template_form_ngSubmit_17_listener","ɵɵtwoWayListener","ForgotPasswordPage_Template_ion_input_ngModelChange_20_listener","$event","ɵɵtwoWayBindingSet","ForgotPasswordPage_Template_ion_input_input_20_listener","ForgotPasswordPage_Template_ion_input_ionBlur_20_listener","ɵɵtemplate","ForgotPasswordPage_div_21_Template","ɵɵclassProp","ɵɵtwoWayProperty","ɵɵproperty","i3","ɵNgNoValidate","NgControlStatus","NgControlStatusGroup","RequiredValidator","NgModel","NgForm","styles"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}