"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[853],{7853:(O,c,a)=>{a.r(c),a.d(c,{GroupLeaderboardPage:()=>P});var r=a(4738),g=a(177),h=a(5079),s=a(5873),o=a(4438),u=a(7570),b=a(1529),m=a(9699);function _(n,l){1&n&&(o.j41(0,"div",12),o.nrm(1,"ion-icon",13),o.j41(2,"span"),o.EFF(3,"Season not started - Players listed alphabetically"),o.k0s()())}function v(n,l){if(1&n&&(o.j41(0,"div",14)(1,"div",5),o.EFF(2),o.k0s(),o.j41(3,"div",6),o.EFF(4),o.k0s(),o.j41(5,"div",7),o.EFF(6),o.k0s(),o.j41(7,"div",8),o.EFF(8),o.k0s(),o.j41(9,"div",9),o.EFF(10),o.k0s()()),2&n){const i=l.$implicit;o.R7$(2),o.JRh(i.position),o.R7$(2),o.JRh(i.name),o.R7$(2),o.JRh(i.played),o.R7$(2),o.SpI("",i.jokerUsed,"/2"),o.R7$(2),o.JRh(i.totalPoints)}}let P=(()=>{var n;class l{constructor(e,t,p,d){this.route=e,this.seasonService=t,this.router=p,this.groupService=d,this.groupId="",this.groupName="",this.leaderboard=[],this.sortedLeaderboard=[],(0,h.a)({trophyOutline:s.NhD,arrowUpOutline:s.Tiw,arrowDownOutline:s.MVx,removeOutline:s.pqs,footballOutline:s.gMr,timeOutline:s.CVk,chevronBackOutline:s.fKZ})}ngOnInit(){this.route.params.subscribe(e=>{this.groupId=e.id,this.loadGroupData()}),this.groupsSubscription=this.groupService.groups$.subscribe(()=>{this.loadGroupData()})}ngOnDestroy(){this.groupsSubscription&&this.groupsSubscription.unsubscribe()}loadGroupData(){const t=this.groupService.getAllGroups().find(p=>p.id===this.groupId);if(t){this.groupName=t.name;const p=this.groupService.getGroupLeaderboard(this.groupId);this.leaderboard=p.map(d=>({position:d.position,name:d.name,played:d.played,jokerUsed:d.jokerUsed,totalPoints:d.totalPoints})),this.sortLeaderboard()}else this.router.navigate(["/group-admin/groups"])}sortLeaderboard(){this.sortedLeaderboard=this.seasonService.isSeasonStarted()?[...this.leaderboard].sort((e,t)=>t.totalPoints-e.totalPoints):[...this.leaderboard].sort((e,t)=>e.name.localeCompare(t.name)),this.sortedLeaderboard=this.sortedLeaderboard.map((e,t)=>({...e,position:t+1}))}goBack(){this.router.navigate(["/group-admin/groups"])}}return(n=l).\u0275fac=function(e){return new(e||n)(o.rXU(u.nX),o.rXU(b.z),o.rXU(u.Ix),o.rXU(m.B))},n.\u0275cmp=o.VBU({type:n,selectors:[["app-group-leaderboard"]],standalone:!0,features:[o.aNF],decls:26,vars:3,consts:[["slot","start"],["text","Groups","defaultHref","/group-admin/groups"],[1,"ion-padding"],["class","season-info",4,"ngIf"],[1,"table-header"],[1,"position-col"],[1,"name-col"],[1,"gameweek-col"],[1,"joker-col"],[1,"points-col"],[1,"table-body"],["class","table-row",4,"ngFor","ngForOf"],[1,"season-info"],["name","information-circle-outline"],[1,"table-row"]],template:function(e,t){1&e&&(o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),o.nrm(3,"ion-back-button",1),o.k0s(),o.j41(4,"ion-title"),o.EFF(5),o.k0s()()(),o.j41(6,"ion-content",2)(7,"ion-card")(8,"ion-card-header")(9,"ion-card-title"),o.EFF(10,"Current Standings"),o.k0s(),o.DNE(11,_,4,0,"div",3),o.k0s(),o.j41(12,"ion-card-content")(13,"div",4)(14,"div",5),o.EFF(15,"Position"),o.k0s(),o.j41(16,"div",6),o.EFF(17,"Name"),o.k0s(),o.j41(18,"div",7),o.EFF(19,"Game Week"),o.k0s(),o.j41(20,"div",8),o.EFF(21,"Played Joker"),o.k0s(),o.j41(22,"div",9),o.EFF(23,"Points"),o.k0s()(),o.j41(24,"div",10),o.DNE(25,v,11,5,"div",11),o.k0s()()()()),2&e&&(o.R7$(5),o.SpI("",t.groupName," Leaderboard"),o.R7$(6),o.Y8G("ngIf",!t.seasonService.isSeasonStarted()),o.R7$(14),o.Y8G("ngForOf",t.sortedLeaderboard))},dependencies:[r.eU,r.ai,r.BC,r.W9,r.b_,r.ME,r.tN,r.I9,r.iq,r.el,r.QW,g.pM,g.bT],styles:[".table-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:80px 1fr 100px 100px 80px;padding:12px 16px;background:var(--ion-color-light);font-weight:600;border-bottom:2px solid var(--ion-color-medium);gap:16px}.table-body[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:80px 1fr 100px 100px 80px;padding:12px 16px;border-bottom:1px solid var(--ion-color-light);gap:16px;align-items:center}.table-body[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:hover{background:var(--ion-color-light-tint)}.position-col[_ngcontent-%COMP%]{font-weight:600}.name-col[_ngcontent-%COMP%]{font-weight:500}.gameweek-col[_ngcontent-%COMP%], .joker-col[_ngcontent-%COMP%]{text-align:center}.points-col[_ngcontent-%COMP%]{text-align:right;font-weight:600;color:var(--ion-color-primary)}.season-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-top:8px;color:var(--ion-color-medium);font-size:.9rem}.season-info[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.2rem}ion-back-button[_ngcontent-%COMP%]{display:block;--color: var(--ion-color-primary);--icon-font-size: 24px;--padding-start: 0}"]}),l})()}}]);