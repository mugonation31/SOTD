"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[394],{6394:(f,m,s)=>{s.r(m),s.d(m,{SuperAdminLoginPage:()=>M});var i=s(4341),c=s(7570),t=s(4738),h=s(177),n=s(4438),p=s(8010);const P=()=>["/super-admin/register"];function C(a,g){1&a&&(n.j41(0,"ion-note",15),n.EFF(1," Email is required "),n.k0s())}function O(a,g){1&a&&(n.j41(0,"ion-note",15),n.EFF(1," Password is required "),n.k0s())}let M=(()=>{var a;class g{constructor(r,e,o){this.fb=r,this.authService=e,this.router=o,this.isLoading=!1,this.loginForm=this.fb.group({email:["",[i.k0.required,i.k0.email]],password:["",[i.k0.required]]})}ngOnInit(){console.log("\u{1f50d} Super Admin Login Page - Current Auth State:"),console.log("isAuthenticated:",this.authService.isAuthenticated()),console.log("isSuperAdmin:",this.authService.isSuperAdmin()),console.log("currentUser:",this.authService.getCurrentUser())}debugAuthState(){console.log("\u{1f50d} Debug Auth State Called:"),this.authService.debugAuthState()}onSubmit(){if(this.loginForm.valid){var r,e;this.isLoading=!0;const o={email:null===(r=this.loginForm.get("email"))||void 0===r?void 0:r.value,password:null===(e=this.loginForm.get("password"))||void 0===e?void 0:e.value,securityQuestion:"",securityAnswer:""};localStorage.setItem(`pendingRole_${o.email}`,"super-admin"),localStorage.setItem(`pendingUsername_${o.email}`,"SuperAdmin"),localStorage.setItem(`pendingFirstName_${o.email}`,"Super"),localStorage.setItem(`pendingLastName_${o.email}`,"Admin"),this.authService.login(o).subscribe({next:l=>{console.log("Super admin login successful:",l),this.router.navigate(["/super-admin/dashboard"]),this.isLoading=!1},error:l=>{console.error("Super admin login failed:",l),this.isLoading=!1}})}}}return(a=g).\u0275fac=function(r){return new(r||a)(n.rXU(i.ok),n.rXU(p.u),n.rXU(c.Ix))},a.\u0275cmp=n.VBU({type:a,selectors:[["app-super-admin-login"]],standalone:!0,features:[n.aNF],decls:31,vars:11,consts:[[1,"ion-padding"],[1,"auth-card"],[1,"auth-header"],[3,"ngSubmit","formGroup"],[1,"auth-form"],["type","email","formControlName","email","placeholder","Email"],["slot","error",4,"ngIf"],["type","password","formControlName","password","placeholder","Password"],[1,"auth-actions"],["expand","block","type","submit",3,"disabled"],["expand","block","fill","outline","color","warning",3,"click"],[1,"auth-footer"],[1,"auth-link"],["color","medium"],[3,"routerLink"],["slot","error"]],template:function(r,e){if(1&r&&(n.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),n.EFF(3,"Super Admin Login"),n.k0s()()(),n.j41(4,"ion-content",0)(5,"ion-card",1)(6,"ion-card-content")(7,"div",2)(8,"h1"),n.EFF(9,"Super Admin Access"),n.k0s(),n.j41(10,"p"),n.EFF(11,"Login to manage the system"),n.k0s()(),n.j41(12,"form",3),n.bIt("ngSubmit",function(){return e.onSubmit()}),n.j41(13,"ion-list",4)(14,"ion-item"),n.nrm(15,"ion-input",5),n.DNE(16,C,2,0,"ion-note",6),n.k0s(),n.j41(17,"ion-item"),n.nrm(18,"ion-input",7),n.DNE(19,O,2,0,"ion-note",6),n.k0s()(),n.j41(20,"div",8)(21,"ion-button",9),n.EFF(22),n.k0s(),n.j41(23,"ion-button",10),n.bIt("click",function(){return e.debugAuthState()}),n.EFF(24," Debug Auth State "),n.k0s()(),n.j41(25,"div",11)(26,"div",12)(27,"ion-text",13),n.EFF(28," Need to register as Super Admin? "),n.j41(29,"a",14),n.EFF(30,"Register"),n.k0s()()()()()()()()),2&r){let o,l,d,u;n.R7$(12),n.Y8G("formGroup",e.loginForm),n.R7$(3),n.AVh("ion-invalid",(null==(o=e.loginForm.get("email"))?null:o.touched)&&(null==(o=e.loginForm.get("email"))?null:o.errors)),n.R7$(),n.Y8G("ngIf",(null==(l=e.loginForm.get("email"))?null:l.touched)&&(null==(l=e.loginForm.get("email"))||null==l.errors?null:l.errors.required)),n.R7$(2),n.AVh("ion-invalid",(null==(d=e.loginForm.get("password"))?null:d.touched)&&(null==(d=e.loginForm.get("password"))?null:d.errors)),n.R7$(),n.Y8G("ngIf",(null==(u=e.loginForm.get("password"))?null:u.touched)&&(null==(u=e.loginForm.get("password"))||null==u.errors?null:u.errors.required)),n.R7$(2),n.Y8G("disabled",e.loginForm.invalid||e.isLoading),n.R7$(),n.SpI(" ",e.isLoading?"Logging in...":"Login"," "),n.R7$(7),n.Y8G("routerLink",n.lJ4(10,P))}},dependencies:[h.MD,h.bT,i.X1,i.qT,i.BC,i.cb,i.j4,i.JD,c.Wk,t.eU,t.ai,t.BC,t.W9,t.$w,t.Jm,t.uz,t.nf,t.b_,t.I9,t.IO,t.JI],styles:["[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: var(--ion-color-light)}[_nghost-%COMP%]   .auth-card[_ngcontent-%COMP%]{max-width:500px;margin:2rem auto;border-radius:16px;box-shadow:0 4px 12px #0000001a}[_nghost-%COMP%]   .auth-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}[_nghost-%COMP%]   .auth-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-bottom:.5rem;color:var(--ion-color-dark)}[_nghost-%COMP%]   .auth-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium);margin:0}[_nghost-%COMP%]   .auth-form[_ngcontent-%COMP%]{background:transparent;margin-bottom:1.5rem}[_nghost-%COMP%]   .auth-form[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: transparent;--border-color: rgba(0, 0, 0, .1);--border-width: 1px;--border-style: solid;--border-radius: 4px;--padding-start: 12px;margin-bottom:1rem}[_nghost-%COMP%]   .auth-form[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--padding-start: 8px;font-size:1rem}[_nghost-%COMP%]   .auth-actions[_ngcontent-%COMP%]{margin-bottom:1.5rem}[_nghost-%COMP%]   .auth-actions[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0;height:48px;--border-radius: 4px;font-weight:600}[_nghost-%COMP%]   .auth-footer[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .auth-footer[_ngcontent-%COMP%]   .auth-link[_ngcontent-%COMP%]{margin-top:1rem}[_nghost-%COMP%]   .auth-footer[_ngcontent-%COMP%]   .auth-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--ion-color-primary);text-decoration:none;font-weight:500;margin-left:.5rem}[_nghost-%COMP%]   .auth-footer[_ngcontent-%COMP%]   .auth-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]}),g})()}}]);