"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[76],{8705:(P,m,n)=>{n.d(m,{B:()=>r});var p=n(4438);let r=(()=>{var g;class d{constructor(){this.TOKEN_LENGTH=32,this.EXPIRATION_DAYS=7}generateInvitationToken(t){const e=Date.now().toString(36),_=this.generateRandomBytes(16),s=this.hashString(t);return btoa(`${e}.${_}.${s}`).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}validateToken(t){try{const e=t.replace(/-/g,"+").replace(/_/g,"/"),_=atob(e),[s]=_.split("."),i=parseInt(s,36)+24*this.EXPIRATION_DAYS*60*60*1e3;return Date.now()<i}catch{return!1}}generateRandomBytes(t){const e=new Uint8Array(t);return crypto.getRandomValues(e),Array.from(e).map(_=>_.toString(16).padStart(2,"0")).join("")}hashString(t){let e=0;for(let _=0;_<t.length;_++)e=(e<<5)-e+t.charCodeAt(_),e|=0;return Math.abs(e).toString(36)}}return(g=d).\u0275fac=function(t){return new(t||g)},g.\u0275prov=p.jDH({token:g,factory:g.\u0275fac,providedIn:"root"}),d})()},9620:(P,m,n)=>{function d(t){const e=[];return t.length<8&&e.push("Password must be at least 8 characters long"),/[A-Z]/.test(t)||e.push("Password must contain at least one uppercase letter"),/[a-z]/.test(t)||e.push("Password must contain at least one lowercase letter"),/[0-9]/.test(t)||e.push("Password must contain at least one number"),/[!@#$%^&*]/.test(t)||e.push("Password must contain at least one special character (!@#$%^&*)"),e}n.d(m,{Oj:()=>d})},7106:(P,m,n)=>{n.r(m),n.d(m,{UsersPage:()=>h});var p=n(467),r=n(252),g=n(177),d=n(4341),a=n(5079),t=n(5873),e=n(4438),_=n(5423);function s(i,u){if(1&i){const c=e.RV6();e.j41(0,"ion-item")(1,"ion-label")(2,"h2"),e.EFF(3),e.k0s(),e.j41(4,"p"),e.EFF(5),e.k0s(),e.j41(6,"p"),e.EFF(7," Role: "),e.j41(8,"ion-badge",3),e.EFF(9),e.k0s()(),e.j41(10,"p"),e.EFF(11," Status: "),e.j41(12,"ion-badge",4),e.EFF(13),e.k0s()()(),e.j41(14,"ion-button",5),e.bIt("click",function(){const l=e.eBV(c).$implicit,f=e.XpG();return e.Njj(f.toggleUserStatus(l))}),e.nrm(15,"ion-icon",6),e.k0s()()}if(2&i){const c=u.$implicit;e.R7$(3),e.JRh(c.name),e.R7$(2),e.JRh(c.email),e.R7$(4),e.JRh(c.role),e.R7$(3),e.Y8G("color","active"===c.status?"success":"warning"),e.R7$(),e.JRh(c.status),e.R7$(),e.Y8G("color","active"===c.status?"danger":"success")("title","active"===c.status?"Deactivate User":"Activate User"),e.R7$(),e.Y8G("name","active"===c.status?"ban-outline":"checkmark-circle-outline")}}let h=(()=>{var i;class u{constructor(o){this.toastService=o,this.searchTerm="",this.users=[],this.filteredUsers=[],(0,a.a)({banOutline:t.Av6,checkmarkCircleOutline:t.gz2}),this.loadMockUsers()}loadMockUsers(){this.users=[{id:"1",name:"John Super",email:"super@example.com",role:"super-admin",status:"active",joinedAt:new Date("2024-01-01")},{id:"2",name:"Sarah Admin",email:"admin@example.com",role:"group-admin",status:"active",joinedAt:new Date("2024-01-15")},{id:"3",name:"Mike Player",email:"player@example.com",role:"player",status:"inactive",joinedAt:new Date("2024-02-01")}],this.filterUsers()}filterUsers(){let o=[...this.users];if(this.searchTerm){const l=this.searchTerm.toLowerCase();o=o.filter(f=>f.name.toLowerCase().includes(l)||f.email.toLowerCase().includes(l)||f.role.toLowerCase().includes(l))}this.filteredUsers=o}toggleUserStatus(o){var l=this;return(0,p.A)(function*(){if("super-admin"!==o.role)try{o.status="active"===o.status?"inactive":"active",yield l.toastService.showToast(`User ${"active"===o.status?"activated":"deactivated"} successfully`,"success")}catch{yield l.toastService.showToast("Error updating user status","error")}else yield l.toastService.showToast("Cannot modify super admin status","error")})()}}return(i=u).\u0275fac=function(o){return new(o||i)(e.rXU(_.f))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-users"]],standalone:!0,features:[e.aNF],decls:9,vars:2,consts:[[1,"ion-padding"],["placeholder","Search users...",3,"ngModelChange","ionInput","ngModel"],[4,"ngFor","ngForOf"],["color","primary"],[3,"color"],["fill","clear",3,"click","color","title"],[3,"name"]],template:function(o,l){1&o&&(e.j41(0,"div",0)(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title"),e.EFF(4,"All System Users"),e.k0s(),e.j41(5,"ion-searchbar",1),e.mxI("ngModelChange",function(E){return e.DH7(l.searchTerm,E)||(l.searchTerm=E),E}),e.bIt("ionInput",function(){return l.filterUsers()}),e.k0s()(),e.j41(6,"ion-card-content")(7,"ion-list"),e.DNE(8,s,16,8,"ion-item",2),e.k0s()()()()),2&o&&(e.R7$(5),e.R50("ngModel",l.searchTerm),e.R7$(3),e.Y8G("ngForOf",l.filteredUsers))},dependencies:[r.b_,r.ME,r.tN,r.I9,r.S1,r.In,r.uz,r.he,r.Jm,r.iq,r.nf,g.pM,d.YN,d.BC,d.vS],encapsulation:2}),u})()},5341:(P,m,n)=>{n.d(m,{E:()=>_});var p=n(252),r=n(177),g=n(5079),d=n(5873),a=n(4438),t=n(8010);function e(s,h){if(1&s&&(a.j41(0,"div",1)(1,"div",2),a.nrm(2,"ion-icon",3),a.j41(3,"ion-text",4),a.EFF(4),a.k0s()()()),2&s){const i=a.XpG();a.R7$(4),a.JRh(i.greeting)}}let _=(()=>{var s;class h{constructor(u){this.authService=u,this.greeting="",(0,g.a)({personCircleOutline:d.kki})}ngOnInit(){this.greeting=this.authService.getPersonalizedGreeting()}}return(s=h).\u0275fac=function(u){return new(u||s)(a.rXU(t.u))},s.\u0275cmp=a.VBU({type:s,selectors:[["app-user-greeting"]],standalone:!0,features:[a.aNF],decls:1,vars:1,consts:[["class","greeting-container",4,"ngIf"],[1,"greeting-container"],[1,"greeting-content"],["name","person-circle-outline",1,"greeting-icon"],[1,"greeting-text"]],template:function(u,c){1&u&&a.DNE(0,e,5,1,"div",0),2&u&&a.Y8G("ngIf",c.greeting)},dependencies:[p.IO,p.iq,r.bT],styles:[".greeting-container[_ngcontent-%COMP%]{padding:12px 16px;background:linear-gradient(135deg,var(--ion-color-primary-tint) 0%,var(--ion-color-primary) 100%);border-radius:12px;margin-bottom:16px;box-shadow:0 2px 8px #0000001a;animation:_ngcontent-%COMP%_slideInFade .6s ease-out}.greeting-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.greeting-icon[_ngcontent-%COMP%]{font-size:24px;color:#fff;opacity:.9}.greeting-text[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:500;letter-spacing:.5px}@keyframes _ngcontent-%COMP%_slideInFade{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 576px){.greeting-container[_ngcontent-%COMP%]{padding:10px 14px;margin-bottom:12px}.greeting-text[_ngcontent-%COMP%]{font-size:15px}.greeting-icon[_ngcontent-%COMP%]{font-size:22px}}@media (prefers-color-scheme: dark){.greeting-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--ion-color-primary-shade) 0%,var(--ion-color-primary-tint) 100%)}}"]}),h})()}}]);