{"version":3,"file":"src_app_platforms_welcome_welcome_page_ts.js","mappings":"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","sources":["./src/app/platforms/welcome/welcome.page.ts","./src/app/platforms/welcome/welcome.page.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport {\n  IonHeader,\n  IonToolbar,\n  IonTitle,\n  IonContent,\n  IonCard,\n  IonCardHeader,\n  IonCardTitle,\n  IonCardContent,\n  IonGrid,\n  IonRow,\n  IonCol,\n  IonIcon,\n  IonButton,\n  IonButtons,\n} from '@ionic/angular/standalone';\nimport { NgFor } from '@angular/common';\nimport { addIcons } from 'ionicons';\nimport {\n  peopleOutline,\n  personAddOutline,\n  footballOutline,\n  trophyOutline,\n  starOutline,\n  cashOutline,\n  logInOutline,\n} from 'ionicons/icons';\nimport { AuthService } from '../../core/services/auth.service';\nimport { SupabaseService } from '../../services/supabase.service';\n\n@Component({\n  selector: 'app-welcome',\n  templateUrl: './welcome.page.html',\n  styleUrls: ['./welcome.page.scss'],\n  standalone: true,\n  imports: [\n    IonHeader,\n    IonToolbar,\n    IonTitle,\n    IonContent,\n    IonCard,\n    IonCardHeader,\n    IonCardTitle,\n    IonCardContent,\n    IonGrid,\n    IonRow,\n    IonCol,\n    IonIcon,\n    IonButton,\n    IonButtons,\n    NgFor,\n  ],\n})\nexport class WelcomePage implements OnInit {\n  howItWorks = [\n    {\n      icon: 'people-outline',\n      title: 'Create or Join',\n      description: 'Start a new group or join an existing one',\n    },\n    {\n      icon: 'football-outline',\n      title: 'Make Predictions',\n      description: 'Predict match outcomes for each gameweek',\n    },\n    {\n      icon: 'trophy-outline',\n      title: 'Compete',\n      description: 'Earn points and climb the leaderboard',\n    },\n  ];\n\n  features = [\n    {\n      icon: 'star-outline',\n      title: 'Multiple Groups',\n      description: 'Join different groups with friends or colleagues',\n    },\n    {\n      icon: 'cash-outline',\n      title: 'Prize Pools',\n      description: 'Optional entry fees and prize distributions',\n    },\n  ];\n\n  constructor(\n    private router: Router,\n    private authService: AuthService,\n    private supabaseService: SupabaseService\n  ) {\n    addIcons({\n      peopleOutline,\n      personAddOutline,\n      footballOutline,\n      trophyOutline,\n      starOutline,\n      cashOutline,\n      logInOutline,\n    });\n  }\n\n  ngOnInit(): void {\n    // Check for hash fragments with access tokens\n    const hash = window.location.hash;\n    if (hash.includes('access_token')) {\n      this.router.navigate(['/auth/reset-password']);\n      return;\n    }\n    \n    // Check for reset password tokens in query parameters\n    const urlParams = new URLSearchParams(window.location.search);\n    const token = urlParams.get('token');\n    const type = urlParams.get('type');\n    \n    \n    if (token && type === 'recovery') {\n      // Redirect to reset password page with the token\n      this.router.navigate(['/auth/reset-password'], {\n        queryParams: { token: token, type: type }\n      });\n      return;\n    }\n  }\n\n  createGroup() {\n    // ALWAYS force Group-Admin Journey regardless of current authentication\n    // This ensures \"Create a Group\" always leads to group-admin flow\n    this.router.navigate(['/auth/signup'], {\n      queryParams: { \n        role: 'group-admin',\n        returnUrl: '/group-admin/groups',\n        forceRole: 'true' // Force this role selection\n      }\n    });\n  }\n\n  joinGroup() {\n    // ALWAYS force Player Journey regardless of current authentication\n    // This ensures \"Join a Group\" always leads to player flow\n    this.router.navigate(['/auth/signup'], {\n      queryParams: { \n        role: 'player',\n        returnUrl: '/player/join-group',\n        forceRole: 'true' // Force this role selection\n      }\n    });\n  }\n\n  login() {\n    // Clear any existing session to allow fresh login\n    // This ensures users can login as different users from welcome page\n    console.log('ðŸ”„ Welcome: Clearing session before login');\n    this.authService.clearSession();\n\n    // Add a small delay to ensure session is cleared before navigation\n    setTimeout(() => {\n      this.router.navigate(['/auth/login']);\n    }, 100);\n  }\n} ","<ion-header>\n  <ion-toolbar>\n    <div class=\"logo-container\">\n      <ion-icon name=\"football-outline\" class=\"football-icon\"></ion-icon>\n      <div class=\"logo-text\">\n        <span class=\"logo-sotd\">Predict 3</span>\n        <span class=\"logo-subtitle\">Predict 3</span>\n      </div>\n    </div>\n    <ion-buttons slot=\"end\">\n      <ion-button (click)=\"login()\">\n        <ion-icon slot=\"start\" name=\"log-in-outline\"></ion-icon>\n        Login\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n  <div class=\"welcome-container\">\n    <h1>Welcome to Predict 3</h1>\n    <p>Choose how you'd like to get started:</p>\n\n    <div class=\"options-container\">\n      <ion-card (click)=\"createGroup()\">\n        <ion-card-header>\n          <ion-card-title>\n            <ion-icon name=\"people-outline\"></ion-icon>\n            Create a Group\n          </ion-card-title>\n        </ion-card-header>\n        <ion-card-content>\n          Create your own prediction group and invite others to join.\n        </ion-card-content>\n      </ion-card>\n\n      <ion-card (click)=\"joinGroup()\">\n        <ion-card-header>\n          <ion-card-title>\n            <ion-icon name=\"person-add-outline\"></ion-icon>\n            Join a Group\n          </ion-card-title>\n        </ion-card-header>\n        <ion-card-content>\n          Join an existing prediction group using an invite code.\n        </ion-card-content>\n      </ion-card>\n    </div>\n\n    <section class=\"how-it-works\">\n      <h2>How It Works</h2>\n      <ion-grid>\n        <ion-row>\n          <ion-col size=\"12\" size-md=\"4\" *ngFor=\"let step of howItWorks\">\n            <ion-card>\n              <ion-card-content>\n                <div class=\"step-icon\">\n                  <ion-icon [name]=\"step.icon\"></ion-icon>\n                </div>\n                <h3>{{ step.title }}</h3>\n                <p>{{ step.description }}</p>\n              </ion-card-content>\n            </ion-card>\n          </ion-col>\n        </ion-row>\n      </ion-grid>\n    </section>\n\n    <section class=\"features\">\n      <h2>Features</h2>\n      <ion-grid>\n        <ion-row>\n          <ion-col size=\"12\" size-md=\"6\" *ngFor=\"let feature of features\">\n            <ion-card>\n              <ion-card-content>\n                <div class=\"feature-icon\">\n                  <ion-icon [name]=\"feature.icon\"></ion-icon>\n                </div>\n                <h3>{{ feature.title }}</h3>\n                <p>{{ feature.description }}</p>\n              </ion-card-content>\n            </ion-card>\n          </ion-col>\n        </ion-row>\n      </ion-grid>\n    </section>\n  </div>\n</ion-content>"],"names":["IonHeader","IonToolbar","IonContent","IonCard","IonCardHeader","IonCardTitle","IonCardContent","IonGrid","IonRow","IonCol","IonIcon","IonButton","IonButtons","NgFor","addIcons","peopleOutline","personAddOutline","footballOutline","trophyOutline","starOutline","cashOutline","logInOutline","i0","ÉµÉµelementStart","ÉµÉµelement","ÉµÉµelementEnd","ÉµÉµtext","ÉµÉµadvance","ÉµÉµproperty","step_r1","icon","ÉµÉµtextInterpolate","title","description","feature_r2","WelcomePage","constructor","router","authService","supabaseService","howItWorks","features","ngOnInit","hash","window","location","includes","navigate","urlParams","URLSearchParams","search","token","get","type","queryParams","createGroup","role","returnUrl","forceRole","joinGroup","login","console","log","clearSession","setTimeout","ÉµÉµdirectiveInject","i1","Router","i2","AuthService","i3","SupabaseService","selectors","standalone","ÉµÉµStandaloneFeature","decls","vars","consts","template","WelcomePage_Template","rf","ctx","ÉµÉµlistener","WelcomePage_Template_ion_button_click_10_listener","WelcomePage_Template_ion_card_click_20_listener","WelcomePage_Template_ion_card_click_27_listener","ÉµÉµtemplate","WelcomePage_ion_col_39_Template","WelcomePage_ion_col_45_Template","styles"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}