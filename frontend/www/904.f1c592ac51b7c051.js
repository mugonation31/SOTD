"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[904],{2904:(P,m,a)=>{a.r(m),a.d(m,{GroupsPage:()=>T});var c=a(467),s=a(252),_=a(177),u=a(4341),g=a(7106),h=a(5079),p=a(5873),e=a(4438),G=a(5423);function f(r,l){if(1&r){const t=e.RV6();e.j41(0,"ion-item")(1,"ion-label")(2,"h2"),e.EFF(3),e.k0s(),e.j41(4,"p"),e.EFF(5," Code: "),e.j41(6,"strong"),e.EFF(7),e.k0s()(),e.j41(8,"p"),e.EFF(9),e.k0s(),e.j41(10,"p"),e.EFF(11," Members: "),e.j41(12,"ion-badge",9),e.EFF(13),e.k0s()()(),e.j41(14,"ion-button",10),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG(2);return e.Njj(i.viewGroupDetails(o))}),e.nrm(15,"ion-icon",11),e.k0s()()}if(2&r){const t=l.$implicit;e.R7$(3),e.JRh(t.name),e.R7$(4),e.JRh(t.code),e.R7$(2),e.SpI("Admin: ",t.adminName,""),e.R7$(4),e.JRh(t.memberCount)}}function E(r,l){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title"),e.EFF(4,"All Groups"),e.k0s(),e.j41(5,"ion-searchbar",7),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.groupSearchTerm,o)||(i.groupSearchTerm=o),e.Njj(o)}),e.bIt("ionInput",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.filterGroups())}),e.k0s()(),e.j41(6,"ion-card-content")(7,"ion-list"),e.DNE(8,f,16,4,"ion-item",8),e.k0s()()()()}if(2&r){const t=e.XpG();e.R7$(5),e.R50("ngModel",t.groupSearchTerm),e.R7$(3),e.Y8G("ngForOf",t.filteredGroups)}}function v(r,l){1&r&&(e.j41(0,"div",12),e.nrm(1,"app-users"),e.k0s())}function F(r,l){if(1&r){const t=e.RV6();e.j41(0,"ion-item")(1,"ion-label")(2,"h2"),e.EFF(3),e.k0s(),e.j41(4,"p"),e.EFF(5),e.k0s(),e.j41(6,"p"),e.EFF(7," Role: "),e.j41(8,"ion-badge",9),e.EFF(9),e.k0s()(),e.j41(10,"p"),e.EFF(11),e.nI1(12,"date"),e.k0s()(),e.j41(13,"ion-button",16),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG(3);return e.Njj(i.overrideAccess(o))}),e.nrm(14,"ion-icon",17),e.k0s(),e.j41(15,"ion-button",18),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG(3);return e.Njj(i.removeMember(o))}),e.nrm(16,"ion-icon",19),e.k0s()()}if(2&r){const t=l.$implicit;e.R7$(3),e.JRh(t.name),e.R7$(2),e.JRh(t.email),e.R7$(4),e.JRh(t.role),e.R7$(2),e.SpI("Joined: ",e.bMT(12,4,t.joinedAt),"")}}function b(r,l){if(1&r&&(e.j41(0,"ion-content",3)(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title"),e.EFF(4,"Group Details"),e.k0s()(),e.j41(5,"ion-card-content")(6,"p"),e.EFF(7," Code: "),e.j41(8,"strong"),e.EFF(9),e.k0s()(),e.j41(10,"p"),e.EFF(11),e.nI1(12,"date"),e.k0s(),e.j41(13,"p"),e.EFF(14),e.k0s()()(),e.j41(15,"ion-card")(16,"ion-card-header")(17,"ion-card-title"),e.EFF(18,"Members"),e.k0s()(),e.j41(19,"ion-card-content")(20,"ion-list"),e.DNE(21,F,17,6,"ion-item",8),e.k0s()()()()),2&r){const t=e.XpG(2);e.R7$(9),e.JRh(t.selectedGroup.code),e.R7$(2),e.SpI("Created: ",e.bMT(12,4,t.selectedGroup.createdAt),""),e.R7$(3),e.SpI("Admin: ",t.selectedGroup.adminName,""),e.R7$(7),e.Y8G("ngForOf",t.selectedGroup.members)}}function j(r,l){if(1&r){const t=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3),e.k0s(),e.j41(4,"ion-buttons",13)(5,"ion-button",14),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.selectedGroup=null)}),e.EFF(6,"Close"),e.k0s()()()(),e.DNE(7,b,22,6,"ion-content",15)}if(2&r){const t=e.XpG();e.R7$(3),e.SpI("",null==t.selectedGroup?null:t.selectedGroup.name," Management"),e.R7$(4),e.Y8G("ngIf",t.selectedGroup)}}let T=(()=>{var r;class l{constructor(n){this.toastService=n,this.activeTab="groups",this.groupSearchTerm="",this.filteredGroups=[],this.groups=[],this.selectedGroup=null,(0,h.a)({eyeOutline:p.ov$,trashOutline:p.P1A,shieldOutline:p.uLY}),this.loadMockGroups()}loadMockGroups(){this.groups=[{id:"1",name:"Premier League A",code:"PLA2024",adminName:"John Admin",memberCount:12,createdAt:new Date("2024-01-01"),members:[{id:"1",name:"Player One",email:"player1@example.com",joinedAt:new Date("2024-01-15"),status:"active",role:"player"}]}],this.filterGroups()}filterGroups(){let n=[...this.groups];if(this.groupSearchTerm){const o=this.groupSearchTerm.toLowerCase();n=n.filter(i=>i.name.toLowerCase().includes(o)||i.code.toLowerCase().includes(o)||i.adminName.toLowerCase().includes(o))}this.filteredGroups=n}viewGroupDetails(n){this.selectedGroup=n}deleteGroup(n){var o=this;return(0,c.A)(function*(){if(confirm(`Are you sure you want to delete group ${n.name}?`))try{o.groups=o.groups.filter(i=>i.id!==n.id),o.filterGroups(),yield o.toastService.showToast("Group deleted successfully","success")}catch{yield o.toastService.showToast("Error deleting group","error")}})()}overrideAccess(n){var o=this;return(0,c.A)(function*(){if(confirm(`Are you sure you want to override access for ${n.name}?`))try{n.role="admin"===n.role?"player":"admin",yield o.toastService.showToast(`Member role updated to ${n.role}`,"success")}catch{yield o.toastService.showToast("Error updating member role","error")}})()}removeMember(n){var o=this;return(0,c.A)(function*(){if(confirm(`Are you sure you want to remove ${n.name}?`))try{o.selectedGroup&&(o.selectedGroup.members=o.selectedGroup.members.filter(i=>i.id!==n.id),o.selectedGroup.memberCount--),yield o.toastService.showToast("Member removed successfully","success")}catch{yield o.toastService.showToast("Error removing member","error")}})()}}return(r=l).\u0275fac=function(n){return new(n||r)(e.rXU(G.f))},r.\u0275cmp=e.VBU({type:r,selectors:[["app-groups"]],standalone:!0,features:[e.aNF],decls:18,vars:4,consts:[[3,"ngModelChange","ngModel"],["value","groups"],["value","users"],[1,"ion-padding"],[4,"ngIf"],["class","users-container",4,"ngIf"],[3,"didDismiss","isOpen"],["placeholder","Search groups...",3,"ngModelChange","ionInput","ngModel"],[4,"ngFor","ngForOf"],["color","primary"],["fill","clear",3,"click"],["name","eye-outline"],[1,"users-container"],["slot","end"],[3,"click"],["class","ion-padding",4,"ngIf"],["fill","clear","color","warning","title","Override Role",3,"click"],["name","shield-outline"],["fill","clear","color","danger","title","Remove from Group",3,"click"],["name","trash-outline"]],template:function(n,o){1&n&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"Groups & Users Management"),e.k0s()(),e.j41(4,"ion-toolbar")(5,"ion-segment",0),e.mxI("ngModelChange",function(d){return e.DH7(o.activeTab,d)||(o.activeTab=d),d}),e.j41(6,"ion-segment-button",1)(7,"ion-label"),e.EFF(8,"Groups"),e.k0s()(),e.j41(9,"ion-segment-button",2)(10,"ion-label"),e.EFF(11,"Users"),e.k0s()()()()(),e.j41(12,"ion-content")(13,"div",3),e.DNE(14,E,9,2,"div",4)(15,v,2,0,"div",5),e.k0s(),e.j41(16,"ion-modal",6),e.bIt("didDismiss",function(){return o.selectedGroup=null}),e.DNE(17,j,8,2,"ng-template"),e.k0s()()),2&n&&(e.R7$(5),e.R50("ngModel",o.activeTab),e.R7$(9),e.Y8G("ngIf","groups"===o.activeTab),e.R7$(),e.Y8G("ngIf","users"===o.activeTab),e.R7$(),e.Y8G("isOpen",!!o.selectedGroup))},dependencies:[s.eU,s.ai,s.BC,s.W9,s.b_,s.ME,s.tN,s.I9,s.S1,s.In,s.uz,s.he,s.Jm,s.iq,s.Sb,s.nf,s.QW,s.Gp,s.eP,_.pM,_.bT,_.vh,u.YN,u.BC,u.vS,g.UsersPage],styles:[".users-container[_ngcontent-%COMP%]{height:100%;width:100%;display:block}"]}),l})()}}]);