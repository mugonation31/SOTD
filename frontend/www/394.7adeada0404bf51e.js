"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[394],{6394:(f,m,s)=>{s.r(m),s.d(m,{SuperAdminLoginPage:()=>C});var r=s(4341),_=s(7570),i=s(4738),c=s(177),n=s(4438),p=s(8010);const P=()=>["/super-admin/register"];function M(l,d){1&l&&(n.j41(0,"ion-note",14),n.EFF(1," Email is required "),n.k0s())}function O(l,d){1&l&&(n.j41(0,"ion-note",14),n.EFF(1," Password is required "),n.k0s())}let C=(()=>{var l;class d{constructor(a,o,t){this.fb=a,this.authService=o,this.router=t,this.isLoading=!1,this.loginForm=this.fb.group({email:["",[r.k0.required,r.k0.email]],password:["",[r.k0.required]]})}ngOnInit(){}onSubmit(){if(this.loginForm.valid){var a,o;this.isLoading=!0;const t={email:null===(a=this.loginForm.get("email"))||void 0===a?void 0:a.value,password:null===(o=this.loginForm.get("password"))||void 0===o?void 0:o.value,securityQuestion:"",securityAnswer:""};localStorage.setItem(`pendingRole_${t.email}`,"super-admin"),localStorage.setItem(`pendingUsername_${t.email}`,"SuperAdmin"),localStorage.setItem(`pendingFirstName_${t.email}`,"Super"),localStorage.setItem(`pendingLastName_${t.email}`,"Admin"),this.authService.login(t).subscribe({next:e=>{this.router.navigate(["/super-admin/dashboard"]),this.isLoading=!1},error:e=>{var g;console.error("Super admin login failed:",e),this.isLoading=!1;const u=(null==e||null===(g=e.error)||void 0===g?void 0:g.message)||(null==e?void 0:e.message)||"Login failed. Please check your credentials and try again.";alert(u)}})}}}return(l=d).\u0275fac=function(a){return new(a||l)(n.rXU(r.ok),n.rXU(p.u),n.rXU(_.Ix))},l.\u0275cmp=n.VBU({type:l,selectors:[["app-super-admin-login"]],standalone:!0,features:[n.aNF],decls:29,vars:11,consts:[[1,"ion-padding"],[1,"auth-card"],[1,"auth-header"],[3,"ngSubmit","formGroup"],[1,"auth-form"],["type","email","formControlName","email","placeholder","Email"],["slot","error",4,"ngIf"],["type","password","formControlName","password","placeholder","Password"],[1,"auth-actions"],["expand","block","type","submit",3,"disabled"],[1,"auth-footer"],[1,"auth-link"],["color","medium"],[3,"routerLink"],["slot","error"]],template:function(a,o){if(1&a&&(n.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),n.EFF(3,"Super Admin Login"),n.k0s()()(),n.j41(4,"ion-content",0)(5,"ion-card",1)(6,"ion-card-content")(7,"div",2)(8,"h1"),n.EFF(9,"Super Admin Access"),n.k0s(),n.j41(10,"p"),n.EFF(11,"Login to manage the system"),n.k0s()(),n.j41(12,"form",3),n.bIt("ngSubmit",function(){return o.onSubmit()}),n.j41(13,"ion-list",4)(14,"ion-item"),n.nrm(15,"ion-input",5),n.DNE(16,M,2,0,"ion-note",6),n.k0s(),n.j41(17,"ion-item"),n.nrm(18,"ion-input",7),n.DNE(19,O,2,0,"ion-note",6),n.k0s()(),n.j41(20,"div",8)(21,"ion-button",9),n.EFF(22),n.k0s()(),n.j41(23,"div",10)(24,"div",11)(25,"ion-text",12),n.EFF(26," Need to register as Super Admin? "),n.j41(27,"a",13),n.EFF(28,"Register"),n.k0s()()()()()()()()),2&a){let t,e,g,u;n.R7$(12),n.Y8G("formGroup",o.loginForm),n.R7$(3),n.AVh("ion-invalid",(null==(t=o.loginForm.get("email"))?null:t.touched)&&(null==(t=o.loginForm.get("email"))?null:t.errors)),n.R7$(),n.Y8G("ngIf",(null==(e=o.loginForm.get("email"))?null:e.touched)&&(null==(e=o.loginForm.get("email"))||null==e.errors?null:e.errors.required)),n.R7$(2),n.AVh("ion-invalid",(null==(g=o.loginForm.get("password"))?null:g.touched)&&(null==(g=o.loginForm.get("password"))?null:g.errors)),n.R7$(),n.Y8G("ngIf",(null==(u=o.loginForm.get("password"))?null:u.touched)&&(null==(u=o.loginForm.get("password"))||null==u.errors?null:u.errors.required)),n.R7$(2),n.Y8G("disabled",o.loginForm.invalid||o.isLoading),n.R7$(),n.SpI(" ",o.isLoading?"Logging in...":"Login"," "),n.R7$(5),n.Y8G("routerLink",n.lJ4(10,P))}},dependencies:[c.MD,c.bT,r.X1,r.qT,r.BC,r.cb,r.j4,r.JD,_.Wk,i.eU,i.ai,i.BC,i.W9,i.$w,i.Jm,i.uz,i.nf,i.b_,i.I9,i.IO,i.JI],styles:["[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: var(--ion-color-light)}[_nghost-%COMP%]   .auth-card[_ngcontent-%COMP%]{max-width:500px;margin:2rem auto;border-radius:16px;box-shadow:0 4px 12px #0000001a}[_nghost-%COMP%]   .auth-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}[_nghost-%COMP%]   .auth-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-bottom:.5rem;color:var(--ion-color-dark)}[_nghost-%COMP%]   .auth-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium);margin:0}[_nghost-%COMP%]   .auth-form[_ngcontent-%COMP%]{background:transparent;margin-bottom:1.5rem}[_nghost-%COMP%]   .auth-form[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: transparent;--border-color: rgba(0, 0, 0, .1);--border-width: 1px;--border-style: solid;--border-radius: 4px;--padding-start: 12px;margin-bottom:1rem}[_nghost-%COMP%]   .auth-form[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--padding-start: 8px;font-size:1rem}[_nghost-%COMP%]   .auth-actions[_ngcontent-%COMP%]{margin-bottom:1.5rem}[_nghost-%COMP%]   .auth-actions[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0;height:48px;--border-radius: 4px;font-weight:600}[_nghost-%COMP%]   .auth-footer[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .auth-footer[_ngcontent-%COMP%]   .auth-link[_ngcontent-%COMP%]{margin-top:1rem}[_nghost-%COMP%]   .auth-footer[_ngcontent-%COMP%]   .auth-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--ion-color-primary);text-decoration:none;font-weight:500;margin-left:.5rem}[_nghost-%COMP%]   .auth-footer[_ngcontent-%COMP%]   .auth-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]}),d})()}}]);