"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[186],{3186:(S,m,a)=>{a.r(m),a.d(m,{SettingsPage:()=>F});var g=a(467),r=a(5050),_=a(4341),f=a(177),h=a(5079),l=a(5873),e=a(4438),M=a(8199),P=a(5423),j=a(8010);function v(s,d){if(1&s&&(e.qex(0),e.nrm(1,"img",36),e.bVm()),2&s){const i=e.XpG(2);e.R7$(),e.Y8G("src",i.profilePicture,e.B4B)}}function x(s,d){1&s&&e.nrm(0,"ion-icon",37)}function C(s,d){if(1&s){const i=e.RV6();e.j41(0,"div")(1,"ion-card")(2,"ion-card-content")(3,"div",17)(4,"div",18)(5,"div",19),e.DNE(6,v,2,1,"ng-container",20)(7,x,1,0,"ng-template",null,0,e.C5r),e.k0s(),e.j41(9,"div",21),e.bIt("click",function(){e.eBV(i);const n=e.sdS(12);return e.Njj(n.click())}),e.nrm(10,"ion-icon",22),e.k0s(),e.j41(11,"input",23,1),e.bIt("change",function(n){e.eBV(i);const o=e.XpG();return e.Njj(o.onFileSelected(n))}),e.k0s()()(),e.j41(13,"div",24)(14,"ion-item")(15,"ion-label",25),e.EFF(16,"Name"),e.k0s(),e.j41(17,"ion-input",26),e.mxI("ngModelChange",function(n){e.eBV(i);const o=e.XpG();return e.DH7(o.profile.name,n)||(o.profile.name=n),e.Njj(n)}),e.k0s()(),e.j41(18,"ion-item")(19,"ion-label",25),e.EFF(20,"Email"),e.k0s(),e.j41(21,"ion-input",27),e.mxI("ngModelChange",function(n){e.eBV(i);const o=e.XpG();return e.DH7(o.profile.email,n)||(o.profile.email=n),e.Njj(n)}),e.k0s()(),e.j41(22,"ion-item")(23,"ion-label",25),e.EFF(24,"Phone"),e.k0s(),e.j41(25,"ion-input",28),e.mxI("ngModelChange",function(n){e.eBV(i);const o=e.XpG();return e.DH7(o.profile.phone,n)||(o.profile.phone=n),e.Njj(n)}),e.k0s()(),e.j41(26,"ion-item")(27,"ion-label",25),e.EFF(28,"Role"),e.k0s(),e.j41(29,"ion-input",29),e.mxI("ngModelChange",function(n){e.eBV(i);const o=e.XpG();return e.DH7(o.profile.role,n)||(o.profile.role=n),e.Njj(n)}),e.k0s()(),e.j41(30,"ion-item")(31,"ion-label",25),e.EFF(32,"Joined Date"),e.k0s(),e.j41(33,"ion-input",29),e.mxI("ngModelChange",function(n){e.eBV(i);const o=e.XpG();return e.DH7(o.profile.joinedDate,n)||(o.profile.joinedDate=n),e.Njj(n)}),e.k0s()(),e.j41(34,"ion-button",30),e.bIt("click",function(){e.eBV(i);const n=e.XpG();return e.Njj(n.updateProfile())}),e.EFF(35," Update Profile "),e.k0s()()()(),e.j41(36,"ion-card")(37,"ion-card-header")(38,"ion-card-title"),e.nrm(39,"ion-icon",31),e.EFF(40," Change Password "),e.k0s()(),e.j41(41,"ion-card-content")(42,"div",32)(43,"ion-item")(44,"ion-label",25),e.EFF(45,"Current Password"),e.k0s(),e.j41(46,"ion-input",33),e.mxI("ngModelChange",function(n){e.eBV(i);const o=e.XpG();return e.DH7(o.passwordForm.current,n)||(o.passwordForm.current=n),e.Njj(n)}),e.k0s()(),e.j41(47,"ion-item")(48,"ion-label",25),e.EFF(49,"New Password"),e.k0s(),e.j41(50,"ion-input",33),e.mxI("ngModelChange",function(n){e.eBV(i);const o=e.XpG();return e.DH7(o.passwordForm.new,n)||(o.passwordForm.new=n),e.Njj(n)}),e.k0s()(),e.j41(51,"ion-item")(52,"ion-label",25),e.EFF(53,"Confirm New Password"),e.k0s(),e.j41(54,"ion-input",33),e.mxI("ngModelChange",function(n){e.eBV(i);const o=e.XpG();return e.DH7(o.passwordForm.confirm,n)||(o.passwordForm.confirm=n),e.Njj(n)}),e.k0s()(),e.j41(55,"ion-button",30),e.bIt("click",function(){e.eBV(i);const n=e.XpG();return e.Njj(n.changePassword())}),e.EFF(56," Change Password "),e.k0s()()()(),e.j41(57,"ion-button",34),e.bIt("click",function(){e.eBV(i);const n=e.XpG();return e.Njj(n.logout())}),e.nrm(58,"ion-icon",35),e.EFF(59," Logout "),e.k0s()()}if(2&s){const i=e.sdS(8),t=e.XpG();e.R7$(6),e.Y8G("ngIf",t.profilePicture)("ngIfElse",i),e.R7$(11),e.R50("ngModel",t.profile.name),e.R7$(4),e.R50("ngModel",t.profile.email),e.R7$(4),e.R50("ngModel",t.profile.phone),e.R7$(4),e.R50("ngModel",t.profile.role),e.R7$(4),e.R50("ngModel",t.profile.joinedDate),e.R7$(13),e.R50("ngModel",t.passwordForm.current),e.R7$(4),e.R50("ngModel",t.passwordForm.new),e.R7$(4),e.R50("ngModel",t.passwordForm.confirm)}}function k(s,d){if(1&s){const i=e.RV6();e.j41(0,"div")(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title"),e.nrm(4,"ion-icon",38),e.EFF(5," Notification Preferences "),e.k0s()(),e.j41(6,"ion-card-content")(7,"ion-item")(8,"ion-label"),e.EFF(9,"Email Notifications"),e.k0s(),e.j41(10,"ion-toggle",39),e.mxI("ngModelChange",function(n){e.eBV(i);const o=e.XpG();return e.DH7(o.settings.notifications.email,n)||(o.settings.notifications.email=n),e.Njj(n)}),e.k0s()(),e.j41(11,"ion-item")(12,"ion-label"),e.EFF(13,"Prediction Reminders"),e.k0s(),e.j41(14,"ion-toggle",39),e.mxI("ngModelChange",function(n){e.eBV(i);const o=e.XpG();return e.DH7(o.settings.notifications.predictions,n)||(o.settings.notifications.predictions=n),e.Njj(n)}),e.k0s()(),e.j41(15,"ion-item")(16,"ion-label"),e.EFF(17,"Result Notifications"),e.k0s(),e.j41(18,"ion-toggle",39),e.mxI("ngModelChange",function(n){e.eBV(i);const o=e.XpG();return e.DH7(o.settings.notifications.results,n)||(o.settings.notifications.results=n),e.Njj(n)}),e.k0s()(),e.j41(19,"ion-item")(20,"ion-label"),e.EFF(21,"Group Updates"),e.k0s(),e.j41(22,"ion-toggle",39),e.mxI("ngModelChange",function(n){e.eBV(i);const o=e.XpG();return e.DH7(o.settings.notifications.groupUpdates,n)||(o.settings.notifications.groupUpdates=n),e.Njj(n)}),e.k0s()()()(),e.j41(23,"ion-card")(24,"ion-card-header")(25,"ion-card-title"),e.nrm(26,"ion-icon",15),e.EFF(27," App Settings "),e.k0s()(),e.j41(28,"ion-card-content")(29,"ion-item")(30,"ion-label"),e.EFF(31,"Dark Mode"),e.k0s(),e.j41(32,"ion-toggle",39),e.mxI("ngModelChange",function(n){e.eBV(i);const o=e.XpG();return e.DH7(o.settings.darkMode,n)||(o.settings.darkMode=n),e.Njj(n)}),e.k0s()(),e.j41(33,"ion-item")(34,"ion-label"),e.EFF(35,"Language"),e.k0s(),e.j41(36,"ion-select",39),e.mxI("ngModelChange",function(n){e.eBV(i);const o=e.XpG();return e.DH7(o.settings.language,n)||(o.settings.language=n),e.Njj(n)}),e.j41(37,"ion-select-option",40),e.EFF(38,"English"),e.k0s(),e.j41(39,"ion-select-option",41),e.EFF(40,"Spanish"),e.k0s(),e.j41(41,"ion-select-option",42),e.EFF(42,"French"),e.k0s()()()()(),e.j41(43,"ion-button",30),e.bIt("click",function(){e.eBV(i);const n=e.XpG();return e.Njj(n.saveSettings())}),e.EFF(44," Save Settings "),e.k0s()()}if(2&s){const i=e.XpG();e.R7$(10),e.R50("ngModel",i.settings.notifications.email),e.R7$(4),e.R50("ngModel",i.settings.notifications.predictions),e.R7$(4),e.R50("ngModel",i.settings.notifications.results),e.R7$(4),e.R50("ngModel",i.settings.notifications.groupUpdates),e.R7$(10),e.R50("ngModel",i.settings.darkMode),e.R7$(4),e.R50("ngModel",i.settings.language)}}let F=(()=>{var s;class d{constructor(t,n,o){this.router=t,this.toastService=n,this.authService=o,this.activeTab="profile",this.profilePicture=null,this.profile={name:"John Smith",email:"john.smith@example.com",phone:"+44 7123 456789",role:"Player",joinedDate:"2024-01-01"},this.passwordForm={current:"",new:"",confirm:""},this.settings={notifications:{email:!0,predictions:!0,results:!0,groupUpdates:!0},darkMode:!1,language:"en"},(0,h.a)({personOutline:l.wAZ,mailOutline:l.SM1,notificationsOutline:l.rqk,colorPaletteOutline:l.Fxf,logOutOutline:l.z_V,footballOutline:l.gMr,personCircleOutline:l.kki,keyOutline:l.uNo,phonePortraitOutline:l.g_S,settingsOutline:l.s8q,cameraOutline:l.GOB})}onFileSelected(t){var n=this;return(0,g.A)(function*(){var o;const c=null===(o=t.target.files)||void 0===o?void 0:o[0];if(c)if(c.type.startsWith("image/"))if(c.size>5242880)yield n.toastService.showToast("Image must be less than 5MB","error");else try{const u=new FileReader;u.onload=E=>{var p;n.profilePicture=null===(p=E.target)||void 0===p?void 0:p.result},u.readAsDataURL(c),yield n.simulateUpload(),yield n.toastService.showToast("Profile picture updated successfully","success")}catch{yield n.toastService.showToast("Error uploading profile picture","error"),n.profilePicture=null}else yield n.toastService.showToast("Please select an image file","error")})()}simulateUpload(){return(0,g.A)(function*(){yield new Promise(t=>setTimeout(t,1e3))})()}updateProfile(){var t=this;return(0,g.A)(function*(){try{yield t.toastService.showToast("Profile updated successfully","success")}catch{yield t.toastService.showToast("Error updating profile","error")}})()}changePassword(){var t=this;return(0,g.A)(function*(){if(t.passwordForm.current)if(t.passwordForm.new===t.passwordForm.confirm)try{yield t.toastService.showToast("Password changed successfully","success"),t.passwordForm={current:"",new:"",confirm:""}}catch{yield t.toastService.showToast("Error changing password","error")}else yield t.toastService.showToast("New passwords do not match","error");else yield t.toastService.showToast("Current password is required","error")})()}saveSettings(){var t=this;return(0,g.A)(function*(){try{yield t.toastService.showToast("Settings saved successfully","success")}catch{yield t.toastService.showToast("Error saving settings","error")}})()}logout(){var t=this;return(0,g.A)(function*(){try{t.authService.markFirstLoginComplete(),t.authService.logout(),yield t.toastService.showToast("Logged out successfully","success"),t.router.navigate(["/auth/login"],{replaceUrl:!0,queryParams:{}})}catch(n){console.error("Logout error:",n),yield t.toastService.showToast("Error during logout","error")}})()}navigateTo(t){this.router.navigate([t])}}return(s=d).\u0275fac=function(t){return new(t||s)(e.rXU(M.Ix),e.rXU(P.f),e.rXU(j.u))},s.\u0275cmp=e.VBU({type:s,selectors:[["app-player-settings"]],standalone:!0,features:[e.aNF],decls:24,vars:3,consts:[["defaultProfileIcon",""],["fileInput",""],[1,"logo-container",3,"click"],["name","football-outline",1,"football-icon"],[1,"logo-text"],[1,"logo-sotd"],[1,"logo-subtitle"],["slot","end"],[3,"click"],["name","person-outline"],[1,"ion-padding"],[1,"ion-margin-bottom",3,"ngModelChange","ngModel"],["value","profile"],["name","person-circle-outline"],["value","settings"],["name","settings-outline"],[4,"ngIf"],[1,"profile-picture-section"],[1,"profile-picture-container"],[1,"profile-picture"],[4,"ngIf","ngIfElse"],[1,"camera-icon",3,"click"],["name","camera-outline"],["type","file","accept","image/*",2,"display","none",3,"change"],[1,"profile-info-section"],["position","stacked"],["placeholder","Your name",3,"ngModelChange","ngModel"],["type","email","readonly","",3,"ngModelChange","ngModel"],["type","tel","placeholder","Your phone number",3,"ngModelChange","ngModel"],["readonly","",3,"ngModelChange","ngModel"],["expand","block",1,"ion-margin-top",3,"click"],["name","key-outline"],[1,"form-section"],["type","password",3,"ngModelChange","ngModel"],["expand","block","color","danger",1,"ion-margin-top",3,"click"],["name","log-out-outline","slot","start"],["alt","Profile Picture",3,"src"],["name","person-outline",1,"default-profile-icon"],["name","notifications-outline"],[3,"ngModelChange","ngModel"],["value","en"],["value","es"],["value","fr"]],template:function(t,n){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"div",2),e.bIt("click",function(){return n.navigateTo("/player/dashboard")}),e.nrm(3,"ion-icon",3),e.j41(4,"div",4)(5,"span",5),e.EFF(6,"SOTD"),e.k0s(),e.j41(7,"span",6),e.EFF(8,"Predict 3"),e.k0s()()(),e.j41(9,"ion-buttons",7)(10,"ion-button",8),e.bIt("click",function(){return n.navigateTo("/player/settings")}),e.nrm(11,"ion-icon",9),e.k0s()()()(),e.j41(12,"ion-content",10)(13,"ion-segment",11),e.mxI("ngModelChange",function(c){return e.DH7(n.activeTab,c)||(n.activeTab=c),c}),e.j41(14,"ion-segment-button",12),e.nrm(15,"ion-icon",13),e.j41(16,"ion-label"),e.EFF(17,"Profile"),e.k0s()(),e.j41(18,"ion-segment-button",14),e.nrm(19,"ion-icon",15),e.j41(20,"ion-label"),e.EFF(21,"Settings"),e.k0s()()(),e.DNE(22,C,60,10,"div",16)(23,k,45,6,"div",16),e.k0s()),2&t&&(e.R7$(13),e.R50("ngModel",n.activeTab),e.R7$(9),e.Y8G("ngIf","profile"===n.activeTab),e.R7$(),e.Y8G("ngIf","settings"===n.activeTab))},dependencies:[r.eU,r.ai,r.W9,r.b_,r.ME,r.tN,r.I9,r.uz,r.he,r.iq,r.Jm,r.$w,r.BY,r.QW,r.Gp,r.eP,r.Nm,r.Ip,_.YN,_.BC,_.vS,f.bT],styles:[".profile-picture-section[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:24px}.profile-picture-container[_ngcontent-%COMP%]{position:relative;width:120px;height:120px}.profile-picture[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;background:var(--ion-color-light);display:flex;align-items:center;justify-content:center;overflow:hidden;border:1px solid var(--ion-color-medium-shade)}.profile-picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.default-profile-icon[_ngcontent-%COMP%]{font-size:48px;color:var(--ion-color-medium)}.camera-icon[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;background:#fff;border:1px solid var(--ion-color-medium-shade);border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 2px 4px #0000001a}.camera-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;color:var(--ion-color-dark)}.profile-info-section[_ngcontent-%COMP%], .form-section[_ngcontent-%COMP%]{max-width:100%}ion-item[_ngcontent-%COMP%]{--padding-start: 0;--inner-padding-end: 0;--background: transparent;margin-bottom:16px}ion-card[_ngcontent-%COMP%]{margin:0 0 16px;border-radius:8px;box-shadow:none;border:1px solid var(--ion-color-light-shade)}ion-card-header[_ngcontent-%COMP%]{padding:16px;border-bottom:1px solid var(--ion-color-light-shade)}ion-card-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;display:flex;align-items:center;gap:8px}ion-card-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;color:var(--ion-color-primary)}ion-button[_ngcontent-%COMP%]{margin:8px 0}.logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px;cursor:pointer}.football-icon[_ngcontent-%COMP%]{font-size:24px;color:var(--ion-color-primary)}.logo-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;line-height:1}.logo-sotd[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--ion-color-dark)}.logo-subtitle[_ngcontent-%COMP%]{font-size:12px;color:var(--ion-color-medium)}ion-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;height:36px}ion-buttons[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;color:var(--ion-color-medium)}@media (max-width: 576px){ion-card-header[_ngcontent-%COMP%]{padding:12px}ion-card-content[_ngcontent-%COMP%]{padding:12px}}"]}),d})()}}]);