{"version":3,"file":"src_app_platforms_player_pages_standings_standings_page_ts.js","mappings":"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","sources":["./src/app/platforms/player/pages/standings/standings.page.ts","./src/app/platforms/player/pages/standings/standings.page.html"],"sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Router } from '@angular/router';\nimport {\n  IonHeader,\n  IonToolbar,\n  IonTitle,\n  IonContent,\n  IonCard,\n  IonCardHeader,\n  IonCardTitle,\n  IonCardContent,\n  IonList,\n  IonItem,\n  IonLabel,\n  IonBadge,\n  IonIcon,\n  IonSegment,\n  IonSegmentButton,\n  IonAvatar,\n  IonButtons,\n  IonButton,\n} from '@ionic/angular/standalone';\nimport { DatePipe, NgFor, NgIf } from '@angular/common';\nimport { addIcons } from 'ionicons';\nimport {\n  trophyOutline,\n  arrowUpOutline,\n  arrowDownOutline,\n  removeOutline,\n  peopleOutline,\n  footballOutline,\n  personOutline, personAddOutline, chevronForwardOutline } from 'ionicons/icons';\nimport { FormsModule } from '@angular/forms';\nimport { GroupService, Standing, GroupWithStandings } from '@core/services/group.service';\nimport { AuthService } from '@core/services/auth.service';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-standings',\n  templateUrl: './standings.page.html',\n  styleUrls: ['./standings.page.scss'],\n  standalone: true,\n  imports: [\n    IonHeader,\n    IonToolbar,\n    IonTitle,\n    IonContent,\n    IonCard,\n    IonCardHeader,\n    IonCardTitle,\n    IonCardContent,\n    IonList,\n    IonItem,\n    IonLabel,\n    IonBadge,\n    IonIcon,\n    IonSegment,\n    IonSegmentButton,\n    IonAvatar,\n    DatePipe,\n    NgFor,\n    NgIf,\n    FormsModule,\n    IonButtons,\n    IonButton,\n  ],\n})\nexport class StandingsPage implements OnInit, OnDestroy {\n  currentUserId: string | null = null;\n  groupStandings: GroupWithStandings[] = [];\n  private groupsSubscription?: Subscription;\n\n  constructor(\n    private router: Router,\n    private groupService: GroupService,\n    private authService: AuthService\n  ) {\n    addIcons({footballOutline,personOutline,peopleOutline,personAddOutline,chevronForwardOutline,trophyOutline,arrowUpOutline,arrowDownOutline,removeOutline,});\n  }\n\n  ngOnInit() {\n    this.currentUserId = this.authService.getCurrentUser()?.id || null;\n    this.loadGroupStandings();\n    \n    // Subscribe to group updates\n    this.groupsSubscription = this.groupService.groups$.subscribe(() => {\n      this.loadGroupStandings();\n    });\n  }\n\n  ngOnDestroy() {\n    if (this.groupsSubscription) {\n      this.groupsSubscription.unsubscribe();\n    }\n  }\n\n  private loadGroupStandings() {\n    // Use the new optimized method from group service\n    this.groupStandings = this.groupService.getUserGroupsWithStandings();\n  }\n\n  // Track by function for better performance when rendering groups\n  trackByGroupId(index: number, item: GroupWithStandings): string {\n    return item.group.id;\n  }\n\n  viewGroupStandings(groupId: string) {\n    this.router.navigate(['/player/group-standings', groupId]);\n  }\n\n  getPositionChange(current: number, previous: number): string {\n    if (current === previous) return 'same';\n    return current < previous ? 'up' : 'down';\n  }\n\n  getPositionIcon(change: string): string {\n    switch (change) {\n      case 'up':\n        return 'arrow-up-outline';\n      case 'down':\n        return 'arrow-down-outline';\n      default:\n        return 'remove-outline';\n    }\n  }\n\n  getPositionColor(change: string): string {\n    switch (change) {\n      case 'up':\n        return 'success';\n      case 'down':\n        return 'danger';\n      default:\n        return 'medium';\n    }\n  }\n\n  isCurrentUser(userId: string): boolean {\n    return userId === this.currentUserId;\n  }\n\n  navigateTo(path: string) {\n    this.router.navigate([path]);\n  }\n}\n","<ion-header>\r\n  <ion-toolbar>\r\n    <div class=\"logo-container\" (click)=\"navigateTo('/player/dashboard')\">\r\n      <ion-icon name=\"football-outline\" class=\"football-icon\"></ion-icon>\r\n      <div class=\"logo-text\">\r\n        <span class=\"logo-sotd\">SOTD</span>\r\n        <span class=\"logo-subtitle\">Predict 3</span>\r\n      </div>\r\n    </div>\r\n    <ion-buttons slot=\"end\">\r\n      <ion-button (click)=\"navigateTo('/player/settings')\">\r\n        <ion-icon name=\"person-outline\"></ion-icon>\r\n      </ion-button>\r\n    </ion-buttons>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content class=\"ion-padding\">\r\n  <!-- Page Title -->\r\n  <div class=\"page-header\">\r\n    <h1>My Groups</h1>\r\n    <p *ngIf=\"groupStandings.length > 0\">{{ groupStandings.length }} group{{ groupStandings.length === 1 ? '' : 's' }} joined</p>\r\n  </div>\r\n\r\n  <!-- No Groups Message -->\r\n  <ion-card *ngIf=\"groupStandings.length === 0\" class=\"empty-state\">\r\n    <ion-card-content>\r\n      <ion-icon name=\"people-outline\" size=\"large\" color=\"medium\"></ion-icon>\r\n      <h3>No Groups Joined</h3>\r\n      <p>Join a group to see your standings!</p>\r\n      <ion-button (click)=\"navigateTo('/player/join-group')\" fill=\"outline\">\r\n        <ion-icon name=\"person-add-outline\" slot=\"start\"></ion-icon>\r\n        Join a Group\r\n      </ion-button>\r\n    </ion-card-content>\r\n  </ion-card>\r\n\r\n  <!-- Groups List -->\r\n  <ion-list *ngIf=\"groupStandings.length > 0\">\r\n    <ion-item \r\n      *ngFor=\"let groupStanding of groupStandings; trackBy: trackByGroupId\" \r\n      button \r\n      (click)=\"viewGroupStandings(groupStanding.group.id)\"\r\n      class=\"group-item\">\r\n      \r\n      <div class=\"group-content\">\r\n        <div class=\"group-main\">\r\n          <h3 class=\"group-name\">{{ groupStanding.group.name }}</h3>\r\n          <div class=\"group-details\">\r\n            <span class=\"member-count\">{{ groupStanding.group.memberCount }} members</span>\r\n            <span class=\"group-type\" [class.prize]=\"groupStanding.group.type === 'prize'\">\r\n              {{ groupStanding.group.type === 'prize' ? 'Prize Pool' : 'Casual' }}\r\n            </span>\r\n          </div>\r\n          <p class=\"group-code\">Code: {{ groupStanding.group.code }}</p>\r\n        </div>\r\n        \r\n        <div class=\"user-position\" *ngIf=\"groupStanding.userPosition\">\r\n          <div class=\"position-number\">#{{ groupStanding.userPosition }}</div>\r\n          <div class=\"position-label\">Your Position</div>\r\n        </div>\r\n      </div>\r\n      \r\n      <ion-icon name=\"chevron-forward-outline\" slot=\"end\" color=\"medium\"></ion-icon>\r\n    </ion-item>\r\n  </ion-list>\r\n</ion-content>"],"names":["IonHeader","IonToolbar","IonContent","IonCard","IonCardContent","IonList","IonItem","IonIcon","IonButtons","IonButton","NgFor","NgIf","addIcons","trophyOutline","arrowUpOutline","arrowDownOutline","removeOutline","peopleOutline","footballOutline","personOutline","personAddOutline","chevronForwardOutline","FormsModule","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate2","ctx_r0","groupStandings","length","ɵɵelement","ɵɵlistener","StandingsPage_ion_card_17_Template_ion_button_click_7_listener","ɵɵrestoreView","_r2","ɵɵnextContext","ɵɵresetView","navigateTo","ɵɵtextInterpolate1","groupStanding_r4","userPosition","StandingsPage_ion_list_18_ion_item_1_Template_ion_item_click_0_listener","_r3","$implicit","viewGroupStandings","group","id","ɵɵtemplate","StandingsPage_ion_list_18_ion_item_1_div_12_Template","ɵɵtextInterpolate","name","memberCount","ɵɵclassProp","type","code","ɵɵproperty","StandingsPage_ion_list_18_ion_item_1_Template","trackByGroupId","StandingsPage","constructor","router","groupService","authService","currentUserId","ngOnInit","_this$authService$get","getCurrentUser","loadGroupStandings","groupsSubscription","groups$","subscribe","ngOnDestroy","unsubscribe","getUserGroupsWithStandings","index","item","groupId","navigate","getPositionChange","current","previous","getPositionIcon","change","getPositionColor","isCurrentUser","userId","path","ɵɵdirectiveInject","i1","Router","i2","GroupService","i3","AuthService","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","StandingsPage_Template","rf","ctx","StandingsPage_Template_div_click_2_listener","StandingsPage_Template_ion_button_click_10_listener","StandingsPage_p_16_Template","StandingsPage_ion_card_17_Template","StandingsPage_ion_list_18_Template","styles"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}