"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[916],{6916:(y,g,l)=>{l.r(g),l.d(g,{LivePage:()=>O});var c=l(4738),d=l(177),_=l(4341),u=l(5079),m=l(5873),e=l(4438);function v(i,o){1&i&&(e.j41(0,"ion-card")(1,"ion-card-content")(2,"div",5),e.EFF(3,"No matches scheduled for today."),e.k0s()()())}function h(i,o){if(1&i&&(e.j41(0,"ion-badge",20),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit,n=e.XpG(3);e.R7$(),e.SpI(" LIVE ",n.getMatchTime(t)," ")}}function f(i,o){1&i&&(e.j41(0,"div",21),e.EFF(1," - vs - "),e.k0s())}function p(i,o){if(1&i&&(e.j41(0,"div",21),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(),e.Lme(" ",(null==t.liveScore?null:t.liveScore.home)||0," - ",(null==t.liveScore?null:t.liveScore.away)||0," ")}}function k(i,o){if(1&i&&(e.j41(0,"div",21),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(),e.Lme(" ",(null==t.finalScore?null:t.finalScore.home)||0," - ",(null==t.finalScore?null:t.finalScore.away)||0," ")}}function M(i,o){if(1&i&&(e.j41(0,"div",22),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit,n=e.XpG(3);e.R7$(),e.SpI(" ",n.getMatchTime(t)," ")}}function x(i,o){1&i&&(e.j41(0,"div",22),e.EFF(1," FT "),e.k0s())}function w(i,o){if(1&i&&(e.j41(0,"ion-item")(1,"div",7)(2,"div",8)(3,"div",9),e.EFF(4),e.k0s(),e.j41(5,"div",10),e.nrm(6,"ion-icon",11),e.EFF(7),e.nI1(8,"date"),e.DNE(9,h,2,1,"ion-badge",12),e.k0s()(),e.j41(10,"div",13)(11,"div",14),e.EFF(12),e.k0s(),e.j41(13,"div",15)(14,"div",16),e.EFF(15),e.k0s(),e.DNE(16,f,2,0,"div",17)(17,p,2,2,"div",17)(18,k,2,2,"div",17)(19,M,2,1,"div",18)(20,x,2,0,"div",18),e.k0s(),e.j41(21,"div",19),e.EFF(22),e.k0s()()()()),2&i){const t=o.$implicit,n=e.XpG(3);e.R7$(4),e.JRh(t.venue),e.R7$(3),e.SpI(" ",e.i5U(8,12,t.kickoff,"EEE d MMM, HH:mm")," "),e.R7$(2),e.Y8G("ngIf",n.isMatchLive(t)),e.R7$(3),e.JRh(t.homeTeam),e.R7$(),e.Y8G("ngClass",n.getScoreClass(t)),e.R7$(2),e.SpI(" ",n.getMatchStatus(t)," "),e.R7$(),e.Y8G("ngIf","scheduled"===t.status),e.R7$(),e.Y8G("ngIf","live"===t.status),e.R7$(),e.Y8G("ngIf","finished"===t.status),e.R7$(),e.Y8G("ngIf","live"===t.status),e.R7$(),e.Y8G("ngIf","finished"===t.status),e.R7$(2),e.JRh(t.awayTeam)}}function P(i,o){if(1&i&&(e.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),e.EFF(3,"Today's Matches"),e.k0s()(),e.j41(4,"ion-card-content")(5,"ion-list"),e.DNE(6,w,23,15,"ion-item",6),e.k0s()()()),2&i){const t=e.XpG(2);e.R7$(6),e.Y8G("ngForOf",t.currentMatches)}}function E(i,o){if(1&i&&(e.j41(0,"div"),e.DNE(1,v,4,0,"ion-card",4)(2,P,7,1,"ion-card",4),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",0===t.currentMatches.length),e.R7$(),e.Y8G("ngIf",t.currentMatches.length>0)}}function F(i,o){if(1&i&&(e.j41(0,"ion-card")(1,"ion-card-content")(2,"div",5),e.EFF(3),e.k0s()()()),2&i){const t=e.XpG(2);e.R7$(3),e.SpI(" No matches found for Gameweek ",t.selectedHistoryGameweek,". ")}}function S(i,o){if(1&i&&(e.j41(0,"ion-item")(1,"div",7)(2,"div",8)(3,"div",9),e.EFF(4),e.k0s(),e.j41(5,"div",10),e.nrm(6,"ion-icon",11),e.EFF(7),e.nI1(8,"date"),e.k0s()(),e.j41(9,"div",13)(10,"div",14),e.EFF(11),e.k0s(),e.j41(12,"div",28)(13,"div",16),e.EFF(14,"FINAL SCORE"),e.k0s(),e.j41(15,"div",21),e.EFF(16),e.k0s(),e.j41(17,"div",22),e.EFF(18,"FT"),e.k0s()(),e.j41(19,"div",19),e.EFF(20),e.k0s()()()()),2&i){const t=o.$implicit;e.R7$(4),e.JRh(t.venue),e.R7$(3),e.SpI(" ",e.i5U(8,6,t.kickoff,"EEE d MMM, HH:mm")," "),e.R7$(4),e.JRh(t.homeTeam),e.R7$(5),e.Lme(" ",(null==t.finalScore?null:t.finalScore.home)||0," - ",(null==t.finalScore?null:t.finalScore.away)||0," "),e.R7$(4),e.JRh(t.awayTeam)}}function T(i,o){if(1&i&&(e.j41(0,"ion-card")(1,"ion-card-content")(2,"ion-list"),e.DNE(3,S,21,9,"ion-item",6),e.k0s()()()),2&i){const t=e.XpG(2);e.R7$(3),e.Y8G("ngForOf",t.historicalMatches)}}function C(i,o){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"div",23)(2,"ion-button",24),e.bIt("click",function(){e.eBV(t);const a=e.XpG();return e.Njj(a.navigateHistoryGameweek(-1))}),e.nrm(3,"ion-icon",25),e.k0s(),e.j41(4,"div",26)(5,"h2"),e.EFF(6),e.k0s()(),e.j41(7,"ion-button",24),e.bIt("click",function(){e.eBV(t);const a=e.XpG();return e.Njj(a.navigateHistoryGameweek(1))}),e.nrm(8,"ion-icon",27),e.k0s()(),e.DNE(9,F,4,1,"ion-card",4)(10,T,4,1,"ion-card",4),e.k0s()}if(2&i){const t=e.XpG();e.R7$(2),e.Y8G("disabled",!t.canNavigateHistory("back")),e.R7$(4),e.SpI("Gameweek ",t.selectedHistoryGameweek,""),e.R7$(),e.Y8G("disabled",!t.canNavigateHistory("forward")),e.R7$(2),e.Y8G("ngIf",0===t.historicalMatches.length),e.R7$(),e.Y8G("ngIf",t.historicalMatches.length>0)}}let O=(()=>{var i;class o{constructor(){this.selectedSegment="current",this.currentMatches=[],this.historicalMatches=[],this.selectedHistoryGameweek=14,this.historicalGameweeks=[],(0,u.a)({timeOutline:m.CVk,footballOutline:m.gMr,chevronBackOutline:m.fKZ,chevronForwardOutline:m.N05})}ngOnInit(){this.loadMatches(),this.startLiveScoreUpdates()}ngOnDestroy(){this.liveScoreUpdateInterval&&clearInterval(this.liveScoreUpdateInterval)}loadMatches(){this.currentMatches=[{id:1,gameweek:15,homeTeam:"Manchester United",awayTeam:"Liverpool",kickoff:"2024-01-20T15:00:00",venue:"Old Trafford",status:"live",liveScore:{home:2,away:1,isLive:!0,minute:67}},{id:2,gameweek:15,homeTeam:"Arsenal",awayTeam:"Chelsea",kickoff:"2024-01-20T17:30:00",venue:"Emirates Stadium",status:"scheduled"},{id:3,gameweek:15,homeTeam:"Manchester City",awayTeam:"Tottenham",kickoff:"2024-01-20T20:00:00",venue:"Etihad Stadium",status:"scheduled"}],this.historicalMatches=[{id:1,gameweek:14,homeTeam:"Arsenal",awayTeam:"Brighton",kickoff:"2024-01-17T19:45:00",venue:"Emirates Stadium",status:"finished",finalScore:{home:2,away:1}},{id:2,gameweek:14,homeTeam:"Brentford",awayTeam:"Chelsea",kickoff:"2024-01-17T20:00:00",venue:"Gtech Community Stadium",status:"finished",finalScore:{home:0,away:2}},{id:3,gameweek:14,homeTeam:"Manchester City",awayTeam:"Tottenham",kickoff:"2024-01-17T20:15:00",venue:"Etihad Stadium",status:"finished",finalScore:{home:3,away:3}}],this.historicalGameweeks=[14,13,12,11,10]}startLiveScoreUpdates(){this.liveScoreUpdateInterval=setInterval(()=>{this.updateLiveScores()},6e4),this.updateLiveScores()}updateLiveScores(){this.currentMatches=this.currentMatches.map(n=>{if("live"===n.status)return{...n,liveScore:{...n.liveScore,minute:this.calculateMatchMinute(n.kickoff)}};if(this.shouldStartMatch(n))return{...n,status:"live",liveScore:{home:0,away:0,isLive:!0,minute:1}};if(this.shouldFinishMatch(n)){const a=n.liveScore||{home:0,away:0};return{...n,status:"finished",finalScore:{home:a.home,away:a.away}}}return n})}shouldStartMatch(n){const a=new Date(n.kickoff);return"scheduled"===n.status&&new Date>=a}shouldFinishMatch(n){const a=new Date(n.kickoff);return"live"===n.status&&new Date>=new Date(a.getTime()+72e5)}calculateMatchMinute(n){const a=new Date(n),s=Math.floor(((new Date).getTime()-a.getTime())/6e4);return s>=45&&s<60?45:s>=90?90:s>60?s-15:s}getMatchTime(n){var a;if("live"!==n.status||null===(a=n.liveScore)||void 0===a||!a.isLive)return"";const r=n.liveScore.minute,s=n.liveScore.additionalTime;return 45===r&&s?`45+${s}'`:90===r&&s?`90+${s}'`:`${r}'`}getMatchStatus(n){switch(n.status){case"scheduled":return"SCHEDULED";case"live":return"LIVE";case"finished":return"FINAL SCORE";default:return""}}getScoreClass(n){return n.status}isMatchLive(n){return"live"===n.status}navigateHistoryGameweek(n){const r=this.historicalGameweeks.indexOf(this.selectedHistoryGameweek)+n;r>=0&&r<this.historicalGameweeks.length&&(this.selectedHistoryGameweek=this.historicalGameweeks[r])}canNavigateHistory(n){const a=this.historicalGameweeks.indexOf(this.selectedHistoryGameweek);return"back"===n?a<this.historicalGameweeks.length-1:a>0}}return(i=o).\u0275fac=function(n){return new(n||i)},i.\u0275cmp=e.VBU({type:i,selectors:[["app-live"]],standalone:!0,features:[e.aNF],decls:14,vars:3,consts:[[1,"ion-padding"],[1,"scores-segment",3,"ngModelChange","ngModel"],["value","current"],["value","history"],[4,"ngIf"],[1,"no-matches"],[4,"ngFor","ngForOf"],[1,"match-item"],[1,"match-info"],[1,"venue-info"],[1,"match-time"],["name","time-outline"],["color","danger","class","live-badge",4,"ngIf"],[1,"teams-score"],[1,"team","home"],[1,"score",3,"ngClass"],[1,"score-label"],["class","score-value",4,"ngIf"],["class","match-minute",4,"ngIf"],[1,"team","away"],["color","danger",1,"live-badge"],[1,"score-value"],[1,"match-minute"],[1,"gameweek-navigation"],["fill","clear",1,"nav-button",3,"click","disabled"],["slot","icon-only","name","chevron-back-outline"],[1,"gameweek-title"],["slot","icon-only","name","chevron-forward-outline"],[1,"score","finished"]],template:function(n,a){1&n&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"Live Scores"),e.k0s()()(),e.j41(4,"ion-content",0)(5,"ion-segment",1),e.mxI("ngModelChange",function(s){return e.DH7(a.selectedSegment,s)||(a.selectedSegment=s),s}),e.j41(6,"ion-segment-button",2)(7,"ion-label"),e.EFF(8,"Current Matches"),e.k0s()(),e.j41(9,"ion-segment-button",3)(10,"ion-label"),e.EFF(11,"History"),e.k0s()()(),e.DNE(12,E,3,2,"div",4)(13,C,11,5,"div",4),e.k0s()),2&n&&(e.R7$(5),e.R50("ngModel",a.selectedSegment),e.R7$(7),e.Y8G("ngIf","current"===a.selectedSegment),e.R7$(),e.Y8G("ngIf","history"===a.selectedSegment))},dependencies:[c.eU,c.ai,c.BC,c.W9,c.Gp,c.eP,c.he,c.b_,c.ME,c.tN,c.I9,c.nf,c.uz,c.In,c.iq,c.Jm,d.bT,d.pM,d.YU,d.vh,_.YN,_.BC,_.vS],styles:[".scores-segment[_ngcontent-%COMP%]{margin-bottom:16px;--background: var(--ion-color-light)}.gameweek-navigation[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;padding:0 8px}.nav-button[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;height:36px;--color: var(--ion-color-medium)}.nav-button[disabled][_ngcontent-%COMP%]{opacity:.5}.nav-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px}.gameweek-title[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px}.gameweek-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:var(--ion-color-dark)}.no-matches[_ngcontent-%COMP%]{text-align:center;padding:32px 16px;color:var(--ion-color-medium);font-size:16px}.match-item[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:8px;padding:8px 0}.match-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px}.venue-info[_ngcontent-%COMP%]{font-size:14px;color:var(--ion-color-medium)}.match-time[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:14px;color:var(--ion-color-medium)}.match-time[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.match-time[_ngcontent-%COMP%]   .live-badge[_ngcontent-%COMP%]{font-size:10px;padding:4px 6px;margin-left:6px}.teams-score[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px;margin:8px 0}.team[_ngcontent-%COMP%]{flex:1;font-size:16px;font-weight:500}.team.home[_ngcontent-%COMP%]{text-align:right}.team.away[_ngcontent-%COMP%]{text-align:left}.score[_ngcontent-%COMP%]{min-width:120px;padding:8px 16px;border-radius:8px;text-align:center}.score.scheduled[_ngcontent-%COMP%]{background:var(--ion-color-light);color:var(--ion-color-medium)}.score.live[_ngcontent-%COMP%]{background-color:rgba(var(--ion-color-danger-rgb),.08);color:var(--ion-color-danger)}.score.finished[_ngcontent-%COMP%]{background-color:rgba(var(--ion-color-success-rgb),.08);color:var(--ion-color-success)}.score[_ngcontent-%COMP%]   .score-label[_ngcontent-%COMP%]{font-size:10px;font-weight:500;text-transform:uppercase;letter-spacing:.5px;margin-bottom:4px}.score[_ngcontent-%COMP%]   .score-value[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin:4px 0}.score[_ngcontent-%COMP%]   .match-minute[_ngcontent-%COMP%]{font-size:14px;margin-top:2px}"]}),o})()}}]);