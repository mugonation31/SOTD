"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[886],{7886:(C,c,i)=>{i.r(c),i.d(c,{LeaderboardPage:()=>v});var a=i(5050),d=i(177),u=i(5079),p=i(5873),o=i(4438),m=i(8199),_=i(9699),b=i(8010);function f(r,g){if(1&r&&(o.j41(0,"p"),o.EFF(1),o.k0s()),2&r){const e=o.XpG();o.R7$(),o.Lme("",e.groupStandings.length," group",1===e.groupStandings.length?"":"s"," managed")}}function h(r,g){if(1&r){const e=o.RV6();o.j41(0,"ion-card",12)(1,"ion-card-content"),o.nrm(2,"ion-icon",13),o.j41(3,"h3"),o.EFF(4,"No Groups Created"),o.k0s(),o.j41(5,"p"),o.EFF(6,"Create your first group to see leaderboards!"),o.k0s(),o.j41(7,"ion-button",14),o.bIt("click",function(){o.eBV(e);const n=o.XpG();return o.Njj(n.createNewGroup())}),o.nrm(8,"ion-icon",15),o.EFF(9," Create Group "),o.k0s()()()}}function P(r,g){if(1&r){const e=o.RV6();o.j41(0,"ion-item",17),o.bIt("click",function(){const n=o.eBV(e).$implicit,s=o.XpG(2);return o.Njj(s.viewGroupLeaderboard(n.group.id))}),o.j41(1,"div",18)(2,"div",19)(3,"h3",20),o.EFF(4),o.k0s(),o.j41(5,"div",21)(6,"span",22),o.EFF(7),o.k0s(),o.j41(8,"span",23),o.EFF(9),o.k0s()(),o.j41(10,"p",24),o.EFF(11),o.k0s()(),o.j41(12,"div",25)(13,"div",26),o.EFF(14,"Admin"),o.k0s(),o.j41(15,"div",27),o.EFF(16),o.k0s()()(),o.nrm(17,"ion-icon",28),o.k0s()}if(2&r){const e=g.$implicit;o.R7$(4),o.JRh(e.group.name),o.R7$(3),o.SpI("",e.group.memberCount," members"),o.R7$(),o.AVh("prize","prize"===e.group.type),o.R7$(),o.SpI(" ","prize"===e.group.type?"Prize Pool":"Casual"," "),o.R7$(2),o.SpI("Code: ",e.group.code,""),o.R7$(5),o.Lme("",e.group.memberCount," ",1===e.group.memberCount?"player":"players","")}}function x(r,g){if(1&r&&(o.j41(0,"ion-list"),o.DNE(1,P,18,8,"ion-item",16),o.k0s()),2&r){const e=o.XpG();o.R7$(),o.Y8G("ngForOf",e.groupStandings)("ngForTrackBy",e.trackByGroupId)}}let v=(()=>{var r;class g{constructor(t,n,s){this.router=t,this.groupService=n,this.authService=s,this.currentUserId=null,this.groupStandings=[],(0,u.a)({footballOutline:p.gMr,personOutline:p.wAZ,peopleOutline:p.wx_,chevronForwardOutline:p.N05,addOutline:p.EKF})}ngOnInit(){var t;console.log("\u{1f680} Leaderboard: Initializing..."),this.currentUserId=(null===(t=this.authService.getCurrentUser())||void 0===t?void 0:t.id)||null,this.loadGroupStandings(),this.groupsSubscription=this.groupService.groups$.subscribe(()=>{console.log("\u{1f504} Leaderboard: Received group update, reloading standings..."),this.loadGroupStandings()})}ngOnDestroy(){this.groupsSubscription&&this.groupsSubscription.unsubscribe()}loadGroupStandings(){console.log("\u{1f4ca} Leaderboard: Loading group standings...");const t=this.groupService.getAdminGroupsWithLeaderboards();this.groupStandings=t.map(n=>{const s=this.groupService.convertToStandings(n.leaderboard),l=n.group.members.length;return console.log(`\u{1f4cb} Group "${n.group.name}": memberCount=${n.group.memberCount}, actualMembers=${l}`),{group:{id:n.group.id,name:n.group.name,code:n.group.code,memberCount:l,type:n.group.type},leaderboard:s,adminPosition:n.adminPosition}}),console.log("\u2705 Leaderboard: Loaded standings for",this.groupStandings.length,"groups"),console.log("\u{1f4ca} Member counts:",this.groupStandings.map(n=>({name:n.group.name,memberCount:n.group.memberCount,leaderboardEntries:n.leaderboard.length})))}trackByGroupId(t,n){return n.group.id}viewGroupLeaderboard(t){this.router.navigate(["/group-admin/groups",t,"leaderboard"])}navigateTo(t){this.router.navigate([t])}createNewGroup(){this.router.navigate(["/group-admin/groups"])}}return(r=g).\u0275fac=function(t){return new(t||r)(o.rXU(m.Ix),o.rXU(_.B),o.rXU(b.u))},r.\u0275cmp=o.VBU({type:r,selectors:[["app-leaderboard"]],standalone:!0,features:[o.aNF],decls:19,vars:3,consts:[[1,"logo-container",3,"click"],["name","football-outline",1,"football-icon"],[1,"logo-text"],[1,"logo-sotd"],[1,"logo-subtitle"],["slot","end"],[3,"click"],["name","person-outline"],[1,"ion-padding"],[1,"page-header"],[4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"empty-state"],["name","people-outline","size","large","color","medium"],["fill","outline",3,"click"],["name","add-outline","slot","start"],["button","","class","group-item",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["button","",1,"group-item",3,"click"],[1,"group-content"],[1,"group-main"],[1,"group-name"],[1,"group-details"],[1,"member-count"],[1,"group-type"],[1,"group-code"],[1,"admin-info"],[1,"admin-label"],[1,"member-stats"],["name","chevron-forward-outline","slot","end","color","medium"]],template:function(t,n){1&t&&(o.j41(0,"ion-header")(1,"ion-toolbar")(2,"div",0),o.bIt("click",function(){return n.navigateTo("/group-admin/dashboard")}),o.nrm(3,"ion-icon",1),o.j41(4,"div",2)(5,"span",3),o.EFF(6,"SOTD"),o.k0s(),o.j41(7,"span",4),o.EFF(8,"Predict 3"),o.k0s()()(),o.j41(9,"ion-buttons",5)(10,"ion-button",6),o.bIt("click",function(){return n.navigateTo("/group-admin/settings")}),o.nrm(11,"ion-icon",7),o.k0s()()()(),o.j41(12,"ion-content",8)(13,"div",9)(14,"h1"),o.EFF(15,"My Groups"),o.k0s(),o.DNE(16,f,2,2,"p",10),o.k0s(),o.DNE(17,h,10,0,"ion-card",11)(18,x,2,2,"ion-list",10),o.k0s()),2&t&&(o.R7$(16),o.Y8G("ngIf",n.groupStandings.length>0),o.R7$(),o.Y8G("ngIf",0===n.groupStandings.length),o.R7$(),o.Y8G("ngIf",n.groupStandings.length>0))},dependencies:[a.eU,a.ai,a.W9,a.b_,a.I9,a.nf,a.uz,a.iq,a.QW,a.Jm,d.pM,d.bT],styles:[".logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer;transition:opacity .2s ease}.logo-container[_ngcontent-%COMP%]:hover{opacity:.8}.football-icon[_ngcontent-%COMP%]{font-size:24px;color:var(--ion-color-primary)}.logo-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;line-height:1}.logo-sotd[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--ion-color-dark)}.logo-subtitle[_ngcontent-%COMP%]{font-size:12px;color:var(--ion-color-medium)}.page-header[_ngcontent-%COMP%]{margin-bottom:24px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px;font-weight:600;margin:0 0 8px;color:var(--ion-color-dark)}.page-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--ion-color-medium);font-size:16px}.empty-state[_ngcontent-%COMP%]{text-align:center;margin-top:40px;border-radius:12px}.empty-state[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:40px 24px}.empty-state[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-bottom:16px;opacity:.6}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;margin:0 0 8px;color:var(--ion-color-dark)}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 24px;color:var(--ion-color-medium);font-size:16px;line-height:1.5}.group-item[_ngcontent-%COMP%]{--border-radius: 12px;--background: white;--padding-start: 20px;--padding-end: 20px;--padding-top: 16px;--padding-bottom: 16px;margin-bottom:12px;box-shadow:0 2px 8px #00000014;transition:all .2s ease}.group-item[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #00000026;transform:translateY(-1px)}.group-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.group-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;gap:16px}.group-main[_ngcontent-%COMP%]{flex:1;min-width:0}.group-name[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin:0 0 8px;color:var(--ion-color-dark);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.group-details[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:4px}.member-count[_ngcontent-%COMP%]{font-size:14px;color:var(--ion-color-medium);font-weight:500}.group-type[_ngcontent-%COMP%]{font-size:12px;padding:4px 8px;border-radius:6px;background:var(--ion-color-light);color:var(--ion-color-medium);font-weight:500;text-transform:uppercase;letter-spacing:.5px}.group-type.prize[_ngcontent-%COMP%]{background:var(--ion-color-primary);color:#fff}.group-code[_ngcontent-%COMP%]{font-size:14px;color:var(--ion-color-medium);margin:0;font-family:Courier New,monospace;font-weight:500}.admin-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;min-width:80px}.admin-label[_ngcontent-%COMP%]{font-size:12px;color:var(--ion-color-primary);font-weight:600;text-transform:uppercase;letter-spacing:.5px;margin-bottom:4px}.member-stats[_ngcontent-%COMP%]{font-size:14px;color:var(--ion-color-medium);font-weight:500}"]}),g})()}}]);