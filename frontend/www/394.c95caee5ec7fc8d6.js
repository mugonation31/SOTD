"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[394],{6394:(f,m,s)=>{s.r(m),s.d(m,{SuperAdminLoginPage:()=>O});var r=s(4341),c=s(7570),i=s(4738),h=s(177),n=s(4438),p=s(8010);const P=()=>["/super-admin/register"];function C(l,d){1&l&&(n.j41(0,"ion-note",15),n.EFF(1," Email is required "),n.k0s())}function M(l,d){1&l&&(n.j41(0,"ion-note",15),n.EFF(1," Password is required "),n.k0s())}let O=(()=>{var l;class d{constructor(a,e,t){this.fb=a,this.authService=e,this.router=t,this.isLoading=!1,this.loginForm=this.fb.group({email:["",[r.k0.required,r.k0.email]],password:["",[r.k0.required]]})}ngOnInit(){console.log("\u{1f50d} Super Admin Login Page - Current Auth State:"),console.log("isAuthenticated:",this.authService.isAuthenticated()),console.log("isSuperAdmin:",this.authService.isSuperAdmin()),console.log("currentUser:",this.authService.getCurrentUser())}debugAuthState(){console.log("\u{1f50d} Debug Auth State Called:"),this.authService.debugAuthState()}onSubmit(){if(this.loginForm.valid){var a,e;this.isLoading=!0;const t={email:null===(a=this.loginForm.get("email"))||void 0===a?void 0:a.value,password:null===(e=this.loginForm.get("password"))||void 0===e?void 0:e.value,securityQuestion:"",securityAnswer:""};localStorage.setItem(`pendingRole_${t.email}`,"super-admin"),localStorage.setItem(`pendingUsername_${t.email}`,"SuperAdmin"),localStorage.setItem(`pendingFirstName_${t.email}`,"Super"),localStorage.setItem(`pendingLastName_${t.email}`,"Admin"),this.authService.login(t).subscribe({next:o=>{console.log("Super admin login successful:",o),this.router.navigate(["/super-admin/dashboard"]),this.isLoading=!1},error:o=>{var u;console.error("Super admin login failed:",o),this.isLoading=!1;const g=(null==o||null===(u=o.error)||void 0===u?void 0:u.message)||(null==o?void 0:o.message)||"Login failed. Please check your credentials and try again.";alert(g)}})}}}return(l=d).\u0275fac=function(a){return new(a||l)(n.rXU(r.ok),n.rXU(p.u),n.rXU(c.Ix))},l.\u0275cmp=n.VBU({type:l,selectors:[["app-super-admin-login"]],standalone:!0,features:[n.aNF],decls:31,vars:11,consts:[[1,"ion-padding"],[1,"auth-card"],[1,"auth-header"],[3,"ngSubmit","formGroup"],[1,"auth-form"],["type","email","formControlName","email","placeholder","Email"],["slot","error",4,"ngIf"],["type","password","formControlName","password","placeholder","Password"],[1,"auth-actions"],["expand","block","type","submit",3,"disabled"],["expand","block","fill","outline","color","warning",3,"click"],[1,"auth-footer"],[1,"auth-link"],["color","medium"],[3,"routerLink"],["slot","error"]],template:function(a,e){if(1&a&&(n.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),n.EFF(3,"Super Admin Login"),n.k0s()()(),n.j41(4,"ion-content",0)(5,"ion-card",1)(6,"ion-card-content")(7,"div",2)(8,"h1"),n.EFF(9,"Super Admin Access"),n.k0s(),n.j41(10,"p"),n.EFF(11,"Login to manage the system"),n.k0s()(),n.j41(12,"form",3),n.bIt("ngSubmit",function(){return e.onSubmit()}),n.j41(13,"ion-list",4)(14,"ion-item"),n.nrm(15,"ion-input",5),n.DNE(16,C,2,0,"ion-note",6),n.k0s(),n.j41(17,"ion-item"),n.nrm(18,"ion-input",7),n.DNE(19,M,2,0,"ion-note",6),n.k0s()(),n.j41(20,"div",8)(21,"ion-button",9),n.EFF(22),n.k0s(),n.j41(23,"ion-button",10),n.bIt("click",function(){return e.debugAuthState()}),n.EFF(24," Debug Auth State "),n.k0s()(),n.j41(25,"div",11)(26,"div",12)(27,"ion-text",13),n.EFF(28," Need to register as Super Admin? "),n.j41(29,"a",14),n.EFF(30,"Register"),n.k0s()()()()()()()()),2&a){let t,o,u,g;n.R7$(12),n.Y8G("formGroup",e.loginForm),n.R7$(3),n.AVh("ion-invalid",(null==(t=e.loginForm.get("email"))?null:t.touched)&&(null==(t=e.loginForm.get("email"))?null:t.errors)),n.R7$(),n.Y8G("ngIf",(null==(o=e.loginForm.get("email"))?null:o.touched)&&(null==(o=e.loginForm.get("email"))||null==o.errors?null:o.errors.required)),n.R7$(2),n.AVh("ion-invalid",(null==(u=e.loginForm.get("password"))?null:u.touched)&&(null==(u=e.loginForm.get("password"))?null:u.errors)),n.R7$(),n.Y8G("ngIf",(null==(g=e.loginForm.get("password"))?null:g.touched)&&(null==(g=e.loginForm.get("password"))||null==g.errors?null:g.errors.required)),n.R7$(2),n.Y8G("disabled",e.loginForm.invalid||e.isLoading),n.R7$(),n.SpI(" ",e.isLoading?"Logging in...":"Login"," "),n.R7$(7),n.Y8G("routerLink",n.lJ4(10,P))}},dependencies:[h.MD,h.bT,r.X1,r.qT,r.BC,r.cb,r.j4,r.JD,c.Wk,i.eU,i.ai,i.BC,i.W9,i.$w,i.Jm,i.uz,i.nf,i.b_,i.I9,i.IO,i.JI],styles:["[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: var(--ion-color-light)}[_nghost-%COMP%]   .auth-card[_ngcontent-%COMP%]{max-width:500px;margin:2rem auto;border-radius:16px;box-shadow:0 4px 12px #0000001a}[_nghost-%COMP%]   .auth-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}[_nghost-%COMP%]   .auth-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-bottom:.5rem;color:var(--ion-color-dark)}[_nghost-%COMP%]   .auth-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium);margin:0}[_nghost-%COMP%]   .auth-form[_ngcontent-%COMP%]{background:transparent;margin-bottom:1.5rem}[_nghost-%COMP%]   .auth-form[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: transparent;--border-color: rgba(0, 0, 0, .1);--border-width: 1px;--border-style: solid;--border-radius: 4px;--padding-start: 12px;margin-bottom:1rem}[_nghost-%COMP%]   .auth-form[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--padding-start: 8px;font-size:1rem}[_nghost-%COMP%]   .auth-actions[_ngcontent-%COMP%]{margin-bottom:1.5rem}[_nghost-%COMP%]   .auth-actions[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0;height:48px;--border-radius: 4px;font-weight:600}[_nghost-%COMP%]   .auth-footer[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .auth-footer[_ngcontent-%COMP%]   .auth-link[_ngcontent-%COMP%]{margin-top:1rem}[_nghost-%COMP%]   .auth-footer[_ngcontent-%COMP%]   .auth-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--ion-color-primary);text-decoration:none;font-weight:500;margin-left:.5rem}[_nghost-%COMP%]   .auth-footer[_ngcontent-%COMP%]   .auth-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]}),d})()}}]);