"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[402],{9402:(w,p,c)=>{c.r(p),c.d(p,{MatchesPage:()=>b});var f=c(467),a=c(4738),u=c(177),l=c(4341),_=c(5079),d=c(5873),e=c(4438),P=c(7570);function k(s,m){1&s&&(e.j41(0,"div",31)(1,"div",32),e.nrm(2,"ion-icon",33),e.j41(3,"span"),e.EFF(4,"You can't make more than 3 predictions for this game week"),e.k0s()()())}function M(s,m){if(1&s){const i=e.RV6();e.j41(0,"div",34)(1,"div",35)(2,"div",36),e.nrm(3,"ion-icon",37),e.EFF(4),e.k0s(),e.j41(5,"div",38),e.nrm(6,"ion-icon",21),e.EFF(7),e.nI1(8,"date"),e.k0s()(),e.j41(9,"div",39)(10,"div",40),e.EFF(11),e.k0s(),e.j41(12,"div",41)(13,"input",42),e.mxI("ngModelChange",function(t){const o=e.eBV(i).$implicit;return e.DH7(o.prediction.homeScore,t)||(o.prediction.homeScore=t),e.Njj(t)}),e.bIt("ngModelChange",function(){const t=e.eBV(i).$implicit,o=e.XpG();return e.Njj(o.onScoreChange(t))}),e.k0s(),e.j41(14,"span",43),e.EFF(15,"-"),e.k0s(),e.j41(16,"input",42),e.mxI("ngModelChange",function(t){const o=e.eBV(i).$implicit;return e.DH7(o.prediction.awayScore,t)||(o.prediction.awayScore=t),e.Njj(t)}),e.bIt("ngModelChange",function(){const t=e.eBV(i).$implicit,o=e.XpG();return e.Njj(o.onScoreChange(t))}),e.k0s()(),e.j41(17,"div",44),e.EFF(18),e.k0s()()()}if(2&s){const i=m.$implicit;e.R7$(4),e.SpI(" ",i.venue," "),e.R7$(3),e.SpI(" ",e.i5U(8,6,i.kickoff,"EEEE d MMM HH:mm")," "),e.R7$(4),e.JRh(i.homeTeam),e.R7$(2),e.R50("ngModel",i.prediction.homeScore),e.R7$(3),e.R50("ngModel",i.prediction.awayScore),e.R7$(2),e.JRh(i.awayTeam)}}let b=(()=>{var s;class m{constructor(n){this.router=n,this.currentGameweek={number:15,isSpecial:!1,status:"open",deadline:"2024-01-20T11:30:00",matches:[]},this.matches=[{id:1,homeTeam:"Manchester United",awayTeam:"Liverpool",kickoff:"2024-01-20T15:00:00",venue:"Old Trafford",prediction:{homeScore:null,awayScore:null}},{id:2,homeTeam:"Arsenal",awayTeam:"Chelsea",kickoff:"2024-01-20T17:30:00",venue:"Emirates Stadium",prediction:{homeScore:null,awayScore:null}},{id:3,homeTeam:"Manchester City",awayTeam:"Tottenham",kickoff:"2024-01-20T20:00:00",venue:"Etihad Stadium",prediction:{homeScore:null,awayScore:null}},{id:4,homeTeam:"Newcastle",awayTeam:"Aston Villa",kickoff:"2024-01-21T14:00:00",venue:"St. James Park",prediction:{homeScore:null,awayScore:null}},{id:5,homeTeam:"Brighton",awayTeam:"Crystal Palace",kickoff:"2024-01-21T16:30:00",venue:"Amex Stadium",prediction:{homeScore:null,awayScore:null}},{id:6,homeTeam:"Brentford",awayTeam:"Nottingham Forest",kickoff:"2024-01-21T14:00:00",venue:"Gtech Community Stadium",prediction:{homeScore:null,awayScore:null}},{id:7,homeTeam:"West Ham",awayTeam:"Bournemouth",kickoff:"2024-01-21T14:00:00",venue:"London Stadium",prediction:{homeScore:null,awayScore:null}},{id:8,homeTeam:"Fulham",awayTeam:"Everton",kickoff:"2024-01-21T14:00:00",venue:"Craven Cottage",prediction:{homeScore:null,awayScore:null}},{id:9,homeTeam:"Luton Town",awayTeam:"Burnley",kickoff:"2024-01-21T14:00:00",venue:"Kenilworth Road",prediction:{homeScore:null,awayScore:null}},{id:10,homeTeam:"Sheffield United",awayTeam:"Wolves",kickoff:"2024-01-21T14:00:00",venue:"Bramall Lane",prediction:{homeScore:null,awayScore:null}}],this.showTooManyPredictionsWarning=!1,this.selectedPredictionCount=0,this.showSuccessToast=!1,this.predictionsCompleted=!1,(0,_.a)({timeOutline:d.CVk,footballOutline:d.gMr,refreshOutline:d.mVv,alertCircleOutline:d.ndb,chevronBackOutline:d.fKZ,chevronForwardOutline:d.N05,personOutline:d.wAZ}),this.checkPredictionsStatus()}checkPredictionsStatus(){const t=JSON.parse(localStorage.getItem("playerPredictions")||"[]").find(o=>o.gameweek===this.currentGameweek.number);if(t){const o=t.predictions.length;this.predictionsCompleted=this.currentGameweek.isSpecial?o===this.matches.length:3===o}}onScoreChange(n){if(this.predictionsCompleted)return n.prediction.homeScore=null,n.prediction.awayScore=null,void(this.showTooManyPredictionsWarning=!0);null!==n.prediction.homeScore&&(n.prediction.homeScore=Math.max(0,Math.min(99,n.prediction.homeScore))),null!==n.prediction.awayScore&&(n.prediction.awayScore=Math.max(0,Math.min(99,n.prediction.awayScore))),this.updatePredictionCount()}updatePredictionCount(){this.selectedPredictionCount=this.matches.filter(n=>null!==n.prediction.homeScore&&null!==n.prediction.awayScore).length,this.showTooManyPredictionsWarning=!this.currentGameweek.isSpecial&&this.selectedPredictionCount>3}canSubmit(){return!this.predictionsCompleted&&(this.currentGameweek.isSpecial?this.selectedPredictionCount===this.matches.length:3===this.selectedPredictionCount)}onSubmit(){var n=this;return(0,f.A)(function*(){if(n.predictionsCompleted)return;const t=n.matches.filter(r=>null!==r.prediction.homeScore&&null!==r.prediction.awayScore),o={gameweek:n.currentGameweek.number,submittedAt:(new Date).toISOString(),predictions:t.map(r=>({id:r.id,gameweek:n.currentGameweek.number,match:{homeTeam:r.homeTeam,awayTeam:r.awayTeam,kickoff:r.kickoff,venue:r.venue},prediction:{home:r.prediction.homeScore,away:r.prediction.awayScore},status:"pending"}))},g=JSON.parse(localStorage.getItem("playerPredictions")||"[]").filter(r=>r.gameweek!==n.currentGameweek.number);g.push(o),localStorage.setItem("playerPredictions",JSON.stringify(g)),n.resetPredictions(),n.predictionsCompleted=!0,n.showSuccessToast=!0})()}resetPredictions(){this.matches.forEach(n=>{n.prediction.homeScore=null,n.prediction.awayScore=null}),this.selectedPredictionCount=0,this.showTooManyPredictionsWarning=!1}navigateGameweek(n){const t=this.currentGameweek.number+n;t>=1&&t<=38&&(this.predictionsCompleted&&this.moveCurrentPredictionsToHistory(),this.currentGameweek={...this.currentGameweek,number:t},this.loadGameweekMatches(t),this.predictionsCompleted=!1,this.resetPredictions())}moveCurrentPredictionsToHistory(){const n=JSON.parse(localStorage.getItem("playerPredictions")||"[]"),t=n.find(o=>o.gameweek===this.currentGameweek.number);if(t){const o=JSON.parse(localStorage.getItem("historicalPredictions")||"[]");o.push(t),localStorage.setItem("historicalPredictions",JSON.stringify(o));const h=n.filter(g=>g.gameweek!==this.currentGameweek.number);localStorage.setItem("playerPredictions",JSON.stringify(h))}}loadGameweekMatches(n){console.log("Loading matches for gameweek:",n)}navigateTo(n){this.router.navigate([n])}}return(s=m).\u0275fac=function(n){return new(n||s)(e.rXU(P.Ix))},s.\u0275cmp=e.VBU({type:s,selectors:[["app-matches"]],standalone:!0,features:[e.aNF],decls:46,vars:11,consts:[[1,"logo-container",3,"click"],["name","football-outline",1,"football-icon"],[1,"logo-text"],[1,"logo-sotd"],[1,"logo-subtitle"],["slot","end"],[3,"click"],["name","person-outline"],[1,"ion-padding"],[1,"ion-justify-content-center"],["size","12","size-md","10","size-lg","8"],[1,"gameweek-navigation"],["fill","clear",1,"nav-button",3,"click","disabled"],["slot","icon-only","name","chevron-back-outline"],[1,"gameweek-title"],["color","primary",1,"prediction-badge"],["slot","icon-only","name","chevron-forward-outline"],[1,"deadline-card"],[1,"deadline-info"],[1,"deadline-section"],[1,"deadline"],["name","time-outline"],[1,"selection-info"],["fill","clear",1,"reset-button",3,"click"],["name","refresh-outline","slot","start"],["class","warning-container",4,"ngIf"],[1,"matches-container"],["class","match-card",4,"ngFor","ngForOf"],[1,"submit-container"],["expand","block",1,"submit-button",3,"click","disabled"],["message","Predictions submitted successfully! View them in the My Predictions tab.","duration","3000","color","success","position","top","icon","checkmark-circle-outline",3,"isOpen"],[1,"warning-container"],[1,"warning-message"],["name","alert-circle-outline","color","danger"],[1,"match-card"],[1,"match-header"],[1,"venue"],["name","football-outline"],[1,"kickoff"],[1,"match-content"],[1,"team","home"],[1,"score-inputs"],["type","number","min","0","max","99","placeholder","-",1,"score-input",3,"ngModelChange","ngModel"],[1,"score-separator"],[1,"team","away"]],template:function(n,t){1&n&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"div",0),e.bIt("click",function(){return t.navigateTo("/player/dashboard")}),e.nrm(3,"ion-icon",1),e.j41(4,"div",2)(5,"span",3),e.EFF(6,"SOTD"),e.k0s(),e.j41(7,"span",4),e.EFF(8,"Predict 3"),e.k0s()()(),e.j41(9,"ion-buttons",5)(10,"ion-button",6),e.bIt("click",function(){return t.navigateTo("/player/settings")}),e.nrm(11,"ion-icon",7),e.k0s()()()(),e.j41(12,"ion-content",8)(13,"ion-grid")(14,"ion-row",9)(15,"ion-col",10)(16,"div",11)(17,"ion-button",12),e.bIt("click",function(){return t.navigateGameweek(-1)}),e.nrm(18,"ion-icon",13),e.k0s(),e.j41(19,"div",14)(20,"h2"),e.EFF(21),e.k0s(),e.j41(22,"ion-badge",15),e.EFF(23,"Predict 3"),e.k0s()(),e.j41(24,"ion-button",12),e.bIt("click",function(){return t.navigateGameweek(1)}),e.nrm(25,"ion-icon",16),e.k0s()(),e.j41(26,"ion-card",17)(27,"ion-card-content")(28,"div",18)(29,"div",19)(30,"p",20),e.nrm(31,"ion-icon",21),e.EFF(32),e.nI1(33,"date"),e.k0s(),e.j41(34,"p",22),e.EFF(35," Make any 3 predictions for this game week "),e.k0s()(),e.j41(36,"ion-button",23),e.bIt("click",function(){return t.resetPredictions()}),e.nrm(37,"ion-icon",24),e.EFF(38," RESET ALL "),e.k0s()(),e.DNE(39,k,5,0,"div",25),e.k0s()(),e.j41(40,"div",26),e.DNE(41,M,19,9,"div",27),e.k0s(),e.j41(42,"div",28)(43,"ion-button",29),e.bIt("click",function(){return t.onSubmit()}),e.EFF(44," Submit Predictions "),e.k0s()()()()(),e.nrm(45,"ion-toast",30),e.k0s()),2&n&&(e.R7$(17),e.Y8G("disabled",t.currentGameweek.number<=1),e.R7$(4),e.SpI("Game Week ",t.currentGameweek.number,""),e.R7$(3),e.Y8G("disabled",t.currentGameweek.number>=38),e.R7$(8),e.SpI(" Deadline: ",e.i5U(33,8,t.currentGameweek.deadline,"MMM d, yyyy, h:mm a")," "),e.R7$(7),e.Y8G("ngIf",t.showTooManyPredictionsWarning),e.R7$(2),e.Y8G("ngForOf",t.matches),e.R7$(2),e.Y8G("disabled",!t.canSubmit()),e.R7$(2),e.Y8G("isOpen",t.showSuccessToast))},dependencies:[a.eU,a.ai,a.W9,a.b_,a.I9,a.Jm,a.iq,a.lO,a.ln,a.hU,a.In,a.QW,u.pM,u.bT,u.vh,l.YN,l.me,l.Q0,l.BC,l.VZ,l.zX,l.vS,a.op],styles:["[_nghost-%COMP%]{--page-margin: 16px;--card-border-radius: 8px;--card-background: #ffffff}ion-content[_ngcontent-%COMP%]{--background: #f4f5f8}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 16px}.logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer}.football-icon[_ngcontent-%COMP%]{font-size:24px;color:var(--ion-color-primary)}.logo-text[_ngcontent-%COMP%]{display:flex;flex-direction:column}.logo-sotd[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--ion-color-dark)}.logo-subtitle[_ngcontent-%COMP%]{font-size:12px;color:var(--ion-color-medium)}.profile-button[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;font-size:22px;--color: var(--ion-color-medium)}.gameweek-navigation[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--page-margin)}.nav-button[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;height:36px;--color: var(--ion-color-medium)}.nav-button[disabled][_ngcontent-%COMP%]{opacity:.5}.nav-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px}.gameweek-title[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px}.gameweek-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:var(--ion-color-dark)}.prediction-badge[_ngcontent-%COMP%]{font-size:12px;font-weight:500;padding:4px 8px;border-radius:4px}.deadline-card[_ngcontent-%COMP%]{margin-bottom:var(--page-margin);border-radius:var(--card-border-radius);box-shadow:none;border:1px solid var(--ion-color-light-shade);background:var(--card-background)}.deadline-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:12px}.deadline-section[_ngcontent-%COMP%]{flex:1}.deadline[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:16px;font-weight:500;color:var(--ion-color-dark);margin:0 0 8px}.deadline[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;color:var(--ion-color-medium)}.selection-info[_ngcontent-%COMP%]{color:var(--ion-color-medium);font-size:14px;margin:0}.reset-button[_ngcontent-%COMP%]{--color: var(--ion-color-medium);text-transform:uppercase;font-weight:500;font-size:14px;height:36px;margin:0}.matches-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;margin-bottom:24px}.match-card[_ngcontent-%COMP%]{background:var(--card-background);border:1px solid var(--ion-color-light-shade);border-radius:var(--card-border-radius);overflow:hidden}.match-header[_ngcontent-%COMP%]{background:rgba(var(--ion-color-light-rgb),.5);padding:12px var(--page-margin);display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--ion-color-light-shade)}.venue[_ngcontent-%COMP%], .kickoff[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:14px;color:var(--ion-color-medium)}.venue[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .kickoff[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.match-content[_ngcontent-%COMP%]{padding:var(--page-margin);display:flex;align-items:center;justify-content:space-between;gap:var(--page-margin)}.team[_ngcontent-%COMP%]{flex:1;font-weight:500;color:var(--ion-color-dark);font-size:15px}.home[_ngcontent-%COMP%]{text-align:right}.away[_ngcontent-%COMP%]{text-align:left}.score-inputs[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;min-width:120px;justify-content:center}.score-input[_ngcontent-%COMP%]{width:48px;height:48px;text-align:center;border:1px solid var(--ion-color-light-shade);border-radius:4px;font-size:16px;color:var(--ion-color-dark);background:rgba(var(--ion-color-light-rgb),.5)}.score-input[_ngcontent-%COMP%]::placeholder{color:var(--ion-color-medium)}.score-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--ion-color-primary);background:var(--card-background)}.score-separator[_ngcontent-%COMP%]{font-size:20px;color:var(--ion-color-medium);font-weight:500}.submit-container[_ngcontent-%COMP%]{padding:0 var(--page-margin) 32px}.submit-button[_ngcontent-%COMP%]{--border-radius: var(--card-border-radius);--padding-top: 16px;--padding-bottom: 16px;font-weight:600;font-size:16px;margin:0}@media (max-width: 576px){[_nghost-%COMP%]{--page-margin: 12px}.match-content[_ngcontent-%COMP%]{flex-direction:column;gap:12px;text-align:center}.team[_ngcontent-%COMP%]{text-align:center}.home[_ngcontent-%COMP%]{order:1}.score-inputs[_ngcontent-%COMP%]{order:2}.away[_ngcontent-%COMP%]{order:3}.score-input[_ngcontent-%COMP%]{width:44px;height:44px}}ion-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;height:36px}ion-buttons[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;color:var(--ion-color-medium)}.warning-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:1000;padding:16px;background:rgba(var(--ion-color-danger-rgb),.1);animation:_ngcontent-%COMP%_slideDown .3s ease-out}.warning-message[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;max-width:600px;margin:0 auto;padding:12px 16px;border-radius:8px;background:var(--ion-color-danger-contrast);box-shadow:0 2px 8px rgba(var(--ion-color-danger-rgb),.2);border:1px solid rgba(var(--ion-color-danger-rgb),.2);color:var(--ion-color-danger-shade);font-weight:500;font-size:14px}.warning-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;flex-shrink:0}@keyframes _ngcontent-%COMP%_slideDown{0%{transform:translateY(-100%)}to{transform:translateY(0)}}"]}),m})()}}]);