{"version":3,"file":"src_app_platforms_super-admin_pages_login_login_page_ts.js","mappings":"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","sources":["./src/app/platforms/super-admin/pages/login/login.page.ts","./src/app/platforms/super-admin/pages/login/login.page.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport {\n  FormBuilder,\n  FormGroup,\n  Validators,\n  ReactiveFormsModule,\n} from '@angular/forms';\nimport { Router, RouterLink } from '@angular/router';\nimport { AuthService } from '../../../../core/services/auth.service';\nimport {\n  IonHeader,\n  IonToolbar,\n  IonTitle,\n  IonContent,\n  IonInput,\n  IonButton,\n  IonIcon,\n  IonItem,\n  IonList,\n  IonCard,\n  IonCardContent,\n  IonText,\n  IonNote,\n  IonSelect,\n  IonSelectOption,\n} from '@ionic/angular/standalone';\nimport { CommonModule } from '@angular/common';\n\n@Component({\n  selector: 'app-super-admin-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n  standalone: true,\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    RouterLink,\n    IonHeader,\n    IonToolbar,\n    IonTitle,\n    IonContent,\n    IonInput,\n    IonButton,\n    IonIcon,\n    IonItem,\n    IonList,\n    IonCard,\n    IonCardContent,\n    IonText,\n    IonNote,\n    IonSelect,\n    IonSelectOption,\n  ],\n})\nexport class SuperAdminLoginPage implements OnInit {\n  loginForm: FormGroup;\n  isLoading = false;\n\n  constructor(\n    private fb: FormBuilder,\n    private authService: AuthService,\n    private router: Router\n  ) {\n    this.loginForm = this.fb.group({\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', [Validators.required]],\n    });\n  }\n\n  ngOnInit() {\n  }\n\n\n  onSubmit() {\n    if (this.loginForm.valid) {\n      this.isLoading = true;\n\n      // Get form values\n      const loginData = {\n        email: this.loginForm.get('email')?.value,\n        password: this.loginForm.get('password')?.value,\n        securityQuestion: '', // No longer needed but kept for compatibility\n        securityAnswer: '', // No longer needed but kept for compatibility\n      };\n\n      // For super-admin login, we need to set up the proper role first\n      // Store the super-admin role so the AuthService can pick it up\n      localStorage.setItem(`pendingRole_${loginData.email}`, 'super-admin');\n      localStorage.setItem(`pendingUsername_${loginData.email}`, 'SuperAdmin');\n      localStorage.setItem(`pendingFirstName_${loginData.email}`, 'Super');\n      localStorage.setItem(`pendingLastName_${loginData.email}`, 'Admin');\n\n      // Use the centralized AuthService for login\n      this.authService.login(loginData).subscribe({\n        next: (response) => {\n          // Navigate to super-admin dashboard\n        this.router.navigate(['/super-admin/dashboard']);\n          this.isLoading = false;\n        },\n        error: (error) => {\n          console.error('Super admin login failed:', error);\n          this.isLoading = false;\n          \n          // Provide user feedback instead of just console logging\n          const errorMessage = error?.error?.message || error?.message || 'Login failed. Please check your credentials and try again.';\n          alert(errorMessage);\n        }\n      });\n    }\n  }\n}\n","<ion-header>\n  <ion-toolbar>\n    <ion-title>Super Admin Login</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n  <ion-card class=\"auth-card\">\n    <ion-card-content>\n      <div class=\"auth-header\">\n        <h1>Super Admin Access</h1>\n        <p>Login to manage the system</p>\n      </div>\n\n      <form [formGroup]=\"loginForm\" (ngSubmit)=\"onSubmit()\">\n        <ion-list class=\"auth-form\">\n          <ion-item>\n            <ion-input type=\"email\" formControlName=\"email\" placeholder=\"Email\"\n              [class.ion-invalid]=\"loginForm.get('email')?.touched && loginForm.get('email')?.errors\"></ion-input>\n            <ion-note slot=\"error\"\n              *ngIf=\"loginForm.get('email')?.touched && loginForm.get('email')?.errors?.['required']\">\n              Email is required\n            </ion-note>\n          </ion-item>\n\n          <ion-item>\n            <ion-input type=\"password\" formControlName=\"password\" placeholder=\"Password\"\n              [class.ion-invalid]=\"loginForm.get('password')?.touched && loginForm.get('password')?.errors\"></ion-input>\n            <ion-note slot=\"error\"\n              *ngIf=\"loginForm.get('password')?.touched && loginForm.get('password')?.errors?.['required']\">\n              Password is required\n            </ion-note>\n          </ion-item>\n\n\n        </ion-list>\n\n        <div class=\"auth-actions\">\n          <ion-button expand=\"block\" type=\"submit\" [disabled]=\"loginForm.invalid || isLoading\">\n            {{ isLoading ? 'Logging in...' : 'Login' }}\n          </ion-button>\n          \n        </div>\n\n        <div class=\"auth-footer\">\n          <div class=\"auth-link\">\n            <ion-text color=\"medium\">\n              Need to register as Super Admin?\n              <a [routerLink]=\"['/super-admin/register']\">Register</a>\n            </ion-text>\n          </div>\n        </div>\n      </form>\n    </ion-card-content>\n  </ion-card>\n</ion-content>"],"names":["Validators","ReactiveFormsModule","RouterLink","IonHeader","IonToolbar","IonTitle","IonContent","IonInput","IonButton","IonItem","IonList","IonCard","IonCardContent","IonText","IonNote","CommonModule","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","SuperAdminLoginPage","constructor","fb","authService","router","isLoading","loginForm","group","email","required","password","ngOnInit","onSubmit","valid","_this$loginForm$get","_this$loginForm$get2","loginData","get","value","securityQuestion","securityAnswer","localStorage","setItem","login","subscribe","next","response","navigate","error","_error$error","console","errorMessage","message","alert","ɵɵdirectiveInject","i1","FormBuilder","i2","AuthService","i3","Router","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","SuperAdminLoginPage_Template","rf","ctx","ɵɵlistener","SuperAdminLoginPage_Template_form_ngSubmit_12_listener","ɵɵelement","ɵɵtemplate","SuperAdminLoginPage_ion_note_16_Template","SuperAdminLoginPage_ion_note_19_Template","ɵɵadvance","ɵɵproperty","ɵɵclassProp","tmp_1_0","touched","errors","tmp_2_0","tmp_3_0","tmp_4_0","invalid","ɵɵtextInterpolate1","ɵɵpureFunction0","_c0","i4","NgIf","ɵNgNoValidate","NgControlStatus","NgControlStatusGroup","FormGroupDirective","FormControlName","styles"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}