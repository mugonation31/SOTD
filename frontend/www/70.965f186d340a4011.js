"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[70],{70:(E,p,l)=>{l.r(p),l.d(p,{DashboardPage:()=>k});var g=l(467),o=l(4738),u=l(177),v=l(5079),i=l(5873),e=l(4438);function y(a,d){if(1&a&&(e.j41(0,"ion-badge",37),e.EFF(1),e.k0s()),2&a){const r=e.XpG();e.R7$(),e.SpI(" In ",r.overview.specialEvents.daysUntil," days ")}}function f(a,d){if(1&a&&(e.j41(0,"ion-badge",9),e.EFF(1),e.k0s()),2&a){const r=e.XpG();e.R7$(),e.SpI(" ",r.overview.paymentStats.totalPending," Pending ")}}function F(a,d){if(1&a&&(e.j41(0,"p",28),e.EFF(1),e.k0s()),2&a){const r=e.XpG();e.R7$(),e.SpI(" Last outage: ",r.getTimeAgo(r.systemHealth.platform.lastOutage)," ")}}function _(a,d){if(1&a&&(e.j41(0,"ion-item"),e.nrm(1,"ion-icon",38),e.j41(2,"ion-label")(3,"h3"),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"date"),e.k0s()()()),2&a){const r=d.$implicit,n=e.XpG();e.R7$(),e.Y8G("name",n.getActivityIcon(r.type))("color",n.getActivityColor(r.type)),e.R7$(3),e.JRh(r.description),e.R7$(2),e.JRh(e.i5U(7,4,r.timestamp,"short"))}}let k=(()=>{var a;class d{constructor(){this.overview={totalGroups:15,activeGroups:12,totalUsers:156,activeUsers:143,totalPredictions:429,submittedPredictions:398,currentGameweek:15,nextDeadline:new Date("2024-03-23T11:30:00"),jokerStats:{firstJokerUsed:85,secondJokerUsed:32,totalEligible:143},specialEvents:{nextEvent:"boxing_day",daysUntil:45},paymentStats:{totalPaid:12,totalPending:3,totalGroups:15}},this.systemHealth={platform:{uptime:99.8,lastOutage:new Date("2024-03-18T09:15:00"),status:"healthy"},performance:{avgResponseTime:245,errorRate:.02,activeConnections:1247},dataSync:{footballApiStatus:"connected",lastSync:new Date("2024-03-20T14:30:00"),nextSync:new Date("2024-03-20T18:00:00"),failedSyncs:0},security:{failedLogins:3,suspiciousActivity:0,lastSecurityScan:new Date("2024-03-20T02:00:00"),vulnerabilities:0}},this.recentActivities=[{type:"group_created",description:'New group "Premier League Fanatics" created',timestamp:new Date("2024-03-20T14:30:00")},{type:"user_joined",description:'New user joined "Champions League Group"',timestamp:new Date("2024-03-20T13:15:00")},{type:"prediction_submitted",description:"Batch of 25 predictions submitted for GW15",timestamp:new Date("2024-03-20T12:45:00")},{type:"deadline_passed",description:"Gameweek 14 deadline passed, predictions locked",timestamp:new Date("2024-03-20T11:30:00")}],(0,v.a)({layersOutline:i.z8i,peopleOutline:i.wx_,footballOutline:i.gMr,timeOutline:i.CVk,starOutline:i.zV,calendarOutline:i.RXF,walletOutline:i.eF1,trophyOutline:i.NhD,alertCircleOutline:i.ndb,lockClosedOutline:i.eso,checkmarkCircleOutline:i.gz2,serverOutline:i.WMj,speedometerOutline:i.MrY,syncOutline:i.E97,shieldOutline:i.uLY,warningOutline:i.bO5,cloudOutline:i.ySl})}getTimeUntilDeadline(){const n=new Date,t=this.overview.nextDeadline.getTime()-n.getTime(),s=Math.floor(t/36e5);return s<0?"Deadline passed":s<24?`${s}h remaining`:`${Math.floor(s/24)}d ${s%24}h`}getActivityIcon(n){switch(n){case"group_created":return"layers-outline";case"user_joined":return"people-outline";case"prediction_submitted":return"football-outline";case"deadline_passed":return"time-outline";default:return"alert-circle-outline"}}getActivityColor(n){switch(n){case"group_created":return"primary";case"user_joined":return"secondary";case"prediction_submitted":return"success";case"deadline_passed":return"warning";default:return"medium"}}getNextEventDisplay(){return this.overview.specialEvents.nextEvent?"boxing_day"===this.overview.specialEvents.nextEvent?"Boxing Day Special":"Final Day Madness":"No upcoming events"}manageSpecialEvent(){return(0,g.A)(function*(){console.log("Managing special events")})()}manageJokers(){return(0,g.A)(function*(){console.log("Managing joker rules")})()}managePayments(){return(0,g.A)(function*(){console.log("Managing payments")})()}getSystemHealthStatusColor(n){switch(n){case"healthy":return"success";case"warning":return"warning";case"critical":return"danger";default:return"medium"}}getApiSyncStatusColor(n){switch(n){case"connected":return"success";case"disconnected":return"warning";case"error":return"danger";default:return"medium"}}getTimeAgo(n){const s=(new Date).getTime()-n.getTime(),c=Math.floor(s/6e4),m=Math.floor(c/60),h=Math.floor(m/24);return h>0?`${h}d ago`:m>0?`${m}h ago`:c>0?`${c}m ago`:"Just now"}getTimeUntil(n){const t=new Date,s=n.getTime()-t.getTime(),c=Math.floor(s/6e4),m=Math.floor(c/60);return m>0?`${m}h ${c%60}m`:c>0?`${c}m`:"Now"}}return(a=d).\u0275fac=function(n){return new(n||a)},a.\u0275cmp=e.VBU({type:a,selectors:[["app-dashboard"]],standalone:!0,features:[e.aNF],decls:183,vars:45,consts:[[1,"ion-padding"],["size","12","sizeMd","6","sizeLg","3"],[1,"stat-card"],[1,"stat-icon"],["name","layers-outline","color","primary"],[1,"stat-info"],["color","success"],["name","people-outline","color","secondary"],["name","football-outline","color","tertiary"],["color","warning"],["name","time-outline","color","danger"],["color","danger"],["size","12","sizeMd","4"],["name","star-outline","color","warning"],["name","calendar-outline","color","tertiary"],["color","tertiary",4,"ngIf"],["name","wallet-outline","color","success"],["color","warning",4,"ngIf"],["size","12"],[1,"health-card"],[1,"health-icon"],["name","server-outline",3,"color"],[1,"health-info"],[3,"color"],["class","health-detail",4,"ngIf"],["name","speedometer-outline","color","primary"],["color","secondary"],["name","sync-outline",3,"color"],[1,"health-detail"],["name","shield-outline",3,"color"],["size","12","sizeMd","6"],["expand","block",1,"ion-margin-bottom",3,"click"],["name","calendar-outline","slot","start"],["name","star-outline","slot","start"],["expand","block",3,"click"],["name","wallet-outline","slot","start"],[4,"ngFor","ngForOf"],["color","tertiary"],["slot","start",3,"name","color"]],template:function(n,t){1&n&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"System Overview"),e.k0s()()(),e.j41(4,"ion-content",0)(5,"ion-grid")(6,"ion-row")(7,"ion-col",1)(8,"ion-card",2)(9,"ion-card-content")(10,"div",3),e.nrm(11,"ion-icon",4),e.k0s(),e.j41(12,"div",5)(13,"h3"),e.EFF(14),e.k0s(),e.j41(15,"p"),e.EFF(16,"Total Groups"),e.k0s(),e.j41(17,"ion-badge",6),e.EFF(18),e.k0s()()()()(),e.j41(19,"ion-col",1)(20,"ion-card",2)(21,"ion-card-content")(22,"div",3),e.nrm(23,"ion-icon",7),e.k0s(),e.j41(24,"div",5)(25,"h3"),e.EFF(26),e.k0s(),e.j41(27,"p"),e.EFF(28,"Total Users"),e.k0s(),e.j41(29,"ion-badge",6),e.EFF(30),e.k0s()()()()(),e.j41(31,"ion-col",1)(32,"ion-card",2)(33,"ion-card-content")(34,"div",3),e.nrm(35,"ion-icon",8),e.k0s(),e.j41(36,"div",5)(37,"h3"),e.EFF(38),e.k0s(),e.j41(39,"p"),e.EFF(40,"Current Gameweek"),e.k0s(),e.j41(41,"ion-badge",9),e.EFF(42),e.k0s()()()()(),e.j41(43,"ion-col",1)(44,"ion-card",2)(45,"ion-card-content")(46,"div",3),e.nrm(47,"ion-icon",10),e.k0s(),e.j41(48,"div",5)(49,"h3"),e.EFF(50,"Next Deadline"),e.k0s(),e.j41(51,"p"),e.EFF(52),e.nI1(53,"date"),e.k0s(),e.j41(54,"ion-badge",11),e.EFF(55),e.k0s()()()()()(),e.j41(56,"ion-row")(57,"ion-col",12)(58,"ion-card",2)(59,"ion-card-content")(60,"div",3),e.nrm(61,"ion-icon",13),e.k0s(),e.j41(62,"div",5)(63,"h3"),e.EFF(64,"Joker Usage"),e.k0s(),e.j41(65,"p"),e.EFF(66),e.k0s(),e.j41(67,"p"),e.EFF(68),e.k0s()()()()(),e.j41(69,"ion-col",12)(70,"ion-card",2)(71,"ion-card-content")(72,"div",3),e.nrm(73,"ion-icon",14),e.k0s(),e.j41(74,"div",5)(75,"h3"),e.EFF(76,"Special Events"),e.k0s(),e.j41(77,"p"),e.EFF(78),e.k0s(),e.DNE(79,y,2,1,"ion-badge",15),e.k0s()()()(),e.j41(80,"ion-col",12)(81,"ion-card",2)(82,"ion-card-content")(83,"div",3),e.nrm(84,"ion-icon",16),e.k0s(),e.j41(85,"div",5)(86,"h3"),e.EFF(87,"Payment Status"),e.k0s(),e.j41(88,"p"),e.EFF(89),e.k0s(),e.DNE(90,f,2,1,"ion-badge",17),e.k0s()()()()()(),e.j41(91,"ion-grid")(92,"ion-row")(93,"ion-col",18)(94,"ion-card")(95,"ion-card-header")(96,"ion-card-title"),e.EFF(97,"System Health & Performance"),e.k0s()(),e.j41(98,"ion-card-content")(99,"ion-grid")(100,"ion-row")(101,"ion-col",1)(102,"div",19)(103,"div",20),e.nrm(104,"ion-icon",21),e.k0s(),e.j41(105,"div",22)(106,"h3"),e.EFF(107,"Platform Status"),e.k0s(),e.j41(108,"p"),e.EFF(109),e.k0s(),e.j41(110,"ion-badge",23),e.EFF(111),e.nI1(112,"titlecase"),e.k0s(),e.DNE(113,F,2,1,"p",24),e.k0s()()(),e.j41(114,"ion-col",1)(115,"div",19)(116,"div",20),e.nrm(117,"ion-icon",25),e.k0s(),e.j41(118,"div",22)(119,"h3"),e.EFF(120,"Performance"),e.k0s(),e.j41(121,"p"),e.EFF(122),e.k0s(),e.j41(123,"p"),e.EFF(124),e.k0s(),e.j41(125,"ion-badge",26),e.EFF(126),e.k0s()()()(),e.j41(127,"ion-col",1)(128,"div",19)(129,"div",20),e.nrm(130,"ion-icon",27),e.k0s(),e.j41(131,"div",22)(132,"h3"),e.EFF(133,"Data Sync"),e.k0s(),e.j41(134,"p"),e.EFF(135,"Football API"),e.k0s(),e.j41(136,"ion-badge",23),e.EFF(137),e.nI1(138,"titlecase"),e.k0s(),e.j41(139,"p",28),e.EFF(140),e.k0s(),e.j41(141,"p",28),e.EFF(142),e.k0s()()()(),e.j41(143,"ion-col",1)(144,"div",19)(145,"div",20),e.nrm(146,"ion-icon",29),e.k0s(),e.j41(147,"div",22)(148,"h3"),e.EFF(149,"Security"),e.k0s(),e.j41(150,"p"),e.EFF(151),e.k0s(),e.j41(152,"p"),e.EFF(153),e.k0s(),e.j41(154,"ion-badge",23),e.EFF(155),e.k0s(),e.j41(156,"p",28),e.EFF(157),e.k0s()()()()()()()()()()(),e.j41(158,"ion-grid")(159,"ion-row")(160,"ion-col",30)(161,"ion-card")(162,"ion-card-header")(163,"ion-card-title"),e.EFF(164,"Quick Actions"),e.k0s()(),e.j41(165,"ion-card-content")(166,"ion-button",31),e.bIt("click",function(){return t.manageSpecialEvent()}),e.nrm(167,"ion-icon",32),e.EFF(168," Manage Special Events "),e.k0s(),e.j41(169,"ion-button",31),e.bIt("click",function(){return t.manageJokers()}),e.nrm(170,"ion-icon",33),e.EFF(171," Manage Joker Rules "),e.k0s(),e.j41(172,"ion-button",34),e.bIt("click",function(){return t.managePayments()}),e.nrm(173,"ion-icon",35),e.EFF(174," Payment Overview "),e.k0s()()()(),e.j41(175,"ion-col",30)(176,"ion-card")(177,"ion-card-header")(178,"ion-card-title"),e.EFF(179,"Recent Activity"),e.k0s()(),e.j41(180,"ion-card-content")(181,"ion-list"),e.DNE(182,_,8,7,"ion-item",36),e.k0s()()()()()()()),2&n&&(e.R7$(14),e.JRh(t.overview.totalGroups),e.R7$(4),e.SpI("",t.overview.activeGroups," Active"),e.R7$(8),e.JRh(t.overview.totalUsers),e.R7$(4),e.SpI("",t.overview.activeUsers," Active"),e.R7$(8),e.SpI("Gameweek ",t.overview.currentGameweek,""),e.R7$(4),e.Lme(" ",t.overview.submittedPredictions,"/",t.overview.totalPredictions," Predictions "),e.R7$(10),e.JRh(e.i5U(53,38,t.overview.nextDeadline,"short")),e.R7$(3),e.JRh(t.getTimeUntilDeadline()),e.R7$(11),e.Lme(" First Joker: ",t.overview.jokerStats.firstJokerUsed,"/",t.overview.jokerStats.totalEligible," "),e.R7$(2),e.Lme(" Second Joker: ",t.overview.jokerStats.secondJokerUsed,"/",t.overview.jokerStats.totalEligible," "),e.R7$(10),e.JRh(t.getNextEventDisplay()),e.R7$(),e.Y8G("ngIf",t.overview.specialEvents.nextEvent),e.R7$(10),e.Lme(" ",t.overview.paymentStats.totalPaid,"/",t.overview.paymentStats.totalGroups," Groups Paid "),e.R7$(),e.Y8G("ngIf",t.overview.paymentStats.totalPending>0),e.R7$(14),e.Y8G("color",t.getSystemHealthStatusColor(t.systemHealth.platform.status)),e.R7$(5),e.SpI("",t.systemHealth.platform.uptime,"% Uptime"),e.R7$(),e.Y8G("color",t.getSystemHealthStatusColor(t.systemHealth.platform.status)),e.R7$(),e.SpI(" ",e.bMT(112,41,t.systemHealth.platform.status)," "),e.R7$(2),e.Y8G("ngIf",t.systemHealth.platform.lastOutage),e.R7$(9),e.SpI("",t.systemHealth.performance.avgResponseTime,"ms avg"),e.R7$(2),e.SpI("",t.systemHealth.performance.errorRate,"% error rate"),e.R7$(2),e.SpI(" ",t.systemHealth.performance.activeConnections," active "),e.R7$(4),e.Y8G("color",t.getApiSyncStatusColor(t.systemHealth.dataSync.footballApiStatus)),e.R7$(6),e.Y8G("color",t.getApiSyncStatusColor(t.systemHealth.dataSync.footballApiStatus)),e.R7$(),e.SpI(" ",e.bMT(138,43,t.systemHealth.dataSync.footballApiStatus)," "),e.R7$(3),e.SpI(" Last sync: ",t.getTimeAgo(t.systemHealth.dataSync.lastSync)," "),e.R7$(2),e.SpI(" Next sync: ",t.getTimeUntil(t.systemHealth.dataSync.nextSync)," "),e.R7$(4),e.Y8G("color",t.systemHealth.security.vulnerabilities>0?"danger":"success"),e.R7$(5),e.SpI("",t.systemHealth.security.failedLogins," failed logins"),e.R7$(2),e.SpI("",t.systemHealth.security.suspiciousActivity," suspicious activities"),e.R7$(),e.Y8G("color",t.systemHealth.security.vulnerabilities>0?"danger":"success"),e.R7$(),e.SpI(" ",t.systemHealth.security.vulnerabilities," vulnerabilities "),e.R7$(2),e.SpI(" Last scan: ",t.getTimeAgo(t.systemHealth.security.lastSecurityScan)," "),e.R7$(25),e.Y8G("ngForOf",t.recentActivities))},dependencies:[o.eU,o.ai,o.BC,o.W9,o.b_,o.ME,o.tN,o.I9,o.lO,o.ln,o.hU,o.iq,o.Jm,o.In,o.nf,o.uz,o.he,u.pM,u.bT,u.vh,u.PV],styles:[".stat-card[_ngcontent-%COMP%]{height:100%}.stat-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.stat-icon[_ngcontent-%COMP%]{font-size:2.5rem;padding:.5rem;border-radius:50%;background:var(--ion-color-light)}.stat-info[_ngcontent-%COMP%]{flex:1}.stat-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700}.stat-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.25rem 0;color:var(--ion-color-medium)}.health-card[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;padding:1rem;border-left:4px solid var(--ion-color-primary);background:var(--ion-color-light);border-radius:8px;margin-bottom:1rem;height:100%}.health-icon[_ngcontent-%COMP%]{font-size:2rem;padding:.75rem;border-radius:50%;background:var(--ion-color-step-50);display:flex;align-items:center;justify-content:center;min-width:3.5rem;height:3.5rem}.health-info[_ngcontent-%COMP%]{flex:1}.health-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.1rem;font-weight:600;color:var(--ion-color-dark)}.health-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.25rem 0;color:var(--ion-color-medium);font-size:.9rem}.health-detail[_ngcontent-%COMP%]{font-size:.8rem!important;color:var(--ion-color-medium-shade)!important;margin-top:.5rem!important}@media (max-width: 768px){.health-card[_ngcontent-%COMP%]{padding:.75rem}.health-icon[_ngcontent-%COMP%]{font-size:1.5rem;min-width:2.5rem;height:2.5rem}.health-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}}"]}),d})()}}]);