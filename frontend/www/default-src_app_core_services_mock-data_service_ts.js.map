{"version":3,"file":"default-src_app_core_services_mock-data_service_ts.js","mappings":"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","sources":["./src/app/core/services/mock-data.service.ts","./src/app/core/services/scoring.service.ts","./src/app/core/services/season.service.ts","./node_modules/rxjs/dist/esm/internal/firstValueFrom.js"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { ScoringService } from './scoring.service';\n\n// Core Data Interfaces\nexport interface Match {\n  id: number;\n  gameweek: number;\n  homeTeam: string;\n  awayTeam: string;\n  kickoff: string;\n  venue: string;\n  homeScore?: number | null;\n  awayScore?: number | null;\n  liveScore?: {\n    home: number;\n    away: number;\n    isLive: boolean;\n    minute: number;\n    additionalTime?: number;\n  };\n  finalScore?: {\n    home: number;\n    away: number;\n  };\n  status: 'scheduled' | 'live' | 'finished';\n}\n\nexport interface Prediction {\n  id: number;\n  gameweek: number;\n  match: Match;\n  prediction: {\n    home: number;\n    away: number;\n  };\n  points?: number;\n  status: 'pending' | 'correct' | 'incorrect';\n}\n\nexport interface GameWeek {\n  number: number;\n  isSpecial: boolean;\n  specialType?: string;\n  status: 'pending' | 'active' | 'completed';\n  deadline: Date;\n  matches: Match[];\n}\n\nexport interface PlayerPrediction {\n  playerName: string;\n  avatar?: string;\n  totalPoints: number;\n  jokerUsed: boolean;\n  predictions: PredictionWithResult[];\n  isCurrentUser?: boolean;\n}\n\nexport interface PredictionWithResult extends Match {\n  points?: number;\n  isCorrectScore?: boolean;\n  isCorrectResult?: boolean;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MockDataService {\n  private readonly STORAGE_KEYS = {\n    PLAYER_PREDICTIONS: 'playerPredictions',\n    HISTORICAL_PREDICTIONS: 'historicalPredictions',\n    HISTORICAL_MATCHES: 'historicalMatches',\n    GROUP_ADMIN_PREDICTIONS: 'groupAdminPredictions'\n  };\n\n  // Current season data\n  private currentGameweek = 15;\n  private currentSeason = '2023-24';\n  \n  // Reactive subjects for real-time updates\n  private predictionsSubject = new BehaviorSubject<Prediction[]>([]);\n  private gameweeksSubject = new BehaviorSubject<GameWeek[]>([]);\n\n  constructor(private scoringService: ScoringService) {\n    this.initializeMockData();\n  }\n\n  // ====================================\n  // ðŸ”„ SUPABASE INTEGRATION POINTS\n  // ====================================\n  // When ready to connect Supabase, replace these methods:\n  // - getMatchesForGameweek() -> supabase.from('matches').select()\n  // - savePredictions() -> supabase.from('predictions').upsert()\n  // - getPlayerPredictions() -> supabase.from('predictions').select()\n  // - updateMatchResults() -> supabase.from('matches').update()\n\n  /**\n   * Get current gameweek number\n   */\n  getCurrentGameweek(): number {\n    return this.currentGameweek;\n  }\n\n  /**\n   * Get matches for a specific gameweek\n   */\n  getMatchesForGameweek(gameweek: number): Match[] {\n    const gameweekData = this.getGameweekData(gameweek);\n    return gameweekData ? gameweekData.matches : [];\n  }\n\n  /**\n   * Get current gameweek data\n   */\n  getCurrentGameweekData(): GameWeek {\n    return this.getGameweekData(this.currentGameweek) || this.createEmptyGameweek(this.currentGameweek);\n  }\n\n  /**\n   * Get historical gameweeks with data\n   */\n  getAvailableHistoricalGameweeks(): number[] {\n    const historical = this.getStoredData(this.STORAGE_KEYS.HISTORICAL_PREDICTIONS);\n    const gameweeks = historical.map((pred: any) => Number(pred.gameweek));\n    return Array.from(new Set(gameweeks)).sort((a, b) => b - a);\n  }\n\n  /**\n   * Get player predictions for current gameweek\n   */\n  getPlayerPredictions(gameweek?: number): Prediction[] {\n    const targetGameweek = gameweek || this.currentGameweek;\n    const stored = this.getStoredData(this.STORAGE_KEYS.PLAYER_PREDICTIONS);\n    const gameweekData = stored.find((submission: any) => submission.gameweek === targetGameweek);\n    return gameweekData ? gameweekData.predictions : [];\n  }\n\n  /**\n   * Save player predictions\n   */\n  savePredictions(predictions: Prediction[]): void {\n    if (predictions.length === 0) return;\n\n    const gameweek = predictions[0].gameweek;\n    const stored = this.getStoredData(this.STORAGE_KEYS.PLAYER_PREDICTIONS);\n    \n    // Remove existing predictions for this gameweek\n    const filtered = stored.filter((submission: any) => submission.gameweek !== gameweek);\n    \n    // Add new predictions\n    filtered.push({\n      gameweek,\n      predictions,\n      submittedAt: new Date().toISOString()\n    });\n\n    this.setStoredData(this.STORAGE_KEYS.PLAYER_PREDICTIONS, filtered);\n    this.predictionsSubject.next(predictions);\n  }\n\n  /**\n   * Get historical predictions\n   */\n  getHistoricalPredictions(gameweek: number): Prediction[] {\n    const historical = this.getStoredData(this.STORAGE_KEYS.HISTORICAL_PREDICTIONS);\n    const gameweekData = historical.find((pred: any) => pred.gameweek === gameweek);\n    \n    if (!gameweekData) return [];\n\n    // Calculate points and status for historical predictions\n    return gameweekData.predictions.map((pred: any) => {\n      if (pred.match.finalScore) {\n        const isCorrect = \n          pred.prediction.home === pred.match.finalScore.home &&\n          pred.prediction.away === pred.match.finalScore.away;\n        \n        return {\n          ...pred,\n          points: this.scoringService.calculatePoints([{\n            prediction: pred.prediction,\n            actual: pred.match.finalScore,\n            isJokerRound: false\n          }]),\n          status: isCorrect ? 'correct' : 'incorrect'\n        };\n      }\n      return pred;\n    });\n  }\n\n  /**\n   * Get all group admin predictions for a gameweek\n   */\n  getGroupAdminPredictions(gameweek: number): PlayerPrediction[] {\n    // This would come from Supabase in real implementation\n    return this.generateSampleGroupPredictions(gameweek);\n  }\n\n  /**\n   * Update live scores for matches\n   */\n  updateLiveScores(): void {\n    // TODO: Replace with real API call to get live EPL scores\n    const currentPredictions = this.getPlayerPredictions();\n    const updatedPredictions = currentPredictions.map(pred => {\n      if (this.isMatchLive(pred.match)) {\n        pred.match.liveScore = this.generateMockLiveScore(pred.match);\n      }\n      return pred;\n    });\n\n    if (updatedPredictions.length > 0) {\n      this.savePredictions(updatedPredictions);\n    }\n  }\n\n  /**\n   * Check if match is currently live\n   */\n  isMatchLive(match: Match): boolean {\n    const kickoff = new Date(match.kickoff);\n    const now = new Date();\n    return now >= kickoff && now <= new Date(kickoff.getTime() + 2 * 60 * 60 * 1000);\n  }\n\n  /**\n   * Check if match is finished\n   */\n  isMatchFinished(match: Match): boolean {\n    const kickoff = new Date(match.kickoff);\n    const now = new Date();\n    return now > new Date(kickoff.getTime() + 2 * 60 * 60 * 1000);\n  }\n\n  /**\n   * Get match time display\n   */\n  getMatchTime(match: Match): string {\n    if (!match.liveScore?.isLive) return '';\n\n    if (this.isMatchFinished(match)) {\n      return 'FT';\n    }\n\n    const minute = match.liveScore.minute;\n    const additionalTime = match.liveScore.additionalTime;\n\n    if (minute === 45 && additionalTime) {\n      return `45+${additionalTime}'`;\n    }\n    if (minute === 90 && additionalTime) {\n      return `90+${additionalTime}'`;\n    }\n    return `${minute}'`;\n  }\n\n  // ====================================\n  // ðŸ—ï¸ PRIVATE HELPER METHODS\n  // ====================================\n\n  private initializeMockData(): void {\n    // Initialize historical predictions if not exists\n    if (!this.hasStoredData(this.STORAGE_KEYS.HISTORICAL_PREDICTIONS)) {\n      this.setStoredData(this.STORAGE_KEYS.HISTORICAL_PREDICTIONS, this.generateHistoricalPredictions());\n    }\n  }\n\n  private getGameweekData(gameweek: number): GameWeek | null {\n    const gameweeks = this.generateGameweeks();\n    return gameweeks.find(gw => gw.number === gameweek) || null;\n  }\n\n  private createEmptyGameweek(gameweek: number): GameWeek {\n    return {\n      number: gameweek,\n      isSpecial: false,\n      status: 'active',\n      deadline: new Date(Date.now() + 24 * 60 * 60 * 1000), // 24 hours from now\n      matches: []\n    };\n  }\n\n  private generateGameweeks(): GameWeek[] {\n    // Mock EPL gameweeks - in real app this comes from Supabase\n    return [\n      {\n        number: 15,\n        isSpecial: false,\n        status: 'active',\n        deadline: new Date('2024-01-20T11:30:00'),\n        matches: this.generateMatchesForGameweek(15)\n      },\n      {\n        number: 16,\n        isSpecial: true,\n        specialType: 'christmas',\n        status: 'pending',\n        deadline: new Date('2024-01-27T11:30:00'),\n        matches: this.generateMatchesForGameweek(16)\n      },\n      {\n        number: 14,\n        isSpecial: false,\n        status: 'completed',\n        deadline: new Date('2024-01-13T11:30:00'),\n        matches: this.generateMatchesForGameweek(14)\n      }\n    ];\n  }\n\n  private generateMatchesForGameweek(gameweek: number): Match[] {\n    const teams = this.getPremierLeagueTeams();\n    const venues = this.getPremierLeagueVenues();\n    \n    // Generate realistic fixture list for gameweek\n    const fixtures = this.getFixturesForGameweek(gameweek);\n    \n    return fixtures.map((fixture, index) => ({\n      id: gameweek * 100 + index + 1,\n      gameweek,\n      homeTeam: fixture.home,\n      awayTeam: fixture.away,\n      venue: venues[fixture.home] || 'Stadium',\n      kickoff: this.getKickoffTime(gameweek, index),\n      homeScore: null,\n      awayScore: null,\n      status: 'scheduled' as const\n    }));\n  }\n\n  private getPremierLeagueTeams(): string[] {\n    return [\n      'Arsenal', 'Aston Villa', 'Brighton', 'Burnley', 'Chelsea',\n      'Crystal Palace', 'Everton', 'Fulham', 'Liverpool', 'Luton Town',\n      'Manchester City', 'Manchester United', 'Newcastle', 'Nottingham Forest',\n      'Sheffield United', 'Tottenham', 'West Ham', 'Wolves', 'Bournemouth', 'Brentford'\n    ];\n  }\n\n  private getPremierLeagueVenues(): { [team: string]: string } {\n    return {\n      'Arsenal': 'Emirates Stadium',\n      'Aston Villa': 'Villa Park',\n      'Brighton': 'Amex Stadium',\n      'Burnley': 'Turf Moor',\n      'Chelsea': 'Stamford Bridge',\n      'Crystal Palace': 'Selhurst Park',\n      'Everton': 'Goodison Park',\n      'Fulham': 'Craven Cottage',\n      'Liverpool': 'Anfield',\n      'Luton Town': 'Kenilworth Road',\n      'Manchester City': 'Etihad Stadium',\n      'Manchester United': 'Old Trafford',\n      'Newcastle': 'St. James Park',\n      'Nottingham Forest': 'City Ground',\n      'Sheffield United': 'Bramall Lane',\n      'Tottenham': 'Tottenham Hotspur Stadium',\n      'West Ham': 'London Stadium',\n      'Wolves': 'Molineux',\n      'Bournemouth': 'Vitality Stadium',\n      'Brentford': 'Gtech Community Stadium'\n    };\n  }\n\n  private getFixturesForGameweek(gameweek: number): { home: string, away: string }[] {\n    // Mock fixture generation - in real app this comes from API\n    const fixtures = [\n      { home: 'Manchester United', away: 'Liverpool' },\n      { home: 'Arsenal', away: 'Chelsea' },\n      { home: 'Manchester City', away: 'Tottenham' },\n      { home: 'Newcastle', away: 'Aston Villa' },\n      { home: 'Brighton', away: 'Crystal Palace' },\n      { home: 'Brentford', away: 'Nottingham Forest' },\n      { home: 'Sheffield United', away: 'West Ham' },\n      { home: 'Bournemouth', away: 'Luton Town' },\n      { home: 'Wolves', away: 'Everton' },\n      { home: 'Burnley', away: 'Fulham' }\n    ];\n    \n    return fixtures;\n  }\n\n  private getKickoffTime(gameweek: number, matchIndex: number): string {\n    const baseDate = new Date('2024-01-20T15:00:00');\n    const matchDate = new Date(baseDate.getTime() + (gameweek - 15) * 7 * 24 * 60 * 60 * 1000);\n    \n    // Vary kickoff times realistically\n    const kickoffTimes = ['15:00', '17:30', '20:00'];\n    const timeIndex = matchIndex % kickoffTimes.length;\n    \n    const [hours, minutes] = kickoffTimes[timeIndex].split(':');\n    matchDate.setHours(parseInt(hours), parseInt(minutes));\n    \n    return matchDate.toISOString();\n  }\n\n  private generateMockLiveScore(match: Match): any {\n    return {\n      home: Math.floor(Math.random() * 4),\n      away: Math.floor(Math.random() * 4),\n      isLive: true,\n      minute: 45 + Math.floor(Math.random() * 45),\n      additionalTime: Math.random() > 0.7 ? Math.floor(Math.random() * 5) + 1 : undefined\n    };\n  }\n\n  private generateHistoricalPredictions(): any[] {\n    return [\n      {\n        gameweek: 14,\n        predictions: [\n          {\n            id: 1,\n            gameweek: 14,\n            match: {\n              homeTeam: 'Arsenal',\n              awayTeam: 'Brighton',\n              kickoff: '2024-01-17T19:45:00',\n              venue: 'Emirates Stadium',\n              finalScore: { home: 2, away: 1 }\n            },\n            prediction: { home: 2, away: 1 },\n            status: 'correct'\n          },\n          {\n            id: 2,\n            gameweek: 14,\n            match: {\n              homeTeam: 'Brentford',\n              awayTeam: 'Chelsea',\n              kickoff: '2024-01-17T20:00:00',\n              venue: 'Gtech Community Stadium',\n              finalScore: { home: 0, away: 2 }\n            },\n            prediction: { home: 1, away: 1 },\n            status: 'incorrect'\n          }\n        ]\n      }\n    ];\n  }\n\n  private generateSampleGroupPredictions(gameweek: number): PlayerPrediction[] {\n    return [\n      {\n        playerName: 'John Smith',\n        avatar: 'assets/avatars/john.jpg',\n        totalPoints: 156,\n        jokerUsed: true,\n        predictions: [\n          {\n            id: 1,\n            gameweek,\n            homeTeam: 'Manchester United',\n            awayTeam: 'Liverpool',\n            homeScore: 2,\n            awayScore: 1,\n            venue: 'Old Trafford',\n            kickoff: '2024-01-20T15:00:00',\n            points: 9,\n            isCorrectScore: true,\n            isCorrectResult: true,\n            status: 'finished'\n          }\n        ]\n      }\n    ];\n  }\n\n  private getStoredData(key: string): any[] {\n    const data = localStorage.getItem(key);\n    return data ? JSON.parse(data) : [];\n  }\n\n  private setStoredData(key: string, data: any): void {\n    localStorage.setItem(key, JSON.stringify(data));\n  }\n\n  private hasStoredData(key: string): boolean {\n    return localStorage.getItem(key) !== null;\n  }\n} ","import { Injectable } from '@angular/core';\r\nimport { SeasonService } from './season.service';\r\nimport { firstValueFrom } from 'rxjs';\r\n\r\nexport interface MatchResult {\r\n  homeScore: number;\r\n  awayScore: number;\r\n}\r\n\r\nexport interface PredictionResult {\r\n  prediction: MatchResult;\r\n  actual: MatchResult;\r\n  isJokerRound: boolean;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ScoringService {\r\n  constructor(private seasonService: SeasonService) {}\r\n\r\n  calculatePoints(predictions: PredictionResult[]): number {\r\n    let totalPoints = 0;\r\n    let correctScores = 0;\r\n\r\n    predictions.forEach((prediction) => {\r\n      // Calculate base points for correct result\r\n      const basePoints = this.calculateBasePoints(\r\n        prediction.prediction,\r\n        prediction.actual\r\n      );\r\n\r\n      // Add points for correct score\r\n      if (this.isCorrectScore(prediction.prediction, prediction.actual)) {\r\n        totalPoints += 3;\r\n        correctScores++;\r\n      }\r\n\r\n      // Add base points\r\n      totalPoints += basePoints;\r\n    });\r\n\r\n    // Add bonus for 3 perfect scores\r\n    if (correctScores === 3) {\r\n      totalPoints += 10;\r\n    }\r\n\r\n    // Double points if joker used\r\n    if (predictions[0]?.isJokerRound) {\r\n      totalPoints *= 2;\r\n    }\r\n\r\n    return totalPoints;\r\n  }\r\n\r\n  private calculateBasePoints(\r\n    prediction: MatchResult,\r\n    actual: MatchResult\r\n  ): number {\r\n    const predictionResult = this.getMatchResult(prediction);\r\n    const actualResult = this.getMatchResult(actual);\r\n\r\n    if (predictionResult !== actualResult) {\r\n      return 0;\r\n    }\r\n\r\n    switch (actualResult) {\r\n      case 'HOME_WIN':\r\n        return 3;\r\n      case 'AWAY_WIN':\r\n        return 4;\r\n      case 'DRAW':\r\n        return 6;\r\n      default:\r\n        return 0;\r\n    }\r\n  }\r\n\r\n  private getMatchResult(\r\n    result: MatchResult\r\n  ): 'HOME_WIN' | 'AWAY_WIN' | 'DRAW' {\r\n    if (result.homeScore > result.awayScore) return 'HOME_WIN';\r\n    if (result.homeScore < result.awayScore) return 'AWAY_WIN';\r\n    return 'DRAW';\r\n  }\r\n\r\n  private isCorrectScore(\r\n    prediction: MatchResult,\r\n    actual: MatchResult\r\n  ): boolean {\r\n    return (\r\n      prediction.homeScore === actual.homeScore &&\r\n      prediction.awayScore === actual.awayScore\r\n    );\r\n  }\r\n\r\n  isBoxingDay(date: Date): boolean {\r\n    return date.getMonth() === 11 && date.getDate() === 26;\r\n  }\r\n\r\n  async isFinalDay(date: Date): Promise<boolean> {\r\n    const seasonInfo = await firstValueFrom(this.seasonService.getSeasonInfo());\r\n    // Check if the date is the final day of the season\r\n    return (\r\n      date.toDateString() === new Date(seasonInfo.seasonEndDate).toDateString()\r\n    );\r\n  }\r\n\r\n  async shouldForceJokerUse(date: Date, jokersUsed: number): Promise<boolean> {\r\n    if (jokersUsed >= 2) return false;\r\n\r\n    const isBeforeBoxingDay = date < new Date('2023-12-26');\r\n    const isAfterBoxingDay = date > new Date('2023-12-26');\r\n    const isFinalRound = await this.isFinalDay(date);\r\n\r\n    // Force first joker before Boxing Day\r\n    if (jokersUsed === 0 && !isBeforeBoxingDay) return true;\r\n\r\n    // Force second joker before final round\r\n    if (jokersUsed === 1 && isAfterBoxingDay && !isFinalRound) return true;\r\n\r\n    return false;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\n\r\nexport interface SeasonInfo {\r\n  currentGameweek: number;\r\n  totalGameweeks: number;\r\n  seasonStartDate: Date;\r\n  seasonEndDate: Date;\r\n  isSeasonStarted: boolean;\r\n  isSeasonEnded: boolean;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class SeasonService {\r\n  private seasonInfo = new BehaviorSubject<SeasonInfo>({\r\n    currentGameweek: 0,\r\n    totalGameweeks: 38,\r\n    seasonStartDate: new Date('2024-08-10'),\r\n    seasonEndDate: new Date('2025-05-19'),\r\n    isSeasonStarted: false,\r\n    isSeasonEnded: false,\r\n  });\r\n\r\n  constructor() {\r\n    // Initialize season status\r\n    this.updateSeasonStatus();\r\n    // Update status every hour\r\n    setInterval(() => this.updateSeasonStatus(), 3600000);\r\n  }\r\n\r\n  private updateSeasonStatus() {\r\n    const now = new Date();\r\n    const currentInfo = this.seasonInfo.value;\r\n\r\n    const isSeasonStarted = now >= currentInfo.seasonStartDate;\r\n    const isSeasonEnded = now >= currentInfo.seasonEndDate;\r\n\r\n    // Calculate current gameweek based on season progress\r\n    let currentGameweek = 0;\r\n    if (isSeasonStarted && !isSeasonEnded) {\r\n      const totalDays =\r\n        (currentInfo.seasonEndDate.getTime() -\r\n          currentInfo.seasonStartDate.getTime()) /\r\n        (1000 * 60 * 60 * 24);\r\n      const daysElapsed =\r\n        (now.getTime() - currentInfo.seasonStartDate.getTime()) /\r\n        (1000 * 60 * 60 * 24);\r\n      currentGameweek =\r\n        Math.floor((daysElapsed / totalDays) * currentInfo.totalGameweeks) + 1;\r\n    } else if (isSeasonEnded) {\r\n      currentGameweek = currentInfo.totalGameweeks;\r\n    }\r\n\r\n    this.seasonInfo.next({\r\n      ...currentInfo,\r\n      currentGameweek,\r\n      isSeasonStarted,\r\n      isSeasonEnded,\r\n    });\r\n  }\r\n\r\n  getSeasonInfo(): Observable<SeasonInfo> {\r\n    return this.seasonInfo.asObservable();\r\n  }\r\n\r\n  getCurrentGameweek(): number {\r\n    return this.seasonInfo.value.currentGameweek;\r\n  }\r\n\r\n  isSeasonStarted(): boolean {\r\n    return this.seasonInfo.value.isSeasonStarted;\r\n  }\r\n\r\n  isSeasonEnded(): boolean {\r\n    return this.seasonInfo.value.isSeasonEnded;\r\n  }\r\n}\r\n","import { EmptyError } from './util/EmptyError';\nimport { SafeSubscriber } from './Subscriber';\nexport function firstValueFrom(source, config) {\n    const hasConfig = typeof config === 'object';\n    return new Promise((resolve, reject) => {\n        const subscriber = new SafeSubscriber({\n            next: (value) => {\n                resolve(value);\n                subscriber.unsubscribe();\n            },\n            error: reject,\n            complete: () => {\n                if (hasConfig) {\n                    resolve(config.defaultValue);\n                }\n                else {\n                    reject(new EmptyError());\n                }\n            },\n        });\n        source.subscribe(subscriber);\n    });\n}\n"],"names":["BehaviorSubject","MockDataService","constructor","scoringService","STORAGE_KEYS","PLAYER_PREDICTIONS","HISTORICAL_PREDICTIONS","HISTORICAL_MATCHES","GROUP_ADMIN_PREDICTIONS","currentGameweek","currentSeason","predictionsSubject","gameweeksSubject","initializeMockData","getCurrentGameweek","getMatchesForGameweek","gameweek","gameweekData","getGameweekData","matches","getCurrentGameweekData","createEmptyGameweek","getAvailableHistoricalGameweeks","historical","getStoredData","gameweeks","map","pred","Number","Array","from","Set","sort","a","b","getPlayerPredictions","targetGameweek","stored","find","submission","predictions","savePredictions","length","filtered","filter","push","submittedAt","Date","toISOString","setStoredData","next","getHistoricalPredictions","match","finalScore","isCorrect","prediction","home","away","points","calculatePoints","actual","isJokerRound","status","getGroupAdminPredictions","generateSampleGroupPredictions","updateLiveScores","currentPredictions","updatedPredictions","isMatchLive","liveScore","generateMockLiveScore","kickoff","now","getTime","isMatchFinished","getMatchTime","_match$liveScore","isLive","minute","additionalTime","hasStoredData","generateHistoricalPredictions","generateGameweeks","gw","number","isSpecial","deadline","generateMatchesForGameweek","specialType","teams","getPremierLeagueTeams","venues","getPremierLeagueVenues","fixtures","getFixturesForGameweek","fixture","index","id","homeTeam","awayTeam","venue","getKickoffTime","homeScore","awayScore","matchIndex","baseDate","matchDate","kickoffTimes","timeIndex","hours","minutes","split","setHours","parseInt","Math","floor","random","undefined","playerName","avatar","totalPoints","jokerUsed","isCorrectScore","isCorrectResult","key","data","localStorage","getItem","JSON","parse","setItem","stringify","i0","ÉµÉµinject","i1","ScoringService","factory","Éµfac","providedIn","firstValueFrom","seasonService","_predictions$","correctScores","forEach","basePoints","calculateBasePoints","predictionResult","getMatchResult","actualResult","result","isBoxingDay","date","getMonth","getDate","isFinalDay","_this","_asyncToGenerator","seasonInfo","getSeasonInfo","toDateString","seasonEndDate","shouldForceJokerUse","jokersUsed","_this2","isBeforeBoxingDay","isAfterBoxingDay","isFinalRound","SeasonService","totalGameweeks","seasonStartDate","isSeasonStarted","isSeasonEnded","updateSeasonStatus","setInterval","currentInfo","value","totalDays","daysElapsed","asObservable","EmptyError","SafeSubscriber","source","config","hasConfig","Promise","resolve","reject","subscriber","unsubscribe","error","complete","defaultValue","subscribe"],"sourceRoot":"webpack:///","x_google_ignoreList":[3]}