{"version":3,"file":"src_app_platforms_auth_pages_reset-password_reset-password_page_ts.js","mappings":"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","sources":["./src/app/core/services/toast.service.ts","./src/app/platforms/auth/pages/reset-password/reset-password.page.ts","./src/app/platforms/auth/pages/reset-password/reset-password.page.html"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { ToastController } from '@ionic/angular/standalone';\r\n\r\ntype ToastType = 'success' | 'error' | 'danger' | 'warning';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ToastService {\r\n  constructor(private toastController: ToastController) {}\r\n\r\n  async showToast(\r\n    message: string,\r\n    type: ToastType = 'success',\r\n    duration: number = 3000\r\n  ) {\r\n    // Convert 'error' type to 'danger' for Ionic color scheme\r\n    const color = type === 'error' ? 'danger' : type;\r\n\r\n    const toast = await this.toastController.create({\r\n      message,\r\n      color,\r\n      duration,\r\n      position: 'bottom',\r\n    });\r\n\r\n    await toast.present();\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\nimport {\n  IonHeader,\n  IonToolbar,\n  IonTitle,\n  IonContent,\n  IonInput,\n  IonButton,\n  IonIcon,\n  IonItem,\n  IonList,\n  IonCard,\n  IonCardContent,\n  IonText,\n  IonNote,\n} from '@ionic/angular/standalone';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { FormsModule } from '@angular/forms';\nimport { NgIf } from '@angular/common';\nimport { addIcons } from 'ionicons';\nimport {\n  eye,\n  eyeOff,\n  footballOutline\n} from 'ionicons/icons';\nimport { AuthService } from '../../../../core/services/auth.service';\nimport { ToastService } from '../../../../core/services/toast.service';\nimport { validatePassword, getPasswordErrors } from '../../../../core/utils/validation.utils';\n\ninterface ValidationErrors {\n  password: string;\n  confirmPassword: string;\n}\n\n@Component({\n  selector: 'app-reset-password',\n  templateUrl: './reset-password.page.html',\n  styleUrls: ['./reset-password.page.scss'],\n  standalone: true,\n  imports: [\n    IonHeader,\n    IonToolbar,\n    IonTitle,\n    IonContent,\n    IonInput,\n    IonButton,\n    IonIcon,\n    IonItem,\n    IonList,\n    IonCard,\n    IonCardContent,\n    IonText,\n    IonNote,\n    FormsModule,\n    NgIf,\n  ],\n})\nexport class ResetPasswordPage implements OnInit {\n  resetData = {\n    password: '',\n    confirmPassword: '',\n  };\n\n  validationErrors: ValidationErrors = {\n    password: '',\n    confirmPassword: '',\n  };\n\n  showPassword = false;\n  showConfirmPassword = false;\n  isLoading = false;\n  accessToken: string = '';\n  refreshToken: string = '';\n\n  get canSubmit(): boolean {\n    return Boolean(\n      this.resetData.password &&\n        this.resetData.confirmPassword &&\n        !this.validationErrors.password &&\n        !this.validationErrors.confirmPassword &&\n        this.accessToken\n    );\n  }\n\n  constructor(\n    private authService: AuthService,\n    private toastService: ToastService,\n    private router: Router,\n    private route: ActivatedRoute\n  ) {\n    addIcons({ footballOutline, eye, eyeOff });\n  }\n\n  ngOnInit() {\n\n    \n    // Clear any old test tokens\n    localStorage.removeItem('test_reset_token');\n    \n    // Log the full URL for debugging\n\n\n    \n    // Extract access token from URL query parameters\n    this.route.queryParams.subscribe(params => {\n\n\n      if (!this.accessToken) {\n        this.accessToken = params['code'] ||\n                          params['access_token'] ||\n                          params['token'] ||\n                          params['reset_token'] || \n                          '';\n\n        if (this.accessToken) {\n\n          // Store token in localStorage for service access\n          localStorage.setItem('current_reset_token', this.accessToken);\n          this.validationErrors.password = '';\n        } else {\n          console.error('❌ ResetPasswordPage: No access token found in query params');\n          this.validationErrors.password = 'Invalid reset link. Please request a new password reset.';\n        }\n      }\n    });\n    \n    // Also check for token in URL hash fragment (Supabase sometimes sends it there)\n    this.checkHashFragment();\n    \n    // Also check if token might be in the URL path itself\n    this.checkUrlPathForToken();\n    \n    // Also check the raw URL for any token-like strings\n    this.checkRawUrlForToken();\n    \n    // Also log the current route for debugging\n\n    \n    // Check if Supabase has auto-detected the session from URL fragment\n    this.checkSupabaseSession();\n  }\n\n  private async checkSupabaseSession() {\n    try {\n\n      \n      const success = await this.authService.setSessionFromFragment();\n      \n      if (success) {\n\n      } else {\n        console.error('❌ Failed to establish Supabase session');\n      }\n    } catch (err) {\n      console.error('❌ Error setting Supabase session:', err);\n    }\n  }\n\n  private checkUrlPathForToken() {\n    // Sometimes Supabase puts the token in the URL path\n    const pathSegments = this.router.url.split('/');\n\n    \n    // Look for segments that might be tokens (long strings)\n    for (const segment of pathSegments) {\n      if (segment.length > 50 && !this.accessToken) {\n\n        this.accessToken = segment;\n        // Store token in localStorage for service access\n        localStorage.setItem('current_reset_token', segment);\n        this.validationErrors.password = ''; // Clear any previous error\n        break;\n      }\n    }\n  }\n\n  private checkRawUrlForToken() {\n    // Check the raw URL for any token-like patterns\n    const fullUrl = window.location.href;\n\n    \n    // Look for common token patterns in the URL\n    const tokenPatterns = [\n      /[?&]token=([^&]+)/,\n      /[?&]access_token=([^&]+)/,\n      /[?&]code=([^&]+)/,\n      /[?&]reset_token=([^&]+)/,\n      /#access_token=([^&]+)/,\n      /#token=([^&]+)/\n    ];\n    \n    for (const pattern of tokenPatterns) {\n      const match = fullUrl.match(pattern);\n      if (match && match[1] && !this.accessToken) {\n\n        this.accessToken = decodeURIComponent(match[1]);\n        // Store token in localStorage for service access\n        localStorage.setItem('current_reset_token', decodeURIComponent(match[1]));\n        this.validationErrors.password = '';\n        break;\n      }\n    }\n  }\n\n  // TEMPORARY: For testing purposes\n  // Remove this method in production\n  setTestToken(token: string) {\n    localStorage.setItem('test_reset_token', token);\n    this.accessToken = token;\n    this.validationErrors.password = '';\n\n  }\n\n  private checkHashFragment() {\n    // Check if there's a hash fragment with the access token\n    const hash = window.location.hash;\n    if (hash) {\n\n      \n      // Parse the hash fragment for access_token\n      const hashParams = new URLSearchParams(hash.substring(1)); // Remove the # and parse\n      const hashToken = hashParams.get('access_token');\n      \n      if (hashToken) {\n\n        this.accessToken = hashToken;\n        \n        // Store token in localStorage for service access\n        localStorage.setItem('current_reset_token', hashToken);\n        \n        // Also extract refresh token if present\n        const refreshToken = hashParams.get('refresh_token');\n        if (refreshToken) {\n          this.refreshToken = refreshToken;\n\n        }\n        \n        this.validationErrors.password = ''; // Clear any previous error\n        return; // Exit early if we found the access token\n      }\n      \n      // Also check for other possible token parameter names in hash\n      const possibleTokens = ['code', 'token', 'reset_token', 'auth_token'];\n      for (const param of possibleTokens) {\n        const token = hashParams.get(param);\n        if (token) {\n\n        this.accessToken = token;\n        // Store token in localStorage for service access\n        localStorage.setItem('current_reset_token', token);\n        this.validationErrors.password = ''; // Clear any previous error\n        return;\n        }\n      }\n    } else {\n\n    }\n  }\n\n  validatePassword() {\n    if (!this.resetData.password) {\n      this.validationErrors.password = 'Password is required';\n    } else if (!validatePassword(this.resetData.password)) {\n      const errors = getPasswordErrors(this.resetData.password);\n      this.validationErrors.password = errors.join(', ');\n    } else {\n      this.validationErrors.password = '';\n    }\n  }\n\n  validateConfirmPassword() {\n    if (!this.resetData.confirmPassword) {\n      this.validationErrors.confirmPassword = 'Please confirm your password';\n    } else if (this.resetData.password !== this.resetData.confirmPassword) {\n      this.validationErrors.confirmPassword = 'Passwords do not match';\n    } else {\n      this.validationErrors.confirmPassword = '';\n    }\n  }\n\n  togglePasswordVisibility() {\n    this.showPassword = !this.showPassword;\n  }\n\n  toggleConfirmPasswordVisibility() {\n    this.showConfirmPassword = !this.showConfirmPassword;\n  }\n\n  async onSubmit() {\n\n    this.validatePassword();\n    this.validateConfirmPassword();\n\n    if (!this.canSubmit || this.isLoading) {\n\n      return;\n    }\n\n\n    this.isLoading = true;\n\n    // Enable Supabase auth for password reset\n    this.authService.enableSupabaseAuth();\n\n    try {\n      // Call AuthService.updatePasswordWithTokens with the new password\n      const success = await this.authService.updatePasswordWithTokens(this.resetData.password);\n      \n      if (success) {\n        // Clean up stored token\n        localStorage.removeItem('current_reset_token');\n        \n        // Show success message\n        await this.toastService.showToast('Password reset successful! You can now log in with your new password.', 'success');\n        \n        // Redirect to login page\n        this.router.navigate(['/auth/login']);\n      } else {\n        throw new Error('Password update failed');\n      }\n    } catch (error) {\n      console.error('Password reset error:', error);\n      \n      // Clean up stored token on error\n      localStorage.removeItem('current_reset_token');\n      \n      // Show error message\n      const errorMessage = (error as any)?.message || 'Failed to reset password. Please try again.';\n      await this.toastService.showToast(errorMessage, 'error');\n      \n      // Set validation error for user feedback\n      this.validationErrors.password = errorMessage;\n    } finally {\n      // Stop loading regardless of success or failure\n      this.isLoading = false;\n\n    }\n  }\n\n  navigateToWelcome() {\n    this.router.navigate(['/welcome']);\n  }\n}","<ion-header>\n  <ion-toolbar>\n    <div class=\"logo-container\" (click)=\"navigateToWelcome()\">\n      <ion-icon name=\"football-outline\" class=\"football-icon\"></ion-icon>\n      <div class=\"logo-text\">\n        <span class=\"logo-sotd\">SOTD</span>\n        <span class=\"logo-subtitle\">Predict 3</span>\n      </div>\n    </div>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n  <ion-card class=\"auth-card\">\n    <ion-card-content>\n      <div class=\"auth-header\">\n        <h1>Reset Password</h1>\n        <p>Enter your new password</p>\n      </div>\n\n      <form (ngSubmit)=\"onSubmit()\">\n        <ion-list class=\"auth-form\">\n          <ion-item>\n            <ion-input \n              placeholder=\"New Password\" \n              [(ngModel)]=\"resetData.password\" \n              (ngModelChange)=\"validatePassword()\"\n              [class.ion-invalid]=\"validationErrors.password\" \n              name=\"password\" \n              required \n              [type]=\"showPassword ? 'text' : 'password'\">\n            </ion-input>\n            <ion-button fill=\"clear\" slot=\"end\" (click)=\"togglePasswordVisibility()\">\n              <ion-icon [name]=\"showPassword ? 'eye-off' : 'eye'\"></ion-icon>\n            </ion-button>\n            <ion-note slot=\"error\" *ngIf=\"validationErrors.password\">\n              {{ validationErrors.password }}\n            </ion-note>\n          </ion-item>\n\n          <ion-item>\n            <ion-input \n              placeholder=\"Confirm New Password\" \n              [(ngModel)]=\"resetData.confirmPassword\" \n              (ngModelChange)=\"validateConfirmPassword()\"\n              [class.ion-invalid]=\"validationErrors.confirmPassword\" \n              name=\"confirmPassword\" \n              required \n              [type]=\"showConfirmPassword ? 'text' : 'password'\">\n            </ion-input>\n            <ion-button fill=\"clear\" slot=\"end\" (click)=\"toggleConfirmPasswordVisibility()\">\n              <ion-icon [name]=\"showConfirmPassword ? 'eye-off' : 'eye'\"></ion-icon>\n            </ion-button>\n            <ion-note slot=\"error\" *ngIf=\"validationErrors.confirmPassword\">\n              {{ validationErrors.confirmPassword }}\n            </ion-note>\n          </ion-item>\n        </ion-list>\n\n        <div class=\"auth-actions\">\n          <ion-button expand=\"block\" type=\"submit\" [disabled]=\"!canSubmit || isLoading\">\n            <span *ngIf=\"!isLoading\">Reset Password</span>\n            <span *ngIf=\"isLoading\">Resetting...</span>\n          </ion-button>\n        </div>\n      </form>\n    </ion-card-content>\n  </ion-card>\n</ion-content>"],"names":["ToastService","constructor","toastController","showToast","_x","_this","_asyncToGenerator","message","type","duration","color","toast","create","position","present","apply","arguments","i0","ɵɵinject","i1","ToastController","factory","ɵfac","providedIn","IonHeader","IonToolbar","IonContent","IonInput","IonButton","IonIcon","IonItem","IonList","IonCard","IonCardContent","IonNote","FormsModule","NgIf","addIcons","eye","eyeOff","footballOutline","validatePassword","getPasswordErrors","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r0","validationErrors","password","confirmPassword","ResetPasswordPage","canSubmit","Boolean","resetData","accessToken","authService","toastService","router","route","showPassword","showConfirmPassword","isLoading","refreshToken","ngOnInit","localStorage","removeItem","queryParams","subscribe","params","setItem","console","error","checkHashFragment","checkUrlPathForToken","checkRawUrlForToken","checkSupabaseSession","success","setSessionFromFragment","err","pathSegments","url","split","segment","length","fullUrl","window","location","href","tokenPatterns","pattern","match","decodeURIComponent","setTestToken","token","hash","hashParams","URLSearchParams","substring","hashToken","get","possibleTokens","param","errors","join","validateConfirmPassword","togglePasswordVisibility","toggleConfirmPasswordVisibility","onSubmit","_this2","enableSupabaseAuth","updatePasswordWithTokens","navigate","Error","errorMessage","navigateToWelcome","ɵɵdirectiveInject","AuthService","i2","i3","Router","ActivatedRoute","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","ResetPasswordPage_Template","rf","ctx","ɵɵlistener","ResetPasswordPage_Template_div_click_2_listener","ɵɵelement","ResetPasswordPage_Template_form_ngSubmit_17_listener","ɵɵtwoWayListener","ResetPasswordPage_Template_ion_input_ngModelChange_20_listener","$event","ɵɵtwoWayBindingSet","ResetPasswordPage_Template_ion_button_click_21_listener","ɵɵtemplate","ResetPasswordPage_ion_note_23_Template","ResetPasswordPage_Template_ion_input_ngModelChange_25_listener","ResetPasswordPage_Template_ion_button_click_26_listener","ResetPasswordPage_ion_note_28_Template","ResetPasswordPage_span_31_Template","ResetPasswordPage_span_32_Template","ɵɵclassProp","ɵɵtwoWayProperty","ɵɵproperty","i4","ɵNgNoValidate","NgControlStatus","NgControlStatusGroup","RequiredValidator","NgModel","NgForm","styles"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}