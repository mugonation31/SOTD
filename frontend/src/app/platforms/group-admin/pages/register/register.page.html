<ion-content class="ion-padding">
  <div class="flex-center">
    <ion-card class="auth-card">
      <ion-card-header>
        <ion-card-title>Group Admin Registration</ion-card-title>
      </ion-card-header>

      <ion-card-content>
        <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()">
          <!-- Personal Information -->
          <div class="form-section">
            <h3>Personal Information</h3>
            <ion-item>
              <ion-input
                type="text"
                formControlName="username"
                placeholder="Username (optional)"
                [clearInput]="true"
              ></ion-input>
            </ion-item>

            <ion-item>
              <ion-input
                type="text"
                formControlName="firstName"
                placeholder="First Name"
                [clearInput]="true"
              ></ion-input>
            </ion-item>

            <ion-item>
              <ion-input
                type="text"
                formControlName="lastName"
                placeholder="Surname"
                [clearInput]="true"
              ></ion-input>
            </ion-item>

            <ion-item>
              <ion-input
                type="email"
                formControlName="email"
                placeholder="Email Address"
                [readonly]="true"
              ></ion-input>
            </ion-item>

            <ion-item>
              <ion-input
                type="tel"
                formControlName="phone"
                placeholder="Phone Number"
                [clearInput]="true"
              ></ion-input>
            </ion-item>
          </div>

          <!-- Security Information -->
          <div class="form-section">
            <h3>Security Information</h3>
            <ion-item>
              <ion-input
                type="password"
                formControlName="password"
                placeholder="Password"
              ></ion-input>
            </ion-item>

            <!-- Password requirements feedback -->
            <div class="password-requirements" *ngIf="password?.touched">
              <p
                class="requirement"
                [class.met]="!passwordErrors?.minLength"
              >
                <ion-icon
                  [name]="
                    !passwordErrors?.minLength
                      ? 'checkmark-circle'
                      : 'close-circle'
                  "
                ></ion-icon>
                At least 8 characters
              </p>
              <p
                class="requirement"
                [class.met]="!passwordErrors?.uppercase"
              >
                <ion-icon
                  [name]="
                    !passwordErrors?.uppercase
                      ? 'checkmark-circle'
                      : 'close-circle'
                  "
                ></ion-icon>
                One uppercase letter
              </p>
              <p
                class="requirement"
                [class.met]="!passwordErrors?.lowercase"
              >
                <ion-icon
                  [name]="
                    !passwordErrors?.lowercase
                      ? 'checkmark-circle'
                      : 'close-circle'
                  "
                ></ion-icon>
                One lowercase letter
              </p>
              <p class="requirement" [class.met]="!passwordErrors?.number">
                <ion-icon
                  [name]="
                    !passwordErrors?.number
                      ? 'checkmark-circle'
                      : 'close-circle'
                  "
                ></ion-icon>
                One number
              </p>
              <p
                class="requirement"
                [class.met]="!passwordErrors?.specialChar"
              >
                <ion-icon
                  [name]="
                    !passwordErrors?.specialChar
                      ? 'checkmark-circle'
                      : 'close-circle'
                  "
                ></ion-icon>
                One special character
              </p>
            </div>

            <ion-item>
              <ion-input
                type="password"
                formControlName="confirmPassword"
                placeholder="Confirm Password"
              ></ion-input>
            </ion-item>

            <ion-item>
              <ion-select
                formControlName="securityQuestion1"
                placeholder="Select Security Question 1"
              >
                <ion-select-option value="birthCity">
                  What city were you born in?
                </ion-select-option>
                <ion-select-option value="firstPet">
                  What was your first pet's name?
                </ion-select-option>
                <ion-select-option value="motherMaiden">
                  What is your mother's maiden name?
                </ion-select-option>
              </ion-select>
            </ion-item>

            <ion-item>
              <ion-input
                type="text"
                formControlName="securityAnswer1"
                placeholder="Answer to Security Question 1"
                [clearInput]="true"
              ></ion-input>
            </ion-item>

            <ion-item>
              <ion-select
                formControlName="securityQuestion2"
                placeholder="Select Security Question 2"
              >
                <ion-select-option value="schoolName">
                  What was the name of your first school?
                </ion-select-option>
                <ion-select-option value="favoriteTeam">
                  What's your favorite football team?
                </ion-select-option>
                <ion-select-option value="childhoodHero">
                  Who was your childhood hero?
                </ion-select-option>
              </ion-select>
            </ion-item>

            <ion-item>
              <ion-input
                type="text"
                formControlName="securityAnswer2"
                placeholder="Answer to Security Question 2"
                [clearInput]="true"
              ></ion-input>
            </ion-item>
          </div>

          <!-- Player Preferences -->
          <div class="form-section">
            <h3>Player Preferences</h3>
            <ion-item>
              <ion-input
                type="text"
                formControlName="favoriteTeam"
                placeholder="Favorite Team"
                [clearInput]="true"
              ></ion-input>
            </ion-item>
          </div>

          <div class="ion-margin-top">
            <ion-button
              expand="block"
              type="submit"
              [disabled]="!registrationForm.valid || isLoading"
            >
              <ion-spinner *ngIf="isLoading"></ion-spinner>
              <span *ngIf="!isLoading">Complete Registration</span>
            </ion-button>
          </div>
        </form>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content> 